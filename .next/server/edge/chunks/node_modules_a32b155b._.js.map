{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/uncrypto/dist/crypto.web.mjs"],"sourcesContent":["const webCrypto = globalThis.crypto;\nconst subtle = webCrypto.subtle;\nconst randomUUID = () => {\n  return webCrypto.randomUUID();\n};\nconst getRandomValues = (array) => {\n  return webCrypto.getRandomValues(array);\n};\nconst _crypto = {\n  randomUUID,\n  getRandomValues,\n  subtle\n};\n\nexport { _crypto as default, getRandomValues, randomUUID, subtle };\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,YAAY,WAAW,MAAM;AACnC,MAAM,SAAS,UAAU,MAAM;AAC/B,MAAM,aAAa;IACjB,OAAO,UAAU,UAAU;AAC7B;AACA,MAAM,kBAAkB,CAAC;IACvB,OAAO,UAAU,eAAe,CAAC;AACnC;AACA,MAAM,UAAU;IACd;IACA;IACA;AACF","ignoreList":[0]}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/rou3/dist/index.mjs"],"sourcesContent":["const EmptyObject = /* @__PURE__ */ (() => {\n  const C = function() {\n  };\n  C.prototype = /* @__PURE__ */ Object.create(null);\n  return C;\n})();\n\nfunction createRouter() {\n  const ctx = {\n    root: { key: \"\" },\n    static: new EmptyObject()\n  };\n  return ctx;\n}\n\nfunction splitPath(path) {\n  return path.split(\"/\").filter(Boolean);\n}\nfunction getMatchParams(segments, paramsMap) {\n  const params = new EmptyObject();\n  for (const [index, name] of paramsMap) {\n    const segment = index < 0 ? segments.slice(-1 * index).join(\"/\") : segments[index];\n    if (typeof name === \"string\") {\n      params[name] = segment;\n    } else {\n      const match = segment.match(name);\n      if (match) {\n        for (const key in match.groups) {\n          params[key] = match.groups[key];\n        }\n      }\n    }\n  }\n  return params;\n}\n\nfunction addRoute(ctx, method = \"\", path, data) {\n  const segments = splitPath(path);\n  let node = ctx.root;\n  let _unnamedParamIndex = 0;\n  const paramsMap = [];\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    if (segment.startsWith(\"**\")) {\n      if (!node.wildcard) {\n        node.wildcard = { key: \"**\" };\n      }\n      node = node.wildcard;\n      paramsMap.push([\n        -i,\n        segment.split(\":\")[1] || \"_\",\n        segment.length === 2\n      ]);\n      break;\n    }\n    if (segment === \"*\" || segment.includes(\":\")) {\n      if (!node.param) {\n        node.param = { key: \"*\" };\n      }\n      node = node.param;\n      const isOptional = segment === \"*\";\n      paramsMap.push([\n        i,\n        isOptional ? `_${_unnamedParamIndex++}` : _getParamMatcher(segment),\n        isOptional\n      ]);\n      continue;\n    }\n    const child = node.static?.[segment];\n    if (child) {\n      node = child;\n    } else {\n      const staticNode = { key: segment };\n      if (!node.static) {\n        node.static = new EmptyObject();\n      }\n      node.static[segment] = staticNode;\n      node = staticNode;\n    }\n  }\n  const hasParams = paramsMap.length > 0;\n  if (!node.methods) {\n    node.methods = new EmptyObject();\n  }\n  if (!node.methods[method]) {\n    node.methods[method] = [];\n  }\n  node.methods[method].push({\n    data: data || null,\n    paramsMap: hasParams ? paramsMap : void 0\n  });\n  if (!hasParams) {\n    ctx.static[path] = node;\n  }\n}\nfunction _getParamMatcher(segment) {\n  if (!segment.includes(\":\", 1)) {\n    return segment.slice(1);\n  }\n  const regex = segment.replace(/:(\\w+)/g, (_, id) => `(?<${id}>\\\\w+)`);\n  return new RegExp(`^${regex}$`);\n}\n\nfunction findRoute(ctx, method = \"\", path, opts) {\n  if (path[path.length - 1] === \"/\") {\n    path = path.slice(0, -1);\n  }\n  const staticNode = ctx.static[path];\n  if (staticNode && staticNode.methods) {\n    const staticMatch = staticNode.methods[method] || staticNode.methods[\"\"];\n    if (staticMatch !== void 0) {\n      return staticMatch[0];\n    }\n  }\n  const segments = splitPath(path);\n  const match = _lookupTree(ctx, ctx.root, method, segments, 0)?.[0];\n  if (match === void 0) {\n    return;\n  }\n  if (opts?.params === false) {\n    return match;\n  }\n  return {\n    data: match.data,\n    params: match.paramsMap ? getMatchParams(segments, match.paramsMap) : void 0\n  };\n}\nfunction _lookupTree(ctx, node, method, segments, index) {\n  if (index === segments.length) {\n    if (node.methods) {\n      const match = node.methods[method] || node.methods[\"\"];\n      if (match) {\n        return match;\n      }\n    }\n    if (node.param && node.param.methods) {\n      const match = node.param.methods[method] || node.param.methods[\"\"];\n      if (match) {\n        const pMap = match[0].paramsMap;\n        if (pMap?.[pMap?.length - 1]?.[2]) {\n          return match;\n        }\n      }\n    }\n    if (node.wildcard && node.wildcard.methods) {\n      const match = node.wildcard.methods[method] || node.wildcard.methods[\"\"];\n      if (match) {\n        const pMap = match[0].paramsMap;\n        if (pMap?.[pMap?.length - 1]?.[2]) {\n          return match;\n        }\n      }\n    }\n    return void 0;\n  }\n  const segment = segments[index];\n  if (node.static) {\n    const staticChild = node.static[segment];\n    if (staticChild) {\n      const match = _lookupTree(ctx, staticChild, method, segments, index + 1);\n      if (match) {\n        return match;\n      }\n    }\n  }\n  if (node.param) {\n    const match = _lookupTree(ctx, node.param, method, segments, index + 1);\n    if (match) {\n      return match;\n    }\n  }\n  if (node.wildcard && node.wildcard.methods) {\n    return node.wildcard.methods[method] || node.wildcard.methods[\"\"];\n  }\n  return;\n}\n\nfunction removeRoute(ctx, method, path) {\n  const segments = splitPath(path);\n  return _remove(ctx.root, method || \"\", segments, 0);\n}\nfunction _remove(node, method, segments, index) {\n  if (index === segments.length) {\n    if (node.methods && method in node.methods) {\n      delete node.methods[method];\n      if (Object.keys(node.methods).length === 0) {\n        node.methods = void 0;\n      }\n    }\n    return;\n  }\n  const segment = segments[index];\n  if (segment === \"*\") {\n    if (node.param) {\n      _remove(node.param, method, segments, index + 1);\n      if (_isEmptyNode(node.param)) {\n        node.param = void 0;\n      }\n    }\n    return;\n  }\n  if (segment === \"**\") {\n    if (node.wildcard) {\n      _remove(node.wildcard, method, segments, index + 1);\n      if (_isEmptyNode(node.wildcard)) {\n        node.wildcard = void 0;\n      }\n    }\n    return;\n  }\n  const childNode = node.static?.[segment];\n  if (childNode) {\n    _remove(childNode, method, segments, index + 1);\n    if (_isEmptyNode(childNode)) {\n      delete node.static[segment];\n      if (Object.keys(node.static).length === 0) {\n        node.static = void 0;\n      }\n    }\n  }\n}\nfunction _isEmptyNode(node) {\n  return node.methods === void 0 && node.static === void 0 && node.param === void 0 && node.wildcard === void 0;\n}\n\nfunction findAllRoutes(ctx, method = \"\", path, opts) {\n  if (path[path.length - 1] === \"/\") {\n    path = path.slice(0, -1);\n  }\n  const segments = splitPath(path);\n  const matches = _findAll(ctx, ctx.root, method, segments, 0);\n  if (opts?.params === false) {\n    return matches;\n  }\n  return matches.map((m) => {\n    return {\n      data: m.data,\n      params: m.paramsMap ? getMatchParams(segments, m.paramsMap) : void 0\n    };\n  });\n}\nfunction _findAll(ctx, node, method, segments, index, matches = []) {\n  const segment = segments[index];\n  if (node.wildcard && node.wildcard.methods) {\n    const match = node.wildcard.methods[method] || node.wildcard.methods[\"\"];\n    if (match) {\n      matches.push(...match);\n    }\n  }\n  if (node.param) {\n    _findAll(ctx, node.param, method, segments, index + 1, matches);\n    if (index === segments.length && node.param.methods) {\n      const match = node.param.methods[method] || node.param.methods[\"\"];\n      if (match) {\n        matches.push(...match);\n      }\n    }\n  }\n  const staticChild = node.static?.[segment];\n  if (staticChild) {\n    _findAll(ctx, staticChild, method, segments, index + 1, matches);\n  }\n  if (index === segments.length && node.methods) {\n    const match = node.methods[method] || node.methods[\"\"];\n    if (match) {\n      matches.push(...match);\n    }\n  }\n  return matches;\n}\n\nexport { addRoute, createRouter, findAllRoutes, findRoute, removeRoute };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@better-auth/utils/dist/base64.mjs"],"sourcesContent":["function getAlphabet(urlSafe) {\n  return urlSafe ? \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\" : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n}\nfunction base64Encode(data, alphabet, padding) {\n  let result = \"\";\n  let buffer = 0;\n  let shift = 0;\n  for (const byte of data) {\n    buffer = buffer << 8 | byte;\n    shift += 8;\n    while (shift >= 6) {\n      shift -= 6;\n      result += alphabet[buffer >> shift & 63];\n    }\n  }\n  if (shift > 0) {\n    result += alphabet[buffer << 6 - shift & 63];\n  }\n  if (padding) {\n    const padCount = (4 - result.length % 4) % 4;\n    result += \"=\".repeat(padCount);\n  }\n  return result;\n}\nfunction base64Decode(data, alphabet) {\n  const decodeMap = /* @__PURE__ */ new Map();\n  for (let i = 0; i < alphabet.length; i++) {\n    decodeMap.set(alphabet[i], i);\n  }\n  const result = [];\n  let buffer = 0;\n  let bitsCollected = 0;\n  for (const char of data) {\n    if (char === \"=\")\n      break;\n    const value = decodeMap.get(char);\n    if (value === void 0) {\n      throw new Error(`Invalid Base64 character: ${char}`);\n    }\n    buffer = buffer << 6 | value;\n    bitsCollected += 6;\n    if (bitsCollected >= 8) {\n      bitsCollected -= 8;\n      result.push(buffer >> bitsCollected & 255);\n    }\n  }\n  return Uint8Array.from(result);\n}\nconst base64 = {\n  encode(data, options = {}) {\n    const alphabet = getAlphabet(false);\n    const buffer = typeof data === \"string\" ? new TextEncoder().encode(data) : new Uint8Array(data);\n    return base64Encode(buffer, alphabet, options.padding ?? true);\n  },\n  decode(data) {\n    if (typeof data !== \"string\") {\n      data = new TextDecoder().decode(data);\n    }\n    const urlSafe = data.includes(\"-\") || data.includes(\"_\");\n    const alphabet = getAlphabet(urlSafe);\n    return base64Decode(data, alphabet);\n  }\n};\nconst base64Url = {\n  encode(data, options = {}) {\n    const alphabet = getAlphabet(true);\n    const buffer = typeof data === \"string\" ? new TextEncoder().encode(data) : new Uint8Array(data);\n    return base64Encode(buffer, alphabet, options.padding ?? true);\n  },\n  decode(data) {\n    const urlSafe = data.includes(\"-\") || data.includes(\"_\");\n    const alphabet = getAlphabet(urlSafe);\n    return base64Decode(data, alphabet);\n  }\n};\n\nexport { base64, base64Url };\n"],"names":[],"mappings":";;;;AAAA,SAAS,YAAY,OAAO;IAC1B,OAAO,UAAU,qEAAqE;AACxF;AACA,SAAS,aAAa,IAAI,EAAE,QAAQ,EAAE,OAAO;IAC3C,IAAI,SAAS;IACb,IAAI,SAAS;IACb,IAAI,QAAQ;IACZ,KAAK,MAAM,QAAQ,KAAM;QACvB,SAAS,UAAU,IAAI;QACvB,SAAS;QACT,MAAO,SAAS,EAAG;YACjB,SAAS;YACT,UAAU,QAAQ,CAAC,UAAU,QAAQ,GAAG;QAC1C;IACF;IACA,IAAI,QAAQ,GAAG;QACb,UAAU,QAAQ,CAAC,UAAU,IAAI,QAAQ,GAAG;IAC9C;IACA,IAAI,SAAS;QACX,MAAM,WAAW,CAAC,IAAI,OAAO,MAAM,GAAG,CAAC,IAAI;QAC3C,UAAU,IAAI,MAAM,CAAC;IACvB;IACA,OAAO;AACT;AACA,SAAS,aAAa,IAAI,EAAE,QAAQ;IAClC,MAAM,YAAY,aAAa,GAAG,IAAI;IACtC,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,IAAK;QACxC,UAAU,GAAG,CAAC,QAAQ,CAAC,EAAE,EAAE;IAC7B;IACA,MAAM,SAAS,EAAE;IACjB,IAAI,SAAS;IACb,IAAI,gBAAgB;IACpB,KAAK,MAAM,QAAQ,KAAM;QACvB,IAAI,SAAS,KACX;QACF,MAAM,QAAQ,UAAU,GAAG,CAAC;QAC5B,IAAI,UAAU,KAAK,GAAG;YACpB,MAAM,IAAI,MAAM,CAAC,0BAA0B,EAAE,MAAM;QACrD;QACA,SAAS,UAAU,IAAI;QACvB,iBAAiB;QACjB,IAAI,iBAAiB,GAAG;YACtB,iBAAiB;YACjB,OAAO,IAAI,CAAC,UAAU,gBAAgB;QACxC;IACF;IACA,OAAO,WAAW,IAAI,CAAC;AACzB;AACA,MAAM,SAAS;IACb,QAAO,IAAI,EAAE,UAAU,CAAC,CAAC;QACvB,MAAM,WAAW,YAAY;QAC7B,MAAM,SAAS,OAAO,SAAS,WAAW,IAAI,cAAc,MAAM,CAAC,QAAQ,IAAI,WAAW;QAC1F,OAAO,aAAa,QAAQ,UAAU,QAAQ,OAAO,IAAI;IAC3D;IACA,QAAO,IAAI;QACT,IAAI,OAAO,SAAS,UAAU;YAC5B,OAAO,IAAI,cAAc,MAAM,CAAC;QAClC;QACA,MAAM,UAAU,KAAK,QAAQ,CAAC,QAAQ,KAAK,QAAQ,CAAC;QACpD,MAAM,WAAW,YAAY;QAC7B,OAAO,aAAa,MAAM;IAC5B;AACF;AACA,MAAM,YAAY;IAChB,QAAO,IAAI,EAAE,UAAU,CAAC,CAAC;QACvB,MAAM,WAAW,YAAY;QAC7B,MAAM,SAAS,OAAO,SAAS,WAAW,IAAI,cAAc,MAAM,CAAC,QAAQ,IAAI,WAAW;QAC1F,OAAO,aAAa,QAAQ,UAAU,QAAQ,OAAO,IAAI;IAC3D;IACA,QAAO,IAAI;QACT,MAAM,UAAU,KAAK,QAAQ,CAAC,QAAQ,KAAK,QAAQ,CAAC;QACpD,MAAM,WAAW,YAAY;QAC7B,OAAO,aAAa,MAAM;IAC5B;AACF","ignoreList":[0]}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@better-auth/utils/dist/hex.mjs"],"sourcesContent":["const hexadecimal = \"0123456789abcdef\";\nconst hex = {\n  encode: (data) => {\n    if (typeof data === \"string\") {\n      data = new TextEncoder().encode(data);\n    }\n    if (data.byteLength === 0) {\n      return \"\";\n    }\n    const buffer = new Uint8Array(data);\n    let result = \"\";\n    for (const byte of buffer) {\n      result += byte.toString(16).padStart(2, \"0\");\n    }\n    return result;\n  },\n  decode: (data) => {\n    if (!data) {\n      return \"\";\n    }\n    if (typeof data === \"string\") {\n      if (data.length % 2 !== 0) {\n        throw new Error(\"Invalid hexadecimal string\");\n      }\n      if (!new RegExp(`^[${hexadecimal}]+$`).test(data)) {\n        throw new Error(\"Invalid hexadecimal string\");\n      }\n      const result = new Uint8Array(data.length / 2);\n      for (let i = 0; i < data.length; i += 2) {\n        result[i / 2] = parseInt(data.slice(i, i + 2), 16);\n      }\n      return new TextDecoder().decode(result);\n    }\n    return new TextDecoder().decode(data);\n  }\n};\n\nexport { hex };\n"],"names":[],"mappings":";;;AAAA,MAAM,cAAc;AACpB,MAAM,MAAM;IACV,QAAQ,CAAC;QACP,IAAI,OAAO,SAAS,UAAU;YAC5B,OAAO,IAAI,cAAc,MAAM,CAAC;QAClC;QACA,IAAI,KAAK,UAAU,KAAK,GAAG;YACzB,OAAO;QACT;QACA,MAAM,SAAS,IAAI,WAAW;QAC9B,IAAI,SAAS;QACb,KAAK,MAAM,QAAQ,OAAQ;YACzB,UAAU,KAAK,QAAQ,CAAC,IAAI,QAAQ,CAAC,GAAG;QAC1C;QACA,OAAO;IACT;IACA,QAAQ,CAAC;QACP,IAAI,CAAC,MAAM;YACT,OAAO;QACT;QACA,IAAI,OAAO,SAAS,UAAU;YAC5B,IAAI,KAAK,MAAM,GAAG,MAAM,GAAG;gBACzB,MAAM,IAAI,MAAM;YAClB;YACA,IAAI,CAAC,IAAI,OAAO,CAAC,EAAE,EAAE,YAAY,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO;gBACjD,MAAM,IAAI,MAAM;YAClB;YACA,MAAM,SAAS,IAAI,WAAW,KAAK,MAAM,GAAG;YAC5C,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,KAAK,EAAG;gBACvC,MAAM,CAAC,IAAI,EAAE,GAAG,SAAS,KAAK,KAAK,CAAC,GAAG,IAAI,IAAI;YACjD;YACA,OAAO,IAAI,cAAc,MAAM,CAAC;QAClC;QACA,OAAO,IAAI,cAAc,MAAM,CAAC;IAClC;AACF","ignoreList":[0]}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@better-auth/utils/dist/hmac.mjs"],"sourcesContent":["import { subtle } from 'uncrypto';\nimport { hex } from './hex.mjs';\nimport { base64Url, base64 } from './base64.mjs';\n\nconst createHMAC = (algorithm = \"SHA-256\", encoding = \"none\") => {\n  const hmac = {\n    importKey: async (key, keyUsage) => {\n      return subtle.importKey(\n        \"raw\",\n        typeof key === \"string\" ? new TextEncoder().encode(key) : key,\n        { name: \"HMAC\", hash: { name: algorithm } },\n        false,\n        [keyUsage]\n      );\n    },\n    sign: async (hmacKey, data) => {\n      if (typeof hmacKey === \"string\") {\n        hmacKey = await hmac.importKey(hmacKey, \"sign\");\n      }\n      const signature = await subtle.sign(\n        \"HMAC\",\n        hmacKey,\n        typeof data === \"string\" ? new TextEncoder().encode(data) : data\n      );\n      if (encoding === \"hex\") {\n        return hex.encode(signature);\n      }\n      if (encoding === \"base64\" || encoding === \"base64url\" || encoding === \"base64urlnopad\") {\n        return base64Url.encode(signature, {\n          padding: encoding !== \"base64urlnopad\"\n        });\n      }\n      return signature;\n    },\n    verify: async (hmacKey, data, signature) => {\n      if (typeof hmacKey === \"string\") {\n        hmacKey = await hmac.importKey(hmacKey, \"verify\");\n      }\n      if (encoding === \"hex\") {\n        signature = hex.decode(signature);\n      }\n      if (encoding === \"base64\" || encoding === \"base64url\" || encoding === \"base64urlnopad\") {\n        signature = await base64.decode(signature);\n      }\n      return subtle.verify(\n        \"HMAC\",\n        hmacKey,\n        typeof signature === \"string\" ? new TextEncoder().encode(signature) : signature,\n        typeof data === \"string\" ? new TextEncoder().encode(data) : data\n      );\n    }\n  };\n  return hmac;\n};\n\nexport { createHMAC };\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEA,MAAM,aAAa,CAAC,YAAY,SAAS,EAAE,WAAW,MAAM;IAC1D,MAAM,OAAO;QACX,WAAW,OAAO,KAAK;YACrB,OAAO,0JAAA,CAAA,SAAM,CAAC,SAAS,CACrB,OACA,OAAO,QAAQ,WAAW,IAAI,cAAc,MAAM,CAAC,OAAO,KAC1D;gBAAE,MAAM;gBAAQ,MAAM;oBAAE,MAAM;gBAAU;YAAE,GAC1C,OACA;gBAAC;aAAS;QAEd;QACA,MAAM,OAAO,SAAS;YACpB,IAAI,OAAO,YAAY,UAAU;gBAC/B,UAAU,MAAM,KAAK,SAAS,CAAC,SAAS;YAC1C;YACA,MAAM,YAAY,MAAM,0JAAA,CAAA,SAAM,CAAC,IAAI,CACjC,QACA,SACA,OAAO,SAAS,WAAW,IAAI,cAAc,MAAM,CAAC,QAAQ;YAE9D,IAAI,aAAa,OAAO;gBACtB,OAAO,iKAAA,CAAA,MAAG,CAAC,MAAM,CAAC;YACpB;YACA,IAAI,aAAa,YAAY,aAAa,eAAe,aAAa,kBAAkB;gBACtF,OAAO,oKAAA,CAAA,YAAS,CAAC,MAAM,CAAC,WAAW;oBACjC,SAAS,aAAa;gBACxB;YACF;YACA,OAAO;QACT;QACA,QAAQ,OAAO,SAAS,MAAM;YAC5B,IAAI,OAAO,YAAY,UAAU;gBAC/B,UAAU,MAAM,KAAK,SAAS,CAAC,SAAS;YAC1C;YACA,IAAI,aAAa,OAAO;gBACtB,YAAY,iKAAA,CAAA,MAAG,CAAC,MAAM,CAAC;YACzB;YACA,IAAI,aAAa,YAAY,aAAa,eAAe,aAAa,kBAAkB;gBACtF,YAAY,MAAM,oKAAA,CAAA,SAAM,CAAC,MAAM,CAAC;YAClC;YACA,OAAO,0JAAA,CAAA,SAAM,CAAC,MAAM,CAClB,QACA,SACA,OAAO,cAAc,WAAW,IAAI,cAAc,MAAM,CAAC,aAAa,WACtE,OAAO,SAAS,WAAW,IAAI,cAAc,MAAM,CAAC,QAAQ;QAEhE;IACF;IACA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@better-auth/utils/dist/hash.mjs"],"sourcesContent":["import { subtle } from 'uncrypto';\nimport { base64Url, base64 } from './base64.mjs';\n\nfunction createHash(algorithm, encoding) {\n  return {\n    digest: async (input) => {\n      const encoder = new TextEncoder();\n      const data = typeof input === \"string\" ? encoder.encode(input) : input;\n      const hashBuffer = await subtle.digest(algorithm, data);\n      if (encoding === \"hex\") {\n        const hashArray = Array.from(new Uint8Array(hashBuffer));\n        const hashHex = hashArray.map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n        return hashHex;\n      }\n      if (encoding === \"base64\" || encoding === \"base64url\" || encoding === \"base64urlnopad\") {\n        if (encoding.includes(\"url\")) {\n          return base64Url.encode(hashBuffer, {\n            padding: encoding !== \"base64urlnopad\"\n          });\n        }\n        const hashBase64 = base64.encode(hashBuffer);\n        return hashBase64;\n      }\n      return hashBuffer;\n    }\n  };\n}\n\nexport { createHash };\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA,SAAS,WAAW,SAAS,EAAE,QAAQ;IACrC,OAAO;QACL,QAAQ,OAAO;YACb,MAAM,UAAU,IAAI;YACpB,MAAM,OAAO,OAAO,UAAU,WAAW,QAAQ,MAAM,CAAC,SAAS;YACjE,MAAM,aAAa,MAAM,0JAAA,CAAA,SAAM,CAAC,MAAM,CAAC,WAAW;YAClD,IAAI,aAAa,OAAO;gBACtB,MAAM,YAAY,MAAM,IAAI,CAAC,IAAI,WAAW;gBAC5C,MAAM,UAAU,UAAU,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ,CAAC,IAAI,QAAQ,CAAC,GAAG,MAAM,IAAI,CAAC;gBAC3E,OAAO;YACT;YACA,IAAI,aAAa,YAAY,aAAa,eAAe,aAAa,kBAAkB;gBACtF,IAAI,SAAS,QAAQ,CAAC,QAAQ;oBAC5B,OAAO,oKAAA,CAAA,YAAS,CAAC,MAAM,CAAC,YAAY;wBAClC,SAAS,aAAa;oBACxB;gBACF;gBACA,MAAM,aAAa,oKAAA,CAAA,SAAM,CAAC,MAAM,CAAC;gBACjC,OAAO;YACT;YACA,OAAO;QACT;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 545, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@better-auth/utils/dist/random.mjs"],"sourcesContent":["import { getRandomValues } from 'uncrypto';\n\nfunction expandAlphabet(alphabet) {\n  switch (alphabet) {\n    case \"a-z\":\n      return \"abcdefghijklmnopqrstuvwxyz\";\n    case \"A-Z\":\n      return \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    case \"0-9\":\n      return \"0123456789\";\n    case \"-_\":\n      return \"-_\";\n    default:\n      throw new Error(`Unsupported alphabet: ${alphabet}`);\n  }\n}\nfunction createRandomStringGenerator(...baseAlphabets) {\n  const baseCharSet = baseAlphabets.map(expandAlphabet).join(\"\");\n  if (baseCharSet.length === 0) {\n    throw new Error(\n      \"No valid characters provided for random string generation.\"\n    );\n  }\n  const baseCharSetLength = baseCharSet.length;\n  return (length, ...alphabets) => {\n    if (length <= 0) {\n      throw new Error(\"Length must be a positive integer.\");\n    }\n    let charSet = baseCharSet;\n    let charSetLength = baseCharSetLength;\n    if (alphabets.length > 0) {\n      charSet = alphabets.map(expandAlphabet).join(\"\");\n      charSetLength = charSet.length;\n    }\n    const charArray = new Uint8Array(length);\n    getRandomValues(charArray);\n    let result = \"\";\n    for (let i = 0; i < length; i++) {\n      const index = charArray[i] % charSetLength;\n      result += charSet[index];\n    }\n    return result;\n  };\n}\n\nexport { createRandomStringGenerator };\n"],"names":[],"mappings":";;;AAAA;;AAEA,SAAS,eAAe,QAAQ;IAC9B,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,UAAU;IACvD;AACF;AACA,SAAS,4BAA4B,GAAG,aAAa;IACnD,MAAM,cAAc,cAAc,GAAG,CAAC,gBAAgB,IAAI,CAAC;IAC3D,IAAI,YAAY,MAAM,KAAK,GAAG;QAC5B,MAAM,IAAI,MACR;IAEJ;IACA,MAAM,oBAAoB,YAAY,MAAM;IAC5C,OAAO,CAAC,QAAQ,GAAG;QACjB,IAAI,UAAU,GAAG;YACf,MAAM,IAAI,MAAM;QAClB;QACA,IAAI,UAAU;QACd,IAAI,gBAAgB;QACpB,IAAI,UAAU,MAAM,GAAG,GAAG;YACxB,UAAU,UAAU,GAAG,CAAC,gBAAgB,IAAI,CAAC;YAC7C,gBAAgB,QAAQ,MAAM;QAChC;QACA,MAAM,YAAY,IAAI,WAAW;QACjC,CAAA,GAAA,0JAAA,CAAA,kBAAe,AAAD,EAAE;QAChB,IAAI,SAAS;QACb,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,IAAK;YAC/B,MAAM,QAAQ,SAAS,CAAC,EAAE,GAAG;YAC7B,UAAU,OAAO,CAAC,MAAM;QAC1B;QACA,OAAO;IACT;AACF","ignoreList":[0]}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@better-auth/utils/dist/binary.mjs"],"sourcesContent":["const decoders = /* @__PURE__ */ new Map();\nconst encoder = new TextEncoder();\nconst binary = {\n  decode: (data, encoding = \"utf-8\") => {\n    if (!decoders.has(encoding)) {\n      decoders.set(encoding, new TextDecoder(encoding));\n    }\n    const decoder = decoders.get(encoding);\n    return decoder.decode(data);\n  },\n  encode: encoder.encode\n};\n\nexport { binary };\n"],"names":[],"mappings":";;;AAAA,MAAM,WAAW,aAAa,GAAG,IAAI;AACrC,MAAM,UAAU,IAAI;AACpB,MAAM,SAAS;IACb,QAAQ,CAAC,MAAM,WAAW,OAAO;QAC/B,IAAI,CAAC,SAAS,GAAG,CAAC,WAAW;YAC3B,SAAS,GAAG,CAAC,UAAU,IAAI,YAAY;QACzC;QACA,MAAM,UAAU,SAAS,GAAG,CAAC;QAC7B,OAAO,QAAQ,MAAM,CAAC;IACxB;IACA,QAAQ,QAAQ,MAAM;AACxB","ignoreList":[0]}},
    {"offset": {"line": 635, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@better-auth/utils/dist/base32.mjs"],"sourcesContent":["function getAlphabet(hex) {\n  return hex ? \"0123456789ABCDEFGHIJKLMNOPQRSTUV\" : \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\";\n}\nfunction createDecodeMap(alphabet) {\n  const decodeMap = /* @__PURE__ */ new Map();\n  for (let i = 0; i < alphabet.length; i++) {\n    decodeMap.set(alphabet[i], i);\n  }\n  return decodeMap;\n}\nfunction base32Encode(data, alphabet, padding) {\n  let result = \"\";\n  let buffer = 0;\n  let shift = 0;\n  for (const byte of data) {\n    buffer = buffer << 8 | byte;\n    shift += 8;\n    while (shift >= 5) {\n      shift -= 5;\n      result += alphabet[buffer >> shift & 31];\n    }\n  }\n  if (shift > 0) {\n    result += alphabet[buffer << 5 - shift & 31];\n  }\n  if (padding) {\n    const padCount = (8 - result.length % 8) % 8;\n    result += \"=\".repeat(padCount);\n  }\n  return result;\n}\nfunction base32Decode(data, alphabet) {\n  const decodeMap = createDecodeMap(alphabet);\n  const result = [];\n  let buffer = 0;\n  let bitsCollected = 0;\n  for (const char of data) {\n    if (char === \"=\")\n      break;\n    const value = decodeMap.get(char);\n    if (value === void 0) {\n      throw new Error(`Invalid Base32 character: ${char}`);\n    }\n    buffer = buffer << 5 | value;\n    bitsCollected += 5;\n    while (bitsCollected >= 8) {\n      bitsCollected -= 8;\n      result.push(buffer >> bitsCollected & 255);\n    }\n  }\n  return Uint8Array.from(result);\n}\nconst base32 = {\n  /**\n   * Encodes data into a Base32 string.\n   * @param data - The data to encode (ArrayBuffer, TypedArray, or string).\n   * @param options - Encoding options.\n   * @returns The Base32 encoded string.\n   */\n  encode(data, options = {}) {\n    const alphabet = getAlphabet(false);\n    const buffer = typeof data === \"string\" ? new TextEncoder().encode(data) : new Uint8Array(data);\n    return base32Encode(buffer, alphabet, options.padding ?? true);\n  },\n  /**\n   * Decodes a Base32 string into a Uint8Array.\n   * @param data - The Base32 encoded string or ArrayBuffer/TypedArray.\n   * @returns The decoded Uint8Array.\n   */\n  decode(data) {\n    if (typeof data !== \"string\") {\n      data = new TextDecoder().decode(data);\n    }\n    const alphabet = getAlphabet(false);\n    return base32Decode(data, alphabet);\n  }\n};\nconst base32hex = {\n  /**\n   * Encodes data into a Base32hex string.\n   * @param data - The data to encode (ArrayBuffer, TypedArray, or string).\n   * @param options - Encoding options.\n   * @returns The Base32hex encoded string.\n   */\n  encode(data, options = {}) {\n    const alphabet = getAlphabet(true);\n    const buffer = typeof data === \"string\" ? new TextEncoder().encode(data) : new Uint8Array(data);\n    return base32Encode(buffer, alphabet, options.padding ?? true);\n  },\n  /**\n   * Decodes a Base32hex string into a Uint8Array.\n   * @param data - The Base32hex encoded string.\n   * @returns The decoded Uint8Array.\n   */\n  decode(data) {\n    const alphabet = getAlphabet(true);\n    return base32Decode(data, alphabet);\n  }\n};\n\nexport { base32, base32hex };\n"],"names":[],"mappings":";;;;AAAA,SAAS,YAAY,GAAG;IACtB,OAAO,MAAM,qCAAqC;AACpD;AACA,SAAS,gBAAgB,QAAQ;IAC/B,MAAM,YAAY,aAAa,GAAG,IAAI;IACtC,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,IAAK;QACxC,UAAU,GAAG,CAAC,QAAQ,CAAC,EAAE,EAAE;IAC7B;IACA,OAAO;AACT;AACA,SAAS,aAAa,IAAI,EAAE,QAAQ,EAAE,OAAO;IAC3C,IAAI,SAAS;IACb,IAAI,SAAS;IACb,IAAI,QAAQ;IACZ,KAAK,MAAM,QAAQ,KAAM;QACvB,SAAS,UAAU,IAAI;QACvB,SAAS;QACT,MAAO,SAAS,EAAG;YACjB,SAAS;YACT,UAAU,QAAQ,CAAC,UAAU,QAAQ,GAAG;QAC1C;IACF;IACA,IAAI,QAAQ,GAAG;QACb,UAAU,QAAQ,CAAC,UAAU,IAAI,QAAQ,GAAG;IAC9C;IACA,IAAI,SAAS;QACX,MAAM,WAAW,CAAC,IAAI,OAAO,MAAM,GAAG,CAAC,IAAI;QAC3C,UAAU,IAAI,MAAM,CAAC;IACvB;IACA,OAAO;AACT;AACA,SAAS,aAAa,IAAI,EAAE,QAAQ;IAClC,MAAM,YAAY,gBAAgB;IAClC,MAAM,SAAS,EAAE;IACjB,IAAI,SAAS;IACb,IAAI,gBAAgB;IACpB,KAAK,MAAM,QAAQ,KAAM;QACvB,IAAI,SAAS,KACX;QACF,MAAM,QAAQ,UAAU,GAAG,CAAC;QAC5B,IAAI,UAAU,KAAK,GAAG;YACpB,MAAM,IAAI,MAAM,CAAC,0BAA0B,EAAE,MAAM;QACrD;QACA,SAAS,UAAU,IAAI;QACvB,iBAAiB;QACjB,MAAO,iBAAiB,EAAG;YACzB,iBAAiB;YACjB,OAAO,IAAI,CAAC,UAAU,gBAAgB;QACxC;IACF;IACA,OAAO,WAAW,IAAI,CAAC;AACzB;AACA,MAAM,SAAS;IACb;;;;;GAKC,GACD,QAAO,IAAI,EAAE,UAAU,CAAC,CAAC;QACvB,MAAM,WAAW,YAAY;QAC7B,MAAM,SAAS,OAAO,SAAS,WAAW,IAAI,cAAc,MAAM,CAAC,QAAQ,IAAI,WAAW;QAC1F,OAAO,aAAa,QAAQ,UAAU,QAAQ,OAAO,IAAI;IAC3D;IACA;;;;GAIC,GACD,QAAO,IAAI;QACT,IAAI,OAAO,SAAS,UAAU;YAC5B,OAAO,IAAI,cAAc,MAAM,CAAC;QAClC;QACA,MAAM,WAAW,YAAY;QAC7B,OAAO,aAAa,MAAM;IAC5B;AACF;AACA,MAAM,YAAY;IAChB;;;;;GAKC,GACD,QAAO,IAAI,EAAE,UAAU,CAAC,CAAC;QACvB,MAAM,WAAW,YAAY;QAC7B,MAAM,SAAS,OAAO,SAAS,WAAW,IAAI,cAAc,MAAM,CAAC,QAAQ,IAAI,WAAW;QAC1F,OAAO,aAAa,QAAQ,UAAU,QAAQ,OAAO,IAAI;IAC3D;IACA;;;;GAIC,GACD,QAAO,IAAI;QACT,MAAM,WAAW,YAAY;QAC7B,OAAO,aAAa,MAAM;IAC5B;AACF","ignoreList":[0]}},
    {"offset": {"line": 740, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@better-auth/utils/dist/otp.mjs"],"sourcesContent":["import { base32 } from './base32.mjs';\nimport { createHMAC } from './hmac.mjs';\nimport 'uncrypto';\nimport './hex.mjs';\nimport './base64.mjs';\n\nconst defaultPeriod = 30;\nconst defaultDigits = 6;\nasync function generateHOTP(secret, {\n  counter,\n  digits,\n  hash = \"SHA-1\"\n}) {\n  const _digits = digits ?? defaultDigits;\n  if (_digits < 1 || _digits > 8) {\n    throw new TypeError(\"Digits must be between 1 and 8\");\n  }\n  const buffer = new ArrayBuffer(8);\n  new DataView(buffer).setBigUint64(0, BigInt(counter), false);\n  const bytes = new Uint8Array(buffer);\n  const hmacResult = new Uint8Array(await createHMAC(hash).sign(secret, bytes));\n  const offset = hmacResult[hmacResult.length - 1] & 15;\n  const truncated = (hmacResult[offset] & 127) << 24 | (hmacResult[offset + 1] & 255) << 16 | (hmacResult[offset + 2] & 255) << 8 | hmacResult[offset + 3] & 255;\n  const otp = truncated % 10 ** _digits;\n  return otp.toString().padStart(_digits, \"0\");\n}\nasync function generateTOTP(secret, options) {\n  const digits = options?.digits ?? defaultDigits;\n  const period = options?.period ?? defaultPeriod;\n  const milliseconds = period * 1e3;\n  const counter = Math.floor(Date.now() / milliseconds);\n  return await generateHOTP(secret, { counter, digits, hash: options?.hash });\n}\nasync function verifyTOTP(otp, {\n  window = 1,\n  digits = defaultDigits,\n  secret,\n  period = defaultPeriod\n}) {\n  const milliseconds = period * 1e3;\n  const counter = Math.floor(Date.now() / milliseconds);\n  for (let i = -window; i <= window; i++) {\n    const generatedOTP = await generateHOTP(secret, {\n      counter: counter + i,\n      digits\n    });\n    if (otp === generatedOTP) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction generateQRCode({\n  issuer,\n  account,\n  secret,\n  digits = defaultDigits,\n  period = defaultPeriod\n}) {\n  const encodedIssuer = encodeURIComponent(issuer);\n  const encodedAccountName = encodeURIComponent(account);\n  const baseURI = `otpauth://totp/${encodedIssuer}:${encodedAccountName}`;\n  const params = new URLSearchParams({\n    secret: base32.encode(secret, {\n      padding: false\n    }),\n    issuer\n  });\n  if (digits !== void 0) {\n    params.set(\"digits\", digits.toString());\n  }\n  if (period !== void 0) {\n    params.set(\"period\", period.toString());\n  }\n  return `${baseURI}?${params.toString()}`;\n}\nconst createOTP = (secret, opts) => {\n  const digits = opts?.digits ?? defaultDigits;\n  const period = opts?.period ?? defaultPeriod;\n  return {\n    hotp: (counter) => generateHOTP(secret, { counter, digits }),\n    totp: () => generateTOTP(secret, { digits, period }),\n    verify: (otp, options) => verifyTOTP(otp, { secret, digits, period, ...options }),\n    url: (issuer, account) => generateQRCode({ issuer, account, secret, digits, period })\n  };\n};\n\nexport { createOTP };\n"],"names":[],"mappings":";;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,gBAAgB;AACtB,MAAM,gBAAgB;AACtB,eAAe,aAAa,MAAM,EAAE,EAClC,OAAO,EACP,MAAM,EACN,OAAO,OAAO,EACf;IACC,MAAM,UAAU,UAAU;IAC1B,IAAI,UAAU,KAAK,UAAU,GAAG;QAC9B,MAAM,IAAI,UAAU;IACtB;IACA,MAAM,SAAS,IAAI,YAAY;IAC/B,IAAI,SAAS,QAAQ,YAAY,CAAC,GAAG,OAAO,UAAU;IACtD,MAAM,QAAQ,IAAI,WAAW;IAC7B,MAAM,aAAa,IAAI,WAAW,MAAM,CAAA,GAAA,kKAAA,CAAA,aAAU,AAAD,EAAE,MAAM,IAAI,CAAC,QAAQ;IACtE,MAAM,SAAS,UAAU,CAAC,WAAW,MAAM,GAAG,EAAE,GAAG;IACnD,MAAM,YAAY,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,KAAK,KAAK,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,GAAG,KAAK,KAAK,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,GAAG,KAAK,IAAI,UAAU,CAAC,SAAS,EAAE,GAAG;IAC3J,MAAM,MAAM,YAAY,MAAM;IAC9B,OAAO,IAAI,QAAQ,GAAG,QAAQ,CAAC,SAAS;AAC1C;AACA,eAAe,aAAa,MAAM,EAAE,OAAO;IACzC,MAAM,SAAS,SAAS,UAAU;IAClC,MAAM,SAAS,SAAS,UAAU;IAClC,MAAM,eAAe,SAAS;IAC9B,MAAM,UAAU,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;IACxC,OAAO,MAAM,aAAa,QAAQ;QAAE;QAAS;QAAQ,MAAM,SAAS;IAAK;AAC3E;AACA,eAAe,WAAW,GAAG,EAAE,EAC7B,SAAS,CAAC,EACV,SAAS,aAAa,EACtB,MAAM,EACN,SAAS,aAAa,EACvB;IACC,MAAM,eAAe,SAAS;IAC9B,MAAM,UAAU,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;IACxC,IAAK,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,IAAK;QACtC,MAAM,eAAe,MAAM,aAAa,QAAQ;YAC9C,SAAS,UAAU;YACnB;QACF;QACA,IAAI,QAAQ,cAAc;YACxB,OAAO;QACT;IACF;IACA,OAAO;AACT;AACA,SAAS,eAAe,EACtB,MAAM,EACN,OAAO,EACP,MAAM,EACN,SAAS,aAAa,EACtB,SAAS,aAAa,EACvB;IACC,MAAM,gBAAgB,mBAAmB;IACzC,MAAM,qBAAqB,mBAAmB;IAC9C,MAAM,UAAU,CAAC,eAAe,EAAE,cAAc,CAAC,EAAE,oBAAoB;IACvE,MAAM,SAAS,IAAI,gBAAgB;QACjC,QAAQ,oKAAA,CAAA,SAAM,CAAC,MAAM,CAAC,QAAQ;YAC5B,SAAS;QACX;QACA;IACF;IACA,IAAI,WAAW,KAAK,GAAG;QACrB,OAAO,GAAG,CAAC,UAAU,OAAO,QAAQ;IACtC;IACA,IAAI,WAAW,KAAK,GAAG;QACrB,OAAO,GAAG,CAAC,UAAU,OAAO,QAAQ;IACtC;IACA,OAAO,GAAG,QAAQ,CAAC,EAAE,OAAO,QAAQ,IAAI;AAC1C;AACA,MAAM,YAAY,CAAC,QAAQ;IACzB,MAAM,SAAS,MAAM,UAAU;IAC/B,MAAM,SAAS,MAAM,UAAU;IAC/B,OAAO;QACL,MAAM,CAAC,UAAY,aAAa,QAAQ;gBAAE;gBAAS;YAAO;QAC1D,MAAM,IAAM,aAAa,QAAQ;gBAAE;gBAAQ;YAAO;QAClD,QAAQ,CAAC,KAAK,UAAY,WAAW,KAAK;gBAAE;gBAAQ;gBAAQ;gBAAQ,GAAG,OAAO;YAAC;QAC/E,KAAK,CAAC,QAAQ,UAAY,eAAe;gBAAE;gBAAQ;gBAAS;gBAAQ;gBAAQ;YAAO;IACrF;AACF","ignoreList":[0]}},
    {"offset": {"line": 845, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@better-fetch/fetch/src/error.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/plugins.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/retry.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/auth.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/utils.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/create-fetch/schema.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/create-fetch/index.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/url.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/fetch.ts"],"sourcesContent":["export class BetterFetchError extends Error {\n\tconstructor(\n\t\tpublic status: number,\n\t\tpublic statusText: string,\n\t\tpublic error: any,\n\t) {\n\t\tsuper(statusText || status.toString(), {\n\t\t\tcause: error,\n\t\t});\n\t}\n}\n","import type { StandardSchemaV1 } from \"./standard-schema\";\nimport { Schema } from \"./create-fetch\";\nimport { BetterFetchError } from \"./error\";\nimport type { BetterFetchOption } from \"./types\";\n\nexport type RequestContext<T extends Record<string, any> = any> = {\n\turl: URL | string;\n\theaders: Headers;\n\tbody: any;\n\tmethod: string;\n\tsignal: AbortSignal;\n} & BetterFetchOption<any, any, any, T>;\nexport type ResponseContext = {\n\tresponse: Response;\n\trequest: RequestContext;\n};\nexport type SuccessContext<Res = any> = {\n\tdata: Res;\n\tresponse: Response;\n\trequest: RequestContext;\n};\nexport type ErrorContext = {\n\tresponse: Response;\n\trequest: RequestContext;\n\terror: BetterFetchError & Record<string, any>;\n};\nexport interface FetchHooks<Res = any> {\n\t/**\n\t * a callback function that will be called when a\n\t * request is made.\n\t *\n\t * The returned context object will be reassigned to\n\t * the original request context.\n\t */\n\tonRequest?: <T extends Record<string, any>>(\n\t\tcontext: RequestContext<T>,\n\t) => Promise<RequestContext | void> | RequestContext | void;\n\t/**\n\t * a callback function that will be called when\n\t * response is received. This will be called before\n\t * the response is parsed and returned.\n\t *\n\t * The returned response will be reassigned to the\n\t * original response if it's changed.\n\t */\n\tonResponse?: (\n\t\tcontext: ResponseContext,\n\t) =>\n\t\t| Promise<Response | void | ResponseContext>\n\t\t| Response\n\t\t| ResponseContext\n\t\t| void;\n\t/**\n\t * a callback function that will be called when a\n\t * response is successful.\n\t */\n\tonSuccess?: (context: SuccessContext<Res>) => Promise<void> | void;\n\t/**\n\t * a callback function that will be called when an\n\t * error occurs.\n\t */\n\tonError?: (context: ErrorContext) => Promise<void> | void;\n\t/**\n\t * a callback function that will be called when a\n\t * request is retried.\n\t */\n\tonRetry?: (response: ResponseContext) => Promise<void> | void;\n\t/**\n\t * Options for the hooks\n\t */\n\thookOptions?: {\n\t\t/**\n\t\t * Clone the response\n\t\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Response/clone\n\t\t */\n\t\tcloneResponse?: boolean;\n\t};\n}\n\n/**\n * A plugin that returns an id and hooks\n */\nexport type BetterFetchPlugin = {\n\t/**\n\t * A unique id for the plugin\n\t */\n\tid: string;\n\t/**\n\t * A name for the plugin\n\t */\n\tname: string;\n\t/**\n\t * A description for the plugin\n\t */\n\tdescription?: string;\n\t/**\n\t * A version for the plugin\n\t */\n\tversion?: string;\n\t/**\n\t * Hooks for the plugin\n\t */\n\thooks?: FetchHooks;\n\t/**\n\t * A function that will be called when the plugin is\n\t * initialized. This will be called before the any\n\t * of the other internal functions.\n\t *\n\t * The returned options will be merged with the\n\t * original options.\n\t */\n\tinit?: (\n\t\turl: string,\n\t\toptions?: BetterFetchOption,\n\t) =>\n\t\t| Promise<{\n\t\t\t\turl: string;\n\t\t\t\toptions?: BetterFetchOption;\n\t\t  }>\n\t\t| {\n\t\t\t\turl: string;\n\t\t\t\toptions?: BetterFetchOption;\n\t\t  };\n\t/**\n\t * A schema for the plugin\n\t */\n\tschema?: Schema;\n\t/**\n\t * Additional options that can be passed to the plugin\n\t */\n\tgetOptions?: () => StandardSchemaV1;\n};\n\nexport const initializePlugins = async (\n\turl: string,\n\toptions?: BetterFetchOption,\n) => {\n\tlet opts = options || {};\n\tconst hooks: {\n\t\tonRequest: Array<FetchHooks[\"onRequest\"]>;\n\t\tonResponse: Array<FetchHooks[\"onResponse\"]>;\n\t\tonSuccess: Array<FetchHooks[\"onSuccess\"]>;\n\t\tonError: Array<FetchHooks[\"onError\"]>;\n\t\tonRetry: Array<FetchHooks[\"onRetry\"]>;\n\t} = {\n\t\tonRequest: [options?.onRequest],\n\t\tonResponse: [options?.onResponse],\n\t\tonSuccess: [options?.onSuccess],\n\t\tonError: [options?.onError],\n\t\tonRetry: [options?.onRetry],\n\t};\n\tif (!options || !options?.plugins) {\n\t\treturn {\n\t\t\turl,\n\t\t\toptions: opts,\n\t\t\thooks,\n\t\t};\n\t}\n\tfor (const plugin of options?.plugins || []) {\n\t\tif (plugin.init) {\n\t\t\tconst pluginRes = await plugin.init?.(url.toString(), options);\n\t\t\topts = pluginRes.options || opts;\n\t\t\turl = pluginRes.url;\n\t\t}\n\t\thooks.onRequest.push(plugin.hooks?.onRequest);\n\t\thooks.onResponse.push(plugin.hooks?.onResponse);\n\t\thooks.onSuccess.push(plugin.hooks?.onSuccess);\n\t\thooks.onError.push(plugin.hooks?.onError);\n\t\thooks.onRetry.push(plugin.hooks?.onRetry);\n\t}\n\n\treturn {\n\t\turl,\n\t\toptions: opts,\n\t\thooks,\n\t};\n};\n","export type RetryCondition = (\n\tresponse: Response | null,\n) => boolean | Promise<boolean>;\n\nexport type LinearRetry = {\n\ttype: \"linear\";\n\tattempts: number;\n\tdelay: number;\n\tshouldRetry?: RetryCondition;\n};\n\nexport type ExponentialRetry = {\n\ttype: \"exponential\";\n\tattempts: number;\n\tbaseDelay: number;\n\tmaxDelay: number;\n\tshouldRetry?: RetryCondition;\n};\n\nexport type RetryOptions = LinearRetry | ExponentialRetry | number;\n\nexport interface RetryStrategy {\n\tshouldAttemptRetry(\n\t\tattempt: number,\n\t\tresponse: Response | null,\n\t): Promise<boolean>;\n\tgetDelay(attempt: number): number;\n}\n\nclass LinearRetryStrategy implements RetryStrategy {\n\tconstructor(private options: LinearRetry) {}\n\n\tshouldAttemptRetry(\n\t\tattempt: number,\n\t\tresponse: Response | null,\n\t): Promise<boolean> {\n\t\tif (this.options.shouldRetry) {\n\t\t\treturn Promise.resolve(\n\t\t\t\tattempt < this.options.attempts && this.options.shouldRetry(response),\n\t\t\t);\n\t\t}\n\t\treturn Promise.resolve(attempt < this.options.attempts);\n\t}\n\n\tgetDelay(): number {\n\t\treturn this.options.delay;\n\t}\n}\n\nclass ExponentialRetryStrategy implements RetryStrategy {\n\tconstructor(private options: ExponentialRetry) {}\n\n\tshouldAttemptRetry(\n\t\tattempt: number,\n\t\tresponse: Response | null,\n\t): Promise<boolean> {\n\t\tif (this.options.shouldRetry) {\n\t\t\treturn Promise.resolve(\n\t\t\t\tattempt < this.options.attempts && this.options.shouldRetry(response),\n\t\t\t);\n\t\t}\n\t\treturn Promise.resolve(attempt < this.options.attempts);\n\t}\n\n\tgetDelay(attempt: number): number {\n\t\tconst delay = Math.min(\n\t\t\tthis.options.maxDelay,\n\t\t\tthis.options.baseDelay * 2 ** attempt,\n\t\t);\n\t\treturn delay;\n\t}\n}\n\nexport function createRetryStrategy(options: RetryOptions): RetryStrategy {\n\tif (typeof options === \"number\") {\n\t\treturn new LinearRetryStrategy({\n\t\t\ttype: \"linear\",\n\t\t\tattempts: options,\n\t\t\tdelay: 1000,\n\t\t});\n\t}\n\n\tswitch (options.type) {\n\t\tcase \"linear\":\n\t\t\treturn new LinearRetryStrategy(options);\n\t\tcase \"exponential\":\n\t\t\treturn new ExponentialRetryStrategy(options);\n\t\tdefault:\n\t\t\tthrow new Error(\"Invalid retry strategy\");\n\t}\n}\n","import type { BetterFetchOption } from \"./types\";\n\nexport type typeOrTypeReturning<T> = T | (() => T);\n/**\n * Bearer token authentication\n *\n * the value of `token` will be added to a header as\n * `auth: Bearer token`,\n */\nexport type Bearer = {\n\ttype: \"Bearer\";\n\ttoken: typeOrTypeReturning<string | undefined | Promise<string | undefined>>;\n};\n\n/**\n * Basic auth\n */\nexport type Basic = {\n\ttype: \"Basic\";\n\tusername: typeOrTypeReturning<string | undefined>;\n\tpassword: typeOrTypeReturning<string | undefined>;\n};\n\n/**\n * Custom auth\n *\n * @param prefix - prefix of the header\n * @param value - value of the header\n *\n * @example\n * ```ts\n * {\n *  type: \"Custom\",\n *  prefix: \"Token\",\n *  value: \"token\"\n * }\n * ```\n */\nexport type Custom = {\n\ttype: \"Custom\";\n\tprefix: typeOrTypeReturning<string | undefined>;\n\tvalue: typeOrTypeReturning<string | undefined>;\n};\n\nexport type Auth = Bearer | Basic | Custom;\n\nexport const getAuthHeader = async (options?: BetterFetchOption) => {\n\tconst headers: Record<string, string> = {};\n\tconst getValue = async (\n\t\tvalue: typeOrTypeReturning<\n\t\t\tstring | undefined | Promise<string | undefined>\n\t\t>,\n\t) => (typeof value === \"function\" ? await value() : value);\n\tif (options?.auth) {\n\t\tif (options.auth.type === \"Bearer\") {\n\t\t\tconst token = await getValue(options.auth.token);\n\t\t\tif (!token) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\theaders[\"authorization\"] = `Bearer ${token}`;\n\t\t} else if (options.auth.type === \"Basic\") {\n\t\t\tconst username = getValue(options.auth.username);\n\t\t\tconst password = getValue(options.auth.password);\n\t\t\tif (!username || !password) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\theaders[\"authorization\"] = `Basic ${btoa(`${username}:${password}`)}`;\n\t\t} else if (options.auth.type === \"Custom\") {\n\t\t\tconst value = getValue(options.auth.value);\n\t\t\tif (!value) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\theaders[\"authorization\"] = `${getValue(options.auth.prefix)} ${value}`;\n\t\t}\n\t}\n\treturn headers;\n};\n","import type { StandardSchemaV1 } from \"./standard-schema\";\nimport { getAuthHeader } from \"./auth\";\nimport { methods } from \"./create-fetch\";\nimport type { BetterFetchOption, FetchEsque } from \"./types\";\n\nconst JSON_RE = /^application\\/(?:[\\w!#$%&*.^`~-]*\\+)?json(;.+)?$/i;\n\nexport type ResponseType = \"json\" | \"text\" | \"blob\";\nexport function detectResponseType(request: Response): ResponseType {\n\tconst _contentType = request.headers.get(\"content-type\");\n\tconst textTypes = new Set([\n\t\t\"image/svg\",\n\t\t\"application/xml\",\n\t\t\"application/xhtml\",\n\t\t\"application/html\",\n\t]);\n\tif (!_contentType) {\n\t\treturn \"json\";\n\t}\n\tconst contentType = _contentType.split(\";\").shift() || \"\";\n\tif (JSON_RE.test(contentType)) {\n\t\treturn \"json\";\n\t}\n\tif (textTypes.has(contentType) || contentType.startsWith(\"text/\")) {\n\t\treturn \"text\";\n\t}\n\treturn \"blob\";\n}\n\nexport function isJSONParsable(value: any) {\n\ttry {\n\t\tJSON.parse(value);\n\t\treturn true;\n\t} catch (error) {\n\t\treturn false;\n\t}\n}\n\n//https://github.com/unjs/ofetch/blob/main/src/utils.ts\nexport function isJSONSerializable(value: any) {\n\tif (value === undefined) {\n\t\treturn false;\n\t}\n\tconst t = typeof value;\n\tif (t === \"string\" || t === \"number\" || t === \"boolean\" || t === null) {\n\t\treturn true;\n\t}\n\tif (t !== \"object\") {\n\t\treturn false;\n\t}\n\tif (Array.isArray(value)) {\n\t\treturn true;\n\t}\n\tif (value.buffer) {\n\t\treturn false;\n\t}\n\treturn (\n\t\t(value.constructor && value.constructor.name === \"Object\") ||\n\t\ttypeof value.toJSON === \"function\"\n\t);\n}\n\nexport function jsonParse(text: string) {\n\ttry {\n\t\treturn JSON.parse(text);\n\t} catch (error) {\n\t\treturn text;\n\t}\n}\n\nexport function isFunction(value: any): value is () => any {\n\treturn typeof value === \"function\";\n}\n\nexport function getFetch(options?: BetterFetchOption): FetchEsque {\n\tif (options?.customFetchImpl) {\n\t\treturn options.customFetchImpl;\n\t}\n\tif (typeof globalThis !== \"undefined\" && isFunction(globalThis.fetch)) {\n\t\treturn globalThis.fetch;\n\t}\n\tif (typeof window !== \"undefined\" && isFunction(window.fetch)) {\n\t\treturn window.fetch;\n\t}\n\tthrow new Error(\"No fetch implementation found\");\n}\n\nexport function isPayloadMethod(method?: string) {\n\tif (!method) {\n\t\treturn false;\n\t}\n\tconst payloadMethod = [\"POST\", \"PUT\", \"PATCH\", \"DELETE\"];\n\treturn payloadMethod.includes(method.toUpperCase());\n}\n\nexport function isRouteMethod(method?: string) {\n\tconst routeMethod = [\"GET\", \"POST\", \"PUT\", \"PATCH\", \"DELETE\"];\n\tif (!method) {\n\t\treturn false;\n\t}\n\treturn routeMethod.includes(method.toUpperCase());\n}\n\nexport async function getHeaders(opts?: BetterFetchOption) {\n\tconst headers = new Headers(opts?.headers);\n\tconst authHeader = await getAuthHeader(opts);\n\tfor (const [key, value] of Object.entries(authHeader || {})) {\n\t\theaders.set(key, value);\n\t}\n\tif (!headers.has(\"content-type\")) {\n\t\tconst t = detectContentType(opts?.body);\n\t\tif (t) {\n\t\t\theaders.set(\"content-type\", t);\n\t\t}\n\t}\n\n\treturn headers;\n}\n\nexport function getURL(url: string, options?: BetterFetchOption) {\n\tif (url.startsWith(\"@\")) {\n\t\tconst m = url.toString().split(\"@\")[1].split(\"/\")[0];\n\t\tif (methods.includes(m)) {\n\t\t\turl = url.replace(`@${m}/`, \"/\");\n\t\t}\n\t}\n\tlet _url: string | URL;\n\ttry {\n\t\tif (url.startsWith(\"http\")) {\n\t\t\t_url = url;\n\t\t} else {\n\t\t\tlet baseURL = options?.baseURL;\n\t\t\tif (baseURL && !baseURL?.endsWith(\"/\")) {\n\t\t\t\tbaseURL = baseURL + \"/\";\n\t\t\t}\n\t\t\tif (url.startsWith(\"/\")) {\n\t\t\t\t_url = new URL(url.substring(1), baseURL);\n\t\t\t} else {\n\t\t\t\t_url = new URL(url, options?.baseURL);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tif (e instanceof TypeError) {\n\t\t\tif (!options?.baseURL) {\n\t\t\t\tthrow TypeError(\n\t\t\t\t\t`Invalid URL ${url}. Are you passing in a relative url but not setting the baseURL?`,\n\t\t\t\t);\n\t\t\t}\n\t\t\tthrow TypeError(\n\t\t\t\t`Invalid URL ${url}. Please validate that you are passing the correct input.`,\n\t\t\t);\n\t\t}\n\t\tthrow e;\n\t}\n\n\t/**\n\t * Dynamic Parameters.\n\t */\n\tif (options?.params) {\n\t\tif (Array.isArray(options?.params)) {\n\t\t\tconst params = options?.params\n\t\t\t\t? Array.isArray(options.params)\n\t\t\t\t\t? `/${options.params.join(\"/\")}`\n\t\t\t\t\t: `/${Object.values(options.params).join(\"/\")}`\n\t\t\t\t: \"\";\n\t\t\t_url = _url.toString().split(\"/:\")[0];\n\t\t\t_url = `${_url.toString()}${params}`;\n\t\t} else {\n\t\t\tfor (const [key, value] of Object.entries(options?.params)) {\n\t\t\t\t_url = _url.toString().replace(`:${key}`, String(value));\n\t\t\t}\n\t\t}\n\t}\n\tconst __url = new URL(_url);\n\t/**\n\t * Query Parameters\n\t */\n\tconst queryParams = options?.query;\n\tif (queryParams) {\n\t\tfor (const [key, value] of Object.entries(queryParams)) {\n\t\t\t__url.searchParams.append(key, String(value));\n\t\t}\n\t}\n\treturn __url;\n}\n\nexport function detectContentType(body: any) {\n\tif (isJSONSerializable(body)) {\n\t\treturn \"application/json\";\n\t}\n\n\treturn null;\n}\n\nexport function getBody(options?: BetterFetchOption) {\n\tif (!options?.body) {\n\t\treturn null;\n\t}\n\tconst headers = new Headers(options?.headers);\n\tif (isJSONSerializable(options.body) && !headers.has(\"content-type\")) {\n\t\tfor (const [key, value] of Object.entries(options?.body)) {\n\t\t\tif (value instanceof Date) {\n\t\t\t\toptions.body[key] = value.toISOString();\n\t\t\t}\n\t\t}\n\t\treturn JSON.stringify(options.body);\n\t}\n\n\treturn options.body;\n}\n\nexport function getMethod(url: string, options?: BetterFetchOption) {\n\tif (options?.method) {\n\t\treturn options.method.toUpperCase();\n\t}\n\tif (url.startsWith(\"@\")) {\n\t\tconst pMethod = url.split(\"@\")[1]?.split(\"/\")[0];\n\t\tif (!methods.includes(pMethod)) {\n\t\t\treturn options?.body ? \"POST\" : \"GET\";\n\t\t}\n\t\treturn pMethod.toUpperCase();\n\t}\n\treturn options?.body ? \"POST\" : \"GET\";\n}\n\nexport function getTimeout(\n\toptions?: BetterFetchOption,\n\tcontroller?: AbortController,\n) {\n\tlet abortTimeout: ReturnType<typeof setTimeout> | undefined;\n\tif (!options?.signal && options?.timeout) {\n\t\tabortTimeout = setTimeout(() => controller?.abort(), options?.timeout);\n\t}\n\treturn {\n\t\tabortTimeout,\n\t\tclearTimeout: () => {\n\t\t\tif (abortTimeout) {\n\t\t\t\tclearTimeout(abortTimeout);\n\t\t\t}\n\t\t},\n\t};\n}\n\nexport function bodyParser(data: any, responseType: ResponseType) {\n\tif (responseType === \"json\") {\n\t\treturn JSON.parse(data);\n\t}\n\treturn data;\n}\n\nexport class ValidationError extends Error {\n\tpublic readonly issues: ReadonlyArray<StandardSchemaV1.Issue>;\n\n\tconstructor(issues: ReadonlyArray<StandardSchemaV1.Issue>, message?: string) {\n\t\t// Default message fallback in case one isn't supplied.\n\t\tsuper(message || JSON.stringify(issues, null, 2));\n\t\tthis.issues = issues;\n\n\t\t// Set the prototype explicitly to ensure that instanceof works correctly.\n\t\tObject.setPrototypeOf(this, ValidationError.prototype);\n\t}\n}\n\nexport async function parseStandardSchema<TSchema extends StandardSchemaV1>(\n\tschema: TSchema,\n\tinput: StandardSchemaV1.InferInput<TSchema>,\n): Promise<StandardSchemaV1.InferOutput<TSchema>> {\n\tlet result = await schema[\"~standard\"].validate(input);\n\n\tif (result.issues) {\n\t\tthrow new ValidationError(result.issues);\n\t}\n\treturn result.value;\n}\n","import type { StandardSchemaV1 } from \"../standard-schema\";\nimport type { StringLiteralUnion } from \"../type-utils\";\n\nexport type FetchSchema = {\n\tinput?: StandardSchemaV1;\n\toutput?: StandardSchemaV1;\n\tquery?: StandardSchemaV1;\n\tparams?: StandardSchemaV1<Record<string, unknown>> | undefined;\n\tmethod?: Methods;\n};\n\nexport type Methods = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\n\nexport const methods = [\"get\", \"post\", \"put\", \"patch\", \"delete\"];\n\ntype RouteKey = StringLiteralUnion<`@${Methods}/`>;\n\nexport type FetchSchemaRoutes = {\n\t[key in RouteKey]?: FetchSchema;\n};\n\nexport const createSchema = <\n\tF extends FetchSchemaRoutes,\n\tS extends SchemaConfig,\n>(\n\tschema: F,\n\tconfig?: S,\n) => {\n\treturn {\n\t\tschema: schema as F,\n\t\tconfig: config as S,\n\t};\n};\n\nexport type SchemaConfig = {\n\tstrict?: boolean;\n\t/**\n\t * A prefix that will be prepended when it's\n\t * calling the schema.\n\t *\n\t * NOTE: Make sure to handle converting\n\t * the prefix to the baseURL in the init\n\t * function if you you are defining for a\n\t * plugin.\n\t */\n\tprefix?: \"\" | (string & Record<never, never>);\n\t/**\n\t * The base url of the schema. By default it's the baseURL of the fetch instance.\n\t */\n\tbaseURL?: \"\" | (string & Record<never, never>);\n};\n\nexport type Schema = {\n\tschema: FetchSchemaRoutes;\n\tconfig: SchemaConfig;\n};\n","import { betterFetch } from \"../fetch\";\nimport { BetterFetchPlugin } from \"../plugins\";\nimport type { BetterFetchOption } from \"../types\";\nimport { parseStandardSchema } from \"../utils\";\nimport type { BetterFetch, CreateFetchOption } from \"./types\";\n\nexport const applySchemaPlugin = (config: CreateFetchOption) =>\n\t({\n\t\tid: \"apply-schema\",\n\t\tname: \"Apply Schema\",\n\t\tversion: \"1.0.0\",\n\t\tasync init(url, options) {\n\t\t\tconst schema =\n\t\t\t\tconfig.plugins?.find((plugin) =>\n\t\t\t\t\tplugin.schema?.config\n\t\t\t\t\t\t? url.startsWith(plugin.schema.config.baseURL || \"\") ||\n\t\t\t\t\t\t\turl.startsWith(plugin.schema.config.prefix || \"\")\n\t\t\t\t\t\t: false,\n\t\t\t\t)?.schema || config.schema;\n\t\t\tif (schema) {\n\t\t\t\tlet urlKey = url;\n\t\t\t\tif (schema.config?.prefix) {\n\t\t\t\t\tif (urlKey.startsWith(schema.config.prefix)) {\n\t\t\t\t\t\turlKey = urlKey.replace(schema.config.prefix, \"\");\n\t\t\t\t\t\tif (schema.config.baseURL) {\n\t\t\t\t\t\t\turl = url.replace(schema.config.prefix, schema.config.baseURL);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (schema.config?.baseURL) {\n\t\t\t\t\tif (urlKey.startsWith(schema.config.baseURL)) {\n\t\t\t\t\t\turlKey = urlKey.replace(schema.config.baseURL, \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst keySchema = schema.schema[urlKey];\n\t\t\t\tif (keySchema) {\n\t\t\t\t\tlet opts = {\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\tmethod: keySchema.method,\n\t\t\t\t\t\toutput: keySchema.output,\n\t\t\t\t\t};\n\t\t\t\t\tif (!options?.disableValidation) {\n\t\t\t\t\t\topts = {\n\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\tbody: keySchema.input\n\t\t\t\t\t\t\t\t? await parseStandardSchema(keySchema.input, options?.body)\n\t\t\t\t\t\t\t\t: options?.body,\n\t\t\t\t\t\t\tparams: keySchema.params\n\t\t\t\t\t\t\t\t? await parseStandardSchema(keySchema.params, options?.params)\n\t\t\t\t\t\t\t\t: options?.params,\n\t\t\t\t\t\t\tquery: keySchema.query\n\t\t\t\t\t\t\t\t? await parseStandardSchema(keySchema.query, options?.query)\n\t\t\t\t\t\t\t\t: options?.query,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\turl,\n\t\t\t\t\t\toptions: opts,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\turl,\n\t\t\t\toptions,\n\t\t\t};\n\t\t},\n\t}) satisfies BetterFetchPlugin;\n\nexport const createFetch = <Option extends CreateFetchOption>(\n\tconfig?: Option,\n) => {\n\tasync function $fetch(url: string, options?: BetterFetchOption) {\n\t\tconst opts = {\n\t\t\t...config,\n\t\t\t...options,\n\t\t\tplugins: [...(config?.plugins || []), applySchemaPlugin(config || {})],\n\t\t} as BetterFetchOption;\n\n\t\tif (config?.catchAllError) {\n\t\t\ttry {\n\t\t\t\treturn await betterFetch(url, opts);\n\t\t\t} catch (error) {\n\t\t\t\treturn {\n\t\t\t\t\tdata: null,\n\t\t\t\t\terror: {\n\t\t\t\t\t\tstatus: 500,\n\t\t\t\t\t\tstatusText: \"Fetch Error\",\n\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\"Fetch related error. Captured by catchAllError option. See error property for more details.\",\n\t\t\t\t\t\terror,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn await betterFetch(url, opts);\n\t}\n\treturn $fetch as BetterFetch<Option>;\n};\n\nexport * from \"./schema\";\nexport * from \"./types\";\n","import { methods } from \"./create-fetch\";\nimport { BetterFetchOption } from \"./types\";\n\n/**\n * Normalize URL\n */\nexport function getURL(url: string, option?: BetterFetchOption) {\n\tlet { baseURL, params, query } = option || {\n\t\tquery: {},\n\t\tparams: {},\n\t\tbaseURL: \"\",\n\t};\n\tlet basePath = url.startsWith(\"http\")\n\t\t? url.split(\"/\").slice(0, 3).join(\"/\")\n\t\t: baseURL || \"\";\n\n\t/**\n\t * Remove method modifiers\n\t */\n\tif (url.startsWith(\"@\")) {\n\t\tconst m = url.toString().split(\"@\")[1].split(\"/\")[0];\n\t\tif (methods.includes(m)) {\n\t\t\turl = url.replace(`@${m}/`, \"/\");\n\t\t}\n\t}\n\n\tif (!basePath.endsWith(\"/\")) basePath += \"/\";\n\tlet [path, urlQuery] = url.replace(basePath, \"\").split(\"?\");\n\tconst queryParams = new URLSearchParams(urlQuery);\n\tfor (const [key, value] of Object.entries(query || {})) {\n\t\tif (value == null) continue;\n\t\tqueryParams.set(key, String(value));\n\t}\n\tif (params) {\n\t\tif (Array.isArray(params)) {\n\t\t\tconst paramPaths = path.split(\"/\").filter((p) => p.startsWith(\":\"));\n\t\t\tfor (const [index, key] of paramPaths.entries()) {\n\t\t\t\tconst value = params[index];\n\t\t\t\tpath = path.replace(key, value);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const [key, value] of Object.entries(params)) {\n\t\t\t\tpath = path.replace(`:${key}`, String(value));\n\t\t\t}\n\t\t}\n\t}\n\n\tpath = path.split(\"/\").map(encodeURIComponent).join(\"/\");\n\tif (path.startsWith(\"/\")) path = path.slice(1);\n\tlet queryParamString = queryParams.toString();\n\tqueryParamString =\n\t\tqueryParamString.length > 0 ? `?${queryParamString}`.replace(/\\+/g, \"%20\") : \"\";\n\tif (!basePath.startsWith(\"http\")) {\n\t\treturn `${basePath}${path}${queryParamString}`;\n\t}\n\tconst _url = new URL(`${path}${queryParamString}`, basePath);\n\treturn _url;\n}\n","import type { StandardSchemaV1 } from \"./standard-schema\";\nimport { BetterFetchError } from \"./error\";\nimport { initializePlugins } from \"./plugins\";\nimport { createRetryStrategy } from \"./retry\";\nimport type { BetterFetchOption, BetterFetchResponse } from \"./types\";\nimport { getURL } from \"./url\";\nimport {\n\tdetectResponseType,\n\tgetBody,\n\tgetFetch,\n\tgetHeaders,\n\tgetMethod,\n\tgetTimeout,\n\tisJSONParsable,\n\tjsonParse,\n\tparseStandardSchema,\n} from \"./utils\";\n\nexport const betterFetch = async <\n\tTRes extends Option[\"output\"] extends StandardSchemaV1\n\t\t? StandardSchemaV1.InferOutput<Option[\"output\"]>\n\t\t: unknown,\n\tTErr = unknown,\n\tOption extends BetterFetchOption = BetterFetchOption<any, any, any, TRes>,\n>(\n\turl: string,\n\toptions?: Option,\n): Promise<\n\tBetterFetchResponse<\n\t\tTRes,\n\t\tTErr,\n\t\tOption[\"throw\"] extends true ? true : TErr extends false ? true : false\n\t>\n> => {\n\tconst {\n\t\thooks,\n\t\turl: __url,\n\t\toptions: opts,\n\t} = await initializePlugins(url, options);\n\tconst fetch = getFetch(opts);\n\tconst controller = new AbortController();\n\tconst signal = opts.signal ?? controller.signal;\n\tconst _url = getURL(__url, opts);\n\tconst body = getBody(opts);\n\tconst headers = await getHeaders(opts);\n\tconst method = getMethod(__url, opts);\n\tlet context = {\n\t\t...opts,\n\t\turl: _url,\n\t\theaders,\n\t\tbody,\n\t\tmethod,\n\t\tsignal,\n\t};\n\t/**\n\t * Run all on request hooks\n\t */\n\tfor (const onRequest of hooks.onRequest) {\n\t\tif (onRequest) {\n\t\t\tconst res = await onRequest(context);\n\t\t\tif (res instanceof Object) {\n\t\t\t\tcontext = res;\n\t\t\t}\n\t\t}\n\t}\n\tif (\n\t\t(\"pipeTo\" in (context as any) &&\n\t\t\ttypeof (context as any).pipeTo === \"function\") ||\n\t\ttypeof options?.body?.pipe === \"function\"\n\t) {\n\t\tif (!(\"duplex\" in context)) {\n\t\t\tcontext.duplex = \"half\";\n\t\t}\n\t}\n\n\tconst { clearTimeout } = getTimeout(opts, controller);\n\tlet response = await fetch(context.url, context);\n\tclearTimeout();\n\n\tconst responseContext = {\n\t\tresponse,\n\t\trequest: context,\n\t};\n\n\tfor (const onResponse of hooks.onResponse) {\n\t\tif (onResponse) {\n\t\t\tconst r = await onResponse({\n\t\t\t\t...responseContext,\n\t\t\t\tresponse: options?.hookOptions?.cloneResponse\n\t\t\t\t\t? response.clone()\n\t\t\t\t\t: response,\n\t\t\t});\n\t\t\tif (r instanceof Response) {\n\t\t\t\tresponse = r;\n\t\t\t} else if (r instanceof Object) {\n\t\t\t\tresponse = r.response;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * OK Branch\n\t */\n\tif (response.ok) {\n\t\tconst hasBody = context.method !== \"HEAD\";\n\t\tif (!hasBody) {\n\t\t\treturn {\n\t\t\t\tdata: \"\" as any,\n\t\t\t\terror: null,\n\t\t\t} as any;\n\t\t}\n\t\tconst responseType = detectResponseType(response);\n\t\tconst successContext = {\n\t\t\tdata: \"\" as any,\n\t\t\tresponse,\n\t\t\trequest: context,\n\t\t};\n\t\tif (responseType === \"json\" || responseType === \"text\") {\n\t\t\tconst text = await response.text();\n\t\t\tconst parser = context.jsonParser ?? jsonParse;\n\t\t\tconst data = await parser(text);\n\t\t\tsuccessContext.data = data;\n\t\t} else {\n\t\t\tsuccessContext.data = await response[responseType]();\n\t\t}\n\n\t\t/**\n\t\t * Parse the data if the output schema is defined\n\t\t */\n\t\tif (context?.output) {\n\t\t\tif (context.output && !context.disableValidation) {\n\t\t\t\tsuccessContext.data = await parseStandardSchema(\n\t\t\t\t\tcontext.output as StandardSchemaV1,\n\t\t\t\t\tsuccessContext.data,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfor (const onSuccess of hooks.onSuccess) {\n\t\t\tif (onSuccess) {\n\t\t\t\tawait onSuccess({\n\t\t\t\t\t...successContext,\n\t\t\t\t\tresponse: options?.hookOptions?.cloneResponse\n\t\t\t\t\t\t? response.clone()\n\t\t\t\t\t\t: response,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (options?.throw) {\n\t\t\treturn successContext.data as any;\n\t\t}\n\n\t\treturn {\n\t\t\tdata: successContext.data,\n\t\t\terror: null,\n\t\t} as any;\n\t}\n\tconst parser = options?.jsonParser ?? jsonParse;\n\tconst responseText = await response.text();\n\tconst isJSONResponse = isJSONParsable(responseText);\n\tconst errorObject = isJSONResponse ? await parser(responseText) : null;\n\t/**\n\t * Error Branch\n\t */\n\tconst errorContext = {\n\t\tresponse,\n\t\tresponseText,\n\t\trequest: context,\n\t\terror: {\n\t\t\t...errorObject,\n\t\t\tstatus: response.status,\n\t\t\tstatusText: response.statusText,\n\t\t},\n\t};\n\tfor (const onError of hooks.onError) {\n\t\tif (onError) {\n\t\t\tawait onError({\n\t\t\t\t...errorContext,\n\t\t\t\tresponse: options?.hookOptions?.cloneResponse\n\t\t\t\t\t? response.clone()\n\t\t\t\t\t: response,\n\t\t\t});\n\t\t}\n\t}\n\n\tif (options?.retry) {\n\t\tconst retryStrategy = createRetryStrategy(options.retry);\n\t\tconst _retryAttempt = options.retryAttempt ?? 0;\n\t\tif (await retryStrategy.shouldAttemptRetry(_retryAttempt, response)) {\n\t\t\tfor (const onRetry of hooks.onRetry) {\n\t\t\t\tif (onRetry) {\n\t\t\t\t\tawait onRetry(responseContext);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst delay = retryStrategy.getDelay(_retryAttempt);\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, delay));\n\t\t\treturn await betterFetch(url, {\n\t\t\t\t...options,\n\t\t\t\tretryAttempt: _retryAttempt + 1,\n\t\t\t});\n\t\t}\n\t}\n\n\tif (options?.throw) {\n\t\tthrow new BetterFetchError(\n\t\t\tresponse.status,\n\t\t\tresponse.statusText,\n\t\t\tisJSONResponse ? errorObject : responseText,\n\t\t);\n\t}\n\treturn {\n\t\tdata: null,\n\t\terror: {\n\t\t\t...errorObject,\n\t\t\tstatus: response.status,\n\t\t\tstatusText: response.statusText,\n\t\t},\n\t} as any;\n};\n"],"names":["_a","getURL","getURL","clearTimeout","parser"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8]}},
    {"offset": {"line": 1537, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/defu/dist/defu.mjs"],"sourcesContent":["function isPlainObject(value) {\n  if (value === null || typeof value !== \"object\") {\n    return false;\n  }\n  const prototype = Object.getPrototypeOf(value);\n  if (prototype !== null && prototype !== Object.prototype && Object.getPrototypeOf(prototype) !== null) {\n    return false;\n  }\n  if (Symbol.iterator in value) {\n    return false;\n  }\n  if (Symbol.toStringTag in value) {\n    return Object.prototype.toString.call(value) === \"[object Module]\";\n  }\n  return true;\n}\n\nfunction _defu(baseObject, defaults, namespace = \".\", merger) {\n  if (!isPlainObject(defaults)) {\n    return _defu(baseObject, {}, namespace, merger);\n  }\n  const object = Object.assign({}, defaults);\n  for (const key in baseObject) {\n    if (key === \"__proto__\" || key === \"constructor\") {\n      continue;\n    }\n    const value = baseObject[key];\n    if (value === null || value === void 0) {\n      continue;\n    }\n    if (merger && merger(object, key, value, namespace)) {\n      continue;\n    }\n    if (Array.isArray(value) && Array.isArray(object[key])) {\n      object[key] = [...value, ...object[key]];\n    } else if (isPlainObject(value) && isPlainObject(object[key])) {\n      object[key] = _defu(\n        value,\n        object[key],\n        (namespace ? `${namespace}.` : \"\") + key.toString(),\n        merger\n      );\n    } else {\n      object[key] = value;\n    }\n  }\n  return object;\n}\nfunction createDefu(merger) {\n  return (...arguments_) => (\n    // eslint-disable-next-line unicorn/no-array-reduce\n    arguments_.reduce((p, c) => _defu(p, c, \"\", merger), {})\n  );\n}\nconst defu = createDefu();\nconst defuFn = createDefu((object, key, currentValue) => {\n  if (object[key] !== void 0 && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\nconst defuArrayFn = createDefu((object, key, currentValue) => {\n  if (Array.isArray(object[key]) && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\n\nexport { createDefu, defu as default, defu, defuArrayFn, defuFn };\n"],"names":[],"mappings":";;;;;;;AAAA,SAAS,cAAc,KAAK;IAC1B,IAAI,UAAU,QAAQ,OAAO,UAAU,UAAU;QAC/C,OAAO;IACT;IACA,MAAM,YAAY,OAAO,cAAc,CAAC;IACxC,IAAI,cAAc,QAAQ,cAAc,OAAO,SAAS,IAAI,OAAO,cAAc,CAAC,eAAe,MAAM;QACrG,OAAO;IACT;IACA,IAAI,OAAO,QAAQ,IAAI,OAAO;QAC5B,OAAO;IACT;IACA,IAAI,OAAO,WAAW,IAAI,OAAO;QAC/B,OAAO,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW;IACnD;IACA,OAAO;AACT;AAEA,SAAS,MAAM,UAAU,EAAE,QAAQ,EAAE,YAAY,GAAG,EAAE,MAAM;IAC1D,IAAI,CAAC,cAAc,WAAW;QAC5B,OAAO,MAAM,YAAY,CAAC,GAAG,WAAW;IAC1C;IACA,MAAM,SAAS,OAAO,MAAM,CAAC,CAAC,GAAG;IACjC,IAAK,MAAM,OAAO,WAAY;QAC5B,IAAI,QAAQ,eAAe,QAAQ,eAAe;YAChD;QACF;QACA,MAAM,QAAQ,UAAU,CAAC,IAAI;QAC7B,IAAI,UAAU,QAAQ,UAAU,KAAK,GAAG;YACtC;QACF;QACA,IAAI,UAAU,OAAO,QAAQ,KAAK,OAAO,YAAY;YACnD;QACF;QACA,IAAI,MAAM,OAAO,CAAC,UAAU,MAAM,OAAO,CAAC,MAAM,CAAC,IAAI,GAAG;YACtD,MAAM,CAAC,IAAI,GAAG;mBAAI;mBAAU,MAAM,CAAC,IAAI;aAAC;QAC1C,OAAO,IAAI,cAAc,UAAU,cAAc,MAAM,CAAC,IAAI,GAAG;YAC7D,MAAM,CAAC,IAAI,GAAG,MACZ,OACA,MAAM,CAAC,IAAI,EACX,CAAC,YAAY,GAAG,UAAU,CAAC,CAAC,GAAG,EAAE,IAAI,IAAI,QAAQ,IACjD;QAEJ,OAAO;YACL,MAAM,CAAC,IAAI,GAAG;QAChB;IACF;IACA,OAAO;AACT;AACA,SAAS,WAAW,MAAM;IACxB,OAAO,CAAC,GAAG,aACT,mDAAmD;QACnD,WAAW,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM,GAAG,GAAG,IAAI,SAAS,CAAC;AAE1D;AACA,MAAM,OAAO;AACb,MAAM,SAAS,WAAW,CAAC,QAAQ,KAAK;IACtC,IAAI,MAAM,CAAC,IAAI,KAAK,KAAK,KAAK,OAAO,iBAAiB,YAAY;QAChE,MAAM,CAAC,IAAI,GAAG,aAAa,MAAM,CAAC,IAAI;QACtC,OAAO;IACT;AACF;AACA,MAAM,cAAc,WAAW,CAAC,QAAQ,KAAK;IAC3C,IAAI,MAAM,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,OAAO,iBAAiB,YAAY;QACpE,MAAM,CAAC,IAAI,GAAG,aAAa,MAAM,CAAC,IAAI;QACtC,OAAO;IACT;AACF","ignoreList":[0]}},
    {"offset": {"line": 1613, "column": 0}, "map": {"version":3,"file":"crypto.js","sources":["../src/crypto.ts"],"sourceRoot":"","names":[],"mappings":";;;AAOO,MAAM,MAAM,GACjB,OAAO,UAAU,KAAK,QAAQ,IAAI,QAAQ,IAAI,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC"}},
    {"offset": {"line": 1623, "column": 0}, "map": {"version":3,"file":"utils.js","sources":["../src/utils.ts"],"sourceRoot":"","names":[],"mappings":"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"}},
    {"offset": {"line": 1879, "column": 0}, "map": {"version":3,"file":"hmac.js","sources":["../src/hmac.ts"],"sourceRoot":"","names":[],"mappings":"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"}},
    {"offset": {"line": 1961, "column": 0}, "map": {"version":3,"file":"pbkdf2.js","sources":["../src/pbkdf2.ts"],"sourceRoot":"","names":[],"mappings":"AAAA;;;GAGG;;;;AACH,OAAO,EAAE,IAAI,EAAE,MAAM,WAAW,CAAC;AACjC,kBAAkB;AAClB,OAAO,EACL,KAAK,EAAE,OAAO,EACd,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,eAAe,EAG/D,MAAM,YAAY,CAAC;;;AAOpB,wDAAwD;AACxD,SAAS,UAAU,CAAC,IAAW,EAAE,SAAmB,EAAE,KAAe,EAAE,KAAgB;kKACrF,QAAA,AAAK,EAAC,IAAI,CAAC,CAAC;IACZ,MAAM,IAAI,iKAAG,YAAA,AAAS,EAAC;QAAE,KAAK,EAAE,EAAE;QAAE,SAAS,EAAE,EAAE;IAAA,CAAE,EAAE,KAAK,CAAC,CAAC;IAC5D,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;kKACrC,UAAA,AAAO,EAAC,CAAC,CAAC,CAAC;kKACX,UAAA,AAAO,EAAC,KAAK,CAAC,CAAC;QACf,oKAAA,AAAO,EAAC,SAAS,CAAC,CAAC;IACnB,IAAI,CAAC,GAAG,CAAC,EAAE,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;IAC5D,MAAM,QAAQ,OAAG,4KAAA,AAAe,EAAC,SAAS,CAAC,CAAC;IAC5C,MAAM,IAAI,iKAAG,kBAAA,AAAe,EAAC,KAAK,CAAC,CAAC;IACpC,8CAA8C;IAC9C,MAAM,EAAE,GAAG,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC;IACjC,0CAA0C;IAC1C,MAAM,GAAG,4JAAG,OAAI,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACxC,MAAM,OAAO,GAAG,GAAG,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC9C,OAAO;QAAE,CAAC;QAAE,KAAK;QAAE,SAAS;QAAE,EAAE;QAAE,GAAG;QAAE,OAAO;IAAA,CAAE,CAAC;AACnD,CAAC;AAED,SAAS,YAAY,CACnB,GAAY,EACZ,OAAgB,EAChB,EAAc,EACd,IAAa,EACb,CAAa;IAEb,GAAG,CAAC,OAAO,EAAE,CAAC;IACd,OAAO,CAAC,OAAO,EAAE,CAAC;IAClB,IAAI,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC;kKACzB,QAAA,AAAK,EAAC,CAAC,CAAC,CAAC;IACT,OAAO,EAAE,CAAC;AACZ,CAAC;AAWK,SAAU,MAAM,CACpB,IAAW,EACX,QAAkB,EAClB,IAAc,EACd,IAAe;IAEf,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9E,IAAI,IAAS,CAAC,CAAC,eAAe;IAC9B,MAAM,GAAG,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;IAC9B,MAAM,IAAI,iKAAG,aAAA,AAAU,EAAC,GAAG,CAAC,CAAC;IAC7B,MAAM,CAAC,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACxC,iCAAiC;IACjC,IAAK,IAAI,EAAE,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,EAAE,EAAE,EAAE,EAAE,GAAG,IAAI,GAAG,CAAC,SAAS,CAAE,CAAC;QAClE,+BAA+B;QAC/B,MAAM,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;QAC5B,6CAA6C;QAC7C,0CAA0C;QAC1C,CAAC,IAAI,GAAG,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC5D,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QACjC,IAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,CAAE,CAAC;YAC9B,2BAA2B;YAC3B,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC7C,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,CAAC;IACH,CAAC;IACD,OAAO,YAAY,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AACjD,CAAC;AAOM,KAAK,UAAU,WAAW,CAC/B,IAAW,EACX,QAAkB,EAClB,IAAc,EACd,IAAe;IAEf,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IACzF,IAAI,IAAS,CAAC,CAAC,eAAe;IAC9B,MAAM,GAAG,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;IAC9B,MAAM,IAAI,GAAG,2KAAA,AAAU,EAAC,GAAG,CAAC,CAAC;IAC7B,MAAM,CAAC,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACxC,iCAAiC;IACjC,IAAK,IAAI,EAAE,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,EAAE,EAAE,EAAE,EAAE,GAAG,IAAI,GAAG,CAAC,SAAS,CAAE,CAAC;QAClE,+BAA+B;QAC/B,MAAM,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;QAC5B,6CAA6C;QAC7C,0CAA0C;QAC1C,CAAC,IAAI,GAAG,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC5D,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QACjC,OAAM,yKAAA,AAAS,EAAC,CAAC,GAAG,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE;YACrC,2BAA2B;YAC3B,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC7C,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;IACL,CAAC;IACD,OAAO,YAAY,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AACjD,CAAC"}},
    {"offset": {"line": 2060, "column": 0}, "map": {"version":3,"file":"_md.js","sources":["../src/_md.ts"],"sourceRoot":"","names":[],"mappings":"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"}},
    {"offset": {"line": 2250, "column": 0}, "map": {"version":3,"file":"_u64.js","sources":["../src/_u64.ts"],"sourceRoot":"","names":[],"mappings":"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"}},
    {"offset": {"line": 2376, "column": 0}, "map": {"version":3,"file":"sha2.js","sources":["../src/sha2.ts"],"sourceRoot":"","names":[],"mappings":"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"}},
    {"offset": {"line": 2918, "column": 0}, "map": {"version":3,"file":"scrypt.js","sources":["../src/scrypt.ts"],"sourceRoot":"","names":[],"mappings":"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"}},
    {"offset": {"line": 3146, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/uuid/dist/esm-browser/regex.js"],"sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;"],"names":[],"mappings":";;;uCAAe","ignoreList":[0]}},
    {"offset": {"line": 3156, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/uuid/dist/esm-browser/validate.js"],"sourcesContent":["import REGEX from './regex.js';\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;"],"names":[],"mappings":";;;AAAA;;AACA,SAAS,SAAS,IAAI;IACpB,OAAO,OAAO,SAAS,YAAY,+JAAA,CAAA,UAAK,CAAC,IAAI,CAAC;AAChD;uCACe","ignoreList":[0]}},
    {"offset": {"line": 3171, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/uuid/dist/esm-browser/stringify.js"],"sourcesContent":["import validate from './validate.js';\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nexport default stringify;"],"names":[],"mappings":";;;;AAAA;;AAEA;;;CAGC,GACD,IAAI,YAAY,EAAE;AAClB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;IAC5B,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,EAAE,QAAQ,CAAC,IAAI,KAAK,CAAC;AAChD;AACO,SAAS,gBAAgB,GAAG,EAAE,SAAS,CAAC;IAC7C,uEAAuE;IACvE,oFAAoF;IACpF,EAAE;IACF,sEAAsE;IACtE,uEAAuE;IACvE,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,EAAE,WAAW;AAClgB;AACA,SAAS,UAAU,GAAG,EAAE,SAAS,CAAC;IAChC,IAAI,OAAO,gBAAgB,KAAK;IAChC,4EAA4E;IAC5E,oBAAoB;IACpB,wEAAwE;IACxE,2BAA2B;IAC3B,mEAAmE;IACnE,IAAI,CAAC,CAAA,GAAA,kKAAA,CAAA,UAAQ,AAAD,EAAE,OAAO;QACnB,MAAM,UAAU;IAClB;IACA,OAAO;AACT;uCACe","ignoreList":[0]}},
    {"offset": {"line": 3221, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/uuid/dist/esm-browser/rng.js"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}"],"names":[],"mappings":"AAAA,6FAA6F;AAC7F,6FAA6F;AAC7F,mCAAmC;;;;AAEnC,IAAI;AACJ,IAAI,QAAQ,IAAI,WAAW;AACZ,SAAS;IACtB,8EAA8E;IAC9E,IAAI,CAAC,iBAAiB;QACpB,4FAA4F;QAC5F,kBAAkB,OAAO,WAAW,eAAe,OAAO,eAAe,IAAI,OAAO,eAAe,CAAC,IAAI,CAAC;QACzG,IAAI,CAAC,iBAAiB;YACpB,MAAM,IAAI,MAAM;QAClB;IACF;IACA,OAAO,gBAAgB;AACzB","ignoreList":[0]}},
    {"offset": {"line": 3246, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/uuid/dist/esm-browser/v7.js"],"sourcesContent":["import rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\n/**\n * UUID V7 - Unix Epoch time-based UUID\n *\n * The IETF has published RFC9562, introducing 3 new UUID versions (6,7,8). This\n * implementation of V7 is based on the accepted, though not yet approved,\n * revisions.\n *\n * RFC 9562:https://www.rfc-editor.org/rfc/rfc9562.html Universally Unique\n * IDentifiers (UUIDs)\n\n *\n * Sample V7 value:\n * https://www.rfc-editor.org/rfc/rfc9562.html#name-example-of-a-uuidv7-value\n *\n * Monotonic Bit Layout: RFC rfc9562.6.2 Method 1, Dedicated Counter Bits ref:\n *     https://www.rfc-editor.org/rfc/rfc9562.html#section-6.2-5.1\n *\n *   0                   1                   2                   3 0 1 2 3 4 5 6\n *   7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                          unix_ts_ms                           |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |          unix_ts_ms           |  ver  |        seq_hi         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |var|               seq_low               |        rand         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                             rand                              |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *\n * seq is a 31 bit serialized counter; comprised of 12 bit seq_hi and 19 bit\n * seq_low, and randomly initialized upon timestamp change. 31 bit counter size\n * was selected as any bitwise operations in node are done as _signed_ 32 bit\n * ints. we exclude the sign bit.\n */\n\nvar _seqLow = null;\nvar _seqHigh = null;\nvar _msecs = 0;\nfunction v7(options, buf, offset) {\n  options = options || {};\n\n  // initialize buffer and pointer\n  var i = buf && offset || 0;\n  var b = buf || new Uint8Array(16);\n\n  // rnds is Uint8Array(16) filled with random bytes\n  var rnds = options.random || (options.rng || rng)();\n\n  // milliseconds since unix epoch, 1970-01-01 00:00\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now();\n\n  // seq is user provided 31 bit counter\n  var seq = options.seq !== undefined ? options.seq : null;\n\n  // initialize local seq high/low parts\n  var seqHigh = _seqHigh;\n  var seqLow = _seqLow;\n\n  // check if clock has advanced and user has not provided msecs\n  if (msecs > _msecs && options.msecs === undefined) {\n    _msecs = msecs;\n\n    // unless user provided seq, reset seq parts\n    if (seq !== null) {\n      seqHigh = null;\n      seqLow = null;\n    }\n  }\n\n  // if we have a user provided seq\n  if (seq !== null) {\n    // trim provided seq to 31 bits of value, avoiding overflow\n    if (seq > 0x7fffffff) {\n      seq = 0x7fffffff;\n    }\n\n    // split provided seq into high/low parts\n    seqHigh = seq >>> 19 & 0xfff;\n    seqLow = seq & 0x7ffff;\n  }\n\n  // randomly initialize seq\n  if (seqHigh === null || seqLow === null) {\n    seqHigh = rnds[6] & 0x7f;\n    seqHigh = seqHigh << 8 | rnds[7];\n    seqLow = rnds[8] & 0x3f; // pad for var\n    seqLow = seqLow << 8 | rnds[9];\n    seqLow = seqLow << 5 | rnds[10] >>> 3;\n  }\n\n  // increment seq if within msecs window\n  if (msecs + 10000 > _msecs && seq === null) {\n    if (++seqLow > 0x7ffff) {\n      seqLow = 0;\n      if (++seqHigh > 0xfff) {\n        seqHigh = 0;\n\n        // increment internal _msecs. this allows us to continue incrementing\n        // while staying monotonic. Note, once we hit 10k milliseconds beyond system\n        // clock, we will reset breaking monotonicity (after (2^31)*10000 generations)\n        _msecs++;\n      }\n    }\n  } else {\n    // resetting; we have advanced more than\n    // 10k milliseconds beyond system clock\n    _msecs = msecs;\n  }\n  _seqHigh = seqHigh;\n  _seqLow = seqLow;\n\n  // [bytes 0-5] 48 bits of local timestamp\n  b[i++] = _msecs / 0x10000000000 & 0xff;\n  b[i++] = _msecs / 0x100000000 & 0xff;\n  b[i++] = _msecs / 0x1000000 & 0xff;\n  b[i++] = _msecs / 0x10000 & 0xff;\n  b[i++] = _msecs / 0x100 & 0xff;\n  b[i++] = _msecs & 0xff;\n\n  // [byte 6] - set 4 bits of version (7) with first 4 bits seq_hi\n  b[i++] = seqHigh >>> 4 & 0x0f | 0x70;\n\n  // [byte 7] remaining 8 bits of seq_hi\n  b[i++] = seqHigh & 0xff;\n\n  // [byte 8] - variant (2 bits), first 6 bits seq_low\n  b[i++] = seqLow >>> 13 & 0x3f | 0x80;\n\n  // [byte 9] 8 bits seq_low\n  b[i++] = seqLow >>> 5 & 0xff;\n\n  // [byte 10] remaining 5 bits seq_low, 3 bits random\n  b[i++] = seqLow << 3 & 0xff | rnds[10] & 0x07;\n\n  // [bytes 11-15] always random\n  b[i++] = rnds[11];\n  b[i++] = rnds[12];\n  b[i++] = rnds[13];\n  b[i++] = rnds[14];\n  b[i++] = rnds[15];\n  return buf || unsafeStringify(b);\n}\nexport default v7;"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3391, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/typeid-js/src/typeid.ts","turbopack:///[project]/node_modules/typeid-js/src/parse_uuid.ts","turbopack:///[project]/node_modules/typeid-js/src/base32.ts","turbopack:///[project]/node_modules/typeid-js/src/unboxed/typeid.ts","turbopack:///[project]/node_modules/typeid-js/src/prefix.ts","turbopack:///[project]/node_modules/typeid-js/src/unboxed/error.ts"],"sourcesContent":["import { stringify } from \"uuid\";\nimport { parseUUID } from \"./parse_uuid\";\nimport { encode, decode } from \"./base32\";\nimport {\n  typeidUnboxed,\n  getSuffix,\n  getType,\n  fromString,\n} from \"./unboxed/typeid\";\nimport { TypeIDConversionError } from \"./unboxed/error\";\n\nexport class TypeID<const T extends string> {\n  constructor(private prefix: T, private suffix: string = \"\") {\n    const typeIdRaw = typeidUnboxed(prefix, suffix);\n\n    this.prefix = getType(typeIdRaw);\n    this.suffix = getSuffix(typeIdRaw);\n  }\n\n  public getType(): T {\n    return this.prefix;\n  }\n\n  public getSuffix(): string {\n    return this.suffix;\n  }\n\n  public asType<const U extends string>(prefix: U): TypeID<U> {\n    const self = this as unknown as TypeID<U>;\n    if (self.prefix !== prefix) {\n      throw new TypeIDConversionError(self.prefix, prefix);\n    }\n    return self;\n  }\n\n  public toUUIDBytes(): Uint8Array {\n    return decode(this.suffix);\n  }\n\n  public toUUID(): string {\n    return stringify(this.toUUIDBytes());\n  }\n\n  public toString(): T extends \"\" ? string : `${T}_${string}` {\n    if (this.prefix === \"\") {\n      return this.suffix as T extends \"\" ? string : `${T}_${string}`;\n    }\n    return `${this.prefix}_${this.suffix}` as T extends \"\" ? string : `${T}_${string}`;\n  }\n\n  static fromString<const T extends string>(\n    str: string,\n    prefix?: T\n  ): TypeID<T> {\n    const typeIdRaw = fromString(str, prefix);\n\n    return new TypeID<T>(getType(typeIdRaw) as T, getSuffix(typeIdRaw));\n  }\n\n  static fromUUIDBytes<const T extends string>(\n    prefix: T,\n    bytes: Uint8Array\n  ): TypeID<T> {\n    const suffix = encode(bytes);\n    return new TypeID(prefix, suffix);\n  }\n\n  static fromUUID<const T extends string>(prefix: T, uuid: string): TypeID<T> {\n    const suffix = encode(parseUUID(uuid));\n    return new TypeID(prefix, suffix);\n  }\n}\n\nexport function typeid<T extends string>(): TypeID<\"\">;\nexport function typeid<T extends string>(prefix: T): TypeID<T>;\nexport function typeid<T extends string>(prefix: T, suffix: string): TypeID<T>;\nexport function typeid<T extends string>(\n  prefix: T = \"\" as T,\n  suffix: string = \"\"\n): TypeID<T> {\n  return new TypeID(prefix, suffix);\n}\n","/* eslint-disable no-bitwise */\nexport function parseUUID(uuid: string) {\n  let v;\n  const arr = new Uint8Array(16);\n\n  // Block 1\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = (v >>> 16) & 0xff;\n  arr[2] = (v >>> 8) & 0xff;\n  arr[3] = v & 0xff;\n\n  // Block 2\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff;\n\n  // Block 3\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff;\n\n  // Block 4\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff;\n\n  // Block 5\n  arr[10] = ((v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000) & 0xff;\n  arr[11] = (v / 0x100000000) & 0xff;\n  arr[12] = (v >>> 24) & 0xff;\n  arr[13] = (v >>> 16) & 0xff;\n  arr[14] = (v >>> 8) & 0xff;\n  arr[15] = v & 0xff;\n\n  return arr;\n}\n","/* eslint-disable no-bitwise */\nconst alphabet: string = \"0123456789abcdefghjkmnpqrstvwxyz\";\n\n// Decoding table\nconst dec: Uint8Array = new Uint8Array([\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x01, 0x02, 0x03,\n  0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x10,\n  0x11, 0xff, 0x12, 0x13, 0xff, 0x14, 0x15, 0xff, 0x16, 0x17, 0x18, 0x19, 0x1a,\n  0xff, 0x1b, 0x1c, 0x1d, 0x1e, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,\n]);\n\nexport function encode(src: Uint8Array): string {\n  const dst: string[] = new Array(26).fill(\"\");\n\n  if (src.length !== 16) {\n    throw new Error(\n      `Invalid length. Expected 16 bytes, got ${src.length}. Input: ${src}`\n    );\n  }\n\n  // 10 byte timestamp\n  dst[0] = alphabet[(src[0] & 224) >> 5];\n  dst[1] = alphabet[src[0] & 31];\n  dst[2] = alphabet[(src[1] & 248) >> 3];\n  dst[3] = alphabet[((src[1] & 7) << 2) | ((src[2] & 192) >> 6)];\n  dst[4] = alphabet[(src[2] & 62) >> 1];\n  dst[5] = alphabet[((src[2] & 1) << 4) | ((src[3] & 240) >> 4)];\n  dst[6] = alphabet[((src[3] & 15) << 1) | ((src[4] & 128) >> 7)];\n  dst[7] = alphabet[(src[4] & 124) >> 2];\n  dst[8] = alphabet[((src[4] & 3) << 3) | ((src[5] & 224) >> 5)];\n  dst[9] = alphabet[src[5] & 31];\n\n  // 16 bytes of randomness\n  dst[10] = alphabet[(src[6] & 248) >> 3];\n  dst[11] = alphabet[((src[6] & 7) << 2) | ((src[7] & 192) >> 6)];\n  dst[12] = alphabet[(src[7] & 62) >> 1];\n  dst[13] = alphabet[((src[7] & 1) << 4) | ((src[8] & 240) >> 4)];\n  dst[14] = alphabet[((src[8] & 15) << 1) | ((src[9] & 128) >> 7)];\n  dst[15] = alphabet[(src[9] & 124) >> 2];\n  dst[16] = alphabet[((src[9] & 3) << 3) | ((src[10] & 224) >> 5)];\n  dst[17] = alphabet[src[10] & 31];\n  dst[18] = alphabet[(src[11] & 248) >> 3];\n  dst[19] = alphabet[((src[11] & 7) << 2) | ((src[12] & 192) >> 6)];\n  dst[20] = alphabet[(src[12] & 62) >> 1];\n  dst[21] = alphabet[((src[12] & 1) << 4) | ((src[13] & 240) >> 4)];\n  dst[22] = alphabet[((src[13] & 15) << 1) | ((src[14] & 128) >> 7)];\n  dst[23] = alphabet[(src[14] & 124) >> 2];\n  dst[24] = alphabet[((src[14] & 3) << 3) | ((src[15] & 224) >> 5)];\n  dst[25] = alphabet[src[15] & 31];\n\n  return dst.join(\"\");\n}\n\nexport function decode(s: string): Uint8Array {\n  if (s.length !== 26) {\n    throw new Error(\n      `Invalid length. Expected 26 bytes, got ${s.length}. Input: ${s}`\n    );\n  }\n\n  const encoder = new TextEncoder();\n  const v: Uint8Array = encoder.encode(s);\n\n  // Check if all the characters are part of the expected base32 character set.\n  if (\n    dec[v[0]] === 0xff ||\n    dec[v[1]] === 0xff ||\n    dec[v[2]] === 0xff ||\n    dec[v[3]] === 0xff ||\n    dec[v[4]] === 0xff ||\n    dec[v[5]] === 0xff ||\n    dec[v[6]] === 0xff ||\n    dec[v[7]] === 0xff ||\n    dec[v[8]] === 0xff ||\n    dec[v[9]] === 0xff ||\n    dec[v[10]] === 0xff ||\n    dec[v[11]] === 0xff ||\n    dec[v[12]] === 0xff ||\n    dec[v[13]] === 0xff ||\n    dec[v[14]] === 0xff ||\n    dec[v[15]] === 0xff ||\n    dec[v[16]] === 0xff ||\n    dec[v[17]] === 0xff ||\n    dec[v[18]] === 0xff ||\n    dec[v[19]] === 0xff ||\n    dec[v[20]] === 0xff ||\n    dec[v[21]] === 0xff ||\n    dec[v[22]] === 0xff ||\n    dec[v[23]] === 0xff ||\n    dec[v[24]] === 0xff ||\n    dec[v[25]] === 0xff\n  ) {\n    throw new Error(\"Invalid base32 character\");\n  }\n\n  const id = new Uint8Array(16);\n\n  // 6 bytes timestamp (48 bits)\n  id[0] = (dec[v[0]] << 5) | dec[v[1]];\n  id[1] = (dec[v[2]] << 3) | (dec[v[3]] >> 2);\n  id[2] = ((dec[v[3]] & 3) << 6) | (dec[v[4]] << 1) | (dec[v[5]] >> 4);\n  id[3] = ((dec[v[5]] & 15) << 4) | (dec[v[6]] >> 1);\n  id[4] = ((dec[v[6]] & 1) << 7) | (dec[v[7]] << 2) | (dec[v[8]] >> 3);\n  id[5] = ((dec[v[8]] & 7) << 5) | dec[v[9]];\n\n  // 10 bytes of entropy (80 bits)\n  id[6] = (dec[v[10]] << 3) | (dec[v[11]] >> 2);\n  id[7] = ((dec[v[11]] & 3) << 6) | (dec[v[12]] << 1) | (dec[v[13]] >> 4);\n  id[8] = ((dec[v[13]] & 15) << 4) | (dec[v[14]] >> 1);\n  id[9] = ((dec[v[14]] & 1) << 7) | (dec[v[15]] << 2) | (dec[v[16]] >> 3);\n  id[10] = ((dec[v[16]] & 7) << 5) | dec[v[17]];\n  id[11] = (dec[v[18]] << 3) | (dec[v[19]] >> 2);\n  id[12] = ((dec[v[19]] & 3) << 6) | (dec[v[20]] << 1) | (dec[v[21]] >> 4);\n  id[13] = ((dec[v[21]] & 15) << 4) | (dec[v[22]] >> 1);\n  id[14] = ((dec[v[22]] & 1) << 7) | (dec[v[23]] << 2) | (dec[v[24]] >> 3);\n  id[15] = ((dec[v[24]] & 7) << 5) | dec[v[25]];\n\n  return id;\n}\n","import { stringify, v7 } from \"uuid\";\nimport { parseUUID } from \"../parse_uuid\";\nimport { encode, decode } from \"../base32\";\nimport { isValidPrefix } from \"../prefix\";\nimport {\n  EmptyPrefixError,\n  InvalidPrefixError,\n  InvalidSuffixCharacterError,\n  InvalidSuffixLengthError,\n  PrefixMismatchError,\n} from \"./error\";\n\nexport type TypeId<T> = string & { __type: T };\n\nexport function typeidUnboxed<T extends string>(\n  prefix: T = \"\" as T,\n  suffix: string = \"\"\n): TypeId<T> {\n  if (!isValidPrefix(prefix)) {\n    throw new InvalidPrefixError(prefix);\n  }\n\n  let finalSuffix: string;\n  if (suffix) {\n    finalSuffix = suffix;\n  } else {\n    const buffer = new Uint8Array(16);\n    v7(undefined, buffer);\n    finalSuffix = encode(buffer);\n  }\n\n  if (finalSuffix.length !== 26) {\n    throw new InvalidSuffixLengthError(finalSuffix.length);\n  }\n\n  if (finalSuffix[0] > \"7\") {\n    throw new InvalidSuffixCharacterError(finalSuffix[0]);\n  }\n\n  // Validate the suffix by decoding it. If it's invalid, an error will be thrown.\n  decode(finalSuffix);\n\n  if (prefix === \"\") {\n    return finalSuffix as TypeId<T>;\n  } else {\n    return `${prefix}_${finalSuffix}` as TypeId<T>;\n  }\n}\n\n/**\n * Constructs a TypeId from a string representation, optionally validating against a provided prefix.\n * This function splits the input `typeId` string by an underscore `_` to separate the prefix and suffix.\n * If the `typeId` contains no underscore, it is assumed to be a suffix with an empty prefix.\n * If a `prefix` is provided, it must match the prefix part of the `typeId`, or an error is thrown.\n *\n * @param {string} typeId - The string representation of the TypeId to be parsed.\n * @param {T} [prefix] - An optional prefix to validate against the prefix in the `typeId`.\n * @returns {TypeId<T>} A new TypeId instance constructed from the parsed `typeId`.\n * @throws {Error} If the `typeId` format is invalid, the prefix is empty when there's a separator,\n *                 or there's a prefix mismatch when a `prefix` is provided.\n * @template T - A string literal type that extends string.\n */\nexport function fromString<T extends string>(\n  typeId: string,\n  prefix?: T\n): TypeId<T> {\n  let p;\n  let s;\n\n  const underscoreIndex = typeId.lastIndexOf(\"_\");\n  if (underscoreIndex === -1) {\n    p = \"\" as T;\n    s = typeId;\n  } else {\n    p = typeId.substring(0, underscoreIndex) as T;\n    s = typeId.substring(underscoreIndex + 1);\n\n    if (!p) {\n      throw new EmptyPrefixError(typeId);\n    }\n  }\n\n  if (!s) {\n    throw new InvalidSuffixLengthError(0);\n  }\n\n  if (prefix && p !== prefix) {\n    throw new PrefixMismatchError(prefix, p);\n  }\n\n  return typeidUnboxed(p, s);\n}\n\n/**\n * Parses a TypeId string into its prefix and suffix components.\n *\n * @param {TypeId<T>} typeId - The TypeId string to parse.\n * @returns {{ prefix: T; suffix: string }} An object containing the prefix and suffix of the TypeId.\n * @throws {Error} If the TypeId format is invalid (not exactly two parts separated by an underscore).\n *\n * @example\n * // For a valid TypeId 'example_00041061050r3gg28a1c60t3gf'\n * const { prefix, suffix } = parseTypeId('example_00041061050r3gg28a1c60t3gf');\n * console.log(prefix); // 'example'\n * console.log(suffix); // '00041061050r3gg28a1c60t3gf'\n *\n * @example\n * // Throws an error for invalid TypeId format\n * try {\n *   parseTypeId('invalidTypeId');\n * } catch (error) {\n *   console.error(error.message); // 'Invalid TypeId format: invalidTypeId'\n * }\n */\nexport function parseTypeId<T extends string>(\n  typeId: TypeId<T>\n): { prefix: T; suffix: string } {\n  return { prefix: getType(typeId), suffix: getSuffix(typeId) };\n}\n\n/**\n * Retrieves the prefix from a TypeId.\n *\n * @param {TypeId<T>} typeId - The TypeId from which to extract the prefix.\n * @returns {T} The prefix of the TypeId.\n */\nexport function getType<T extends string>(typeId: TypeId<T>): T {\n  const underscoreIndex = typeId.lastIndexOf(\"_\");\n  if (underscoreIndex === -1) {\n    return \"\" as T;\n  }\n  return typeId.substring(0, underscoreIndex) as T;\n}\n\n/**\n * Retrieves the suffix from a TypeId.\n *\n * @param {TypeId<T>} typeId - The TypeId from which to extract the suffix.\n * @returns {string} The suffix of the TypeId.\n */\nexport function getSuffix<T extends string>(typeId: TypeId<T>): string {\n  const underscoreIndex = typeId.lastIndexOf(\"_\");\n  if (underscoreIndex === -1) {\n    return typeId;\n  }\n  return typeId.substring(underscoreIndex + 1);\n}\n\nexport function toUUIDBytes<T extends string>(typeId: TypeId<T>): Uint8Array {\n  return decode(getSuffix(typeId));\n}\n\nexport function toUUID<T extends string>(typeId: TypeId<T>) {\n  return stringify(toUUIDBytes(typeId));\n}\n\nexport function fromUUIDBytes(\n  prefix: string,\n  bytes: Uint8Array\n): TypeId<typeof prefix> {\n  const suffix = encode(bytes);\n  return prefix\n    ? (`${prefix}_${suffix}` as TypeId<typeof prefix>)\n    : (suffix as TypeId<typeof prefix>);\n}\n\nexport function fromUUID<T extends string>(\n  uuid: string,\n  prefix?: T\n): TypeId<T> {\n  const suffix = encode(parseUUID(uuid));\n  return prefix ? (`${prefix}_${suffix}` as TypeId<T>) : (suffix as TypeId<T>);\n}\n","export function isValidPrefix(str: string): boolean {\n  if (str.length > 63) {\n    return false;\n  }\n\n  let code;\n  let i;\n  let len;\n\n  for (i = 0, len = str.length; i < len; i += 1) {\n    code = str.charCodeAt(i);\n    const isLowerAtoZ = code > 96 && code < 123;\n    const isUnderscore = code === 95;\n\n    // first and last char of prefix can only be [a-z]\n    if ((i === 0 || i === len - 1) && !isLowerAtoZ) {\n      return false;\n    }\n\n    if (!(isLowerAtoZ || isUnderscore)) {\n      return false;\n    }\n  }\n  return true;\n}\n","export class InvalidPrefixError extends Error {\n  constructor(prefix: string) {\n    super(`Invalid prefix \"${prefix}\". Must be at most 63 ASCII letters [a-z_]`);\n    this.name = \"InvalidPrefixError\";\n  }\n}\n\nexport class PrefixMismatchError extends Error {\n  constructor(expected: string, actual: string) {\n    super(`Invalid TypeId. Prefix mismatch. Expected ${expected}, got ${actual}`);\n    this.name = \"PrefixMismatchError\";\n  }\n}\n\nexport class EmptyPrefixError extends Error {\n  constructor(typeId: string) {\n    super(`Invalid TypeId. Prefix cannot be empty when there's a separator: ${typeId}`);\n    this.name = \"EmptyPrefixError\";\n  }\n}\n\nexport class InvalidSuffixLengthError extends Error {\n  constructor(length: number) {\n    super(`Invalid length. Suffix should have 26 characters, got ${length}`);\n    this.name = \"InvalidSuffixLengthError\";\n  }\n}\n\nexport class InvalidSuffixCharacterError extends Error {\n  constructor(firstChar: string) {\n    super(`Invalid suffix. First character \"${firstChar}\" must be in the range [0-7]`);\n    this.name = \"InvalidSuffixCharacterError\";\n  }\n}\n\nexport class TypeIDConversionError extends Error {\n  constructor(actualPrefix: string, expectedPrefix: string) {\n    super(`Cannot convert TypeID of type ${actualPrefix} to type ${expectedPrefix}`);\n    this.name = \"TypeIDConversionError\";\n  }\n}\n"],"names":["stringify","stringify"],"mappings":";;;;;;;;;;;;;;AAAA,SAAS,aAAAA,kBAAiB;;AGA1B,SAAS,WAAW,UAAU;;;AFCvB,SAAS,UAAU,IAAA,EAAc;IACtC,IAAI;IACJ,MAAM,MAAM,IAAI,WAAW,EAAE;IAG7B,GAAA,CAAI,CAAC,CAAA,GAAA,CAAK,IAAI,SAAS,KAAK,KAAA,CAAM,GAAG,CAAC,GAAG,EAAE,CAAA,MAAO;IAClD,GAAA,CAAI,CAAC,CAAA,GAAK,MAAM,KAAM;IACtB,GAAA,CAAI,CAAC,CAAA,GAAK,MAAM,IAAK;IACrB,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI;IAGb,GAAA,CAAI,CAAC,CAAA,GAAA,CAAK,IAAI,SAAS,KAAK,KAAA,CAAM,GAAG,EAAE,GAAG,EAAE,CAAA,MAAO;IACnD,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI;IAGb,GAAA,CAAI,CAAC,CAAA,GAAA,CAAK,IAAI,SAAS,KAAK,KAAA,CAAM,IAAI,EAAE,GAAG,EAAE,CAAA,MAAO;IACpD,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI;IAGb,GAAA,CAAI,CAAC,CAAA,GAAA,CAAK,IAAI,SAAS,KAAK,KAAA,CAAM,IAAI,EAAE,GAAG,EAAE,CAAA,MAAO;IACpD,GAAA,CAAI,CAAC,CAAA,GAAI,IAAI;IAGb,GAAA,CAAI,EAAE,CAAA,GAAA,CAAM,IAAI,SAAS,KAAK,KAAA,CAAM,IAAI,EAAE,GAAG,EAAE,CAAA,IAAK,gBAAiB;IACrE,GAAA,CAAI,EAAE,CAAA,GAAK,IAAI,aAAe;IAC9B,GAAA,CAAI,EAAE,CAAA,GAAK,MAAM,KAAM;IACvB,GAAA,CAAI,EAAE,CAAA,GAAK,MAAM,KAAM;IACvB,GAAA,CAAI,EAAE,CAAA,GAAK,MAAM,IAAK;IACtB,GAAA,CAAI,EAAE,CAAA,GAAI,IAAI;IAEd,OAAO;AACT;;AC/BA,IAAM,WAAmB;AAGzB,IAAM,MAAkB,IAAI,WAAW;IACrC;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACxE;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;CACjD;AAEM,SAAS,OAAO,GAAA,EAAyB;IAC9C,MAAM,MAAgB,IAAI,MAAM,EAAE,EAAE,IAAA,CAAK,EAAE;IAE3C,IAAI,IAAI,MAAA,KAAW,IAAI;QACrB,MAAM,IAAI,MACR,CAAA,uCAAA,EAA0C,IAAI,MAAA,CAAA,SAAA,EAAkB,KAAA;IAEpE;IAGA,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAC,CAAA;IACrC,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAS,GAAA,CAAI,CAAC,CAAA,GAAI,EAAE,CAAA;IAC7B,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAC,CAAA;IACrC,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,CAAC,CAAA,GAAI,CAAA,KAAM,IAAA,CAAO,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAC7D,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,CAAC,CAAA,GAAI,EAAA,KAAO,CAAC,CAAA;IACpC,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,CAAC,CAAA,GAAI,CAAA,KAAM,IAAA,CAAO,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAC7D,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,CAAC,CAAA,GAAI,EAAA,KAAO,IAAA,CAAO,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAC9D,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAC,CAAA;IACrC,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,CAAC,CAAA,GAAI,CAAA,KAAM,IAAA,CAAO,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAC7D,GAAA,CAAI,CAAC,CAAA,GAAI,QAAA,CAAS,GAAA,CAAI,CAAC,CAAA,GAAI,EAAE,CAAA;IAG7B,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAC,CAAA;IACtC,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,CAAC,CAAA,GAAI,CAAA,KAAM,IAAA,CAAO,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAC9D,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,CAAC,CAAA,GAAI,EAAA,KAAO,CAAC,CAAA;IACrC,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,CAAC,CAAA,GAAI,CAAA,KAAM,IAAA,CAAO,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAC9D,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,CAAC,CAAA,GAAI,EAAA,KAAO,IAAA,CAAO,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAC/D,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,KAAQ,CAAC,CAAA;IACtC,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,CAAC,CAAA,GAAI,CAAA,KAAM,IAAA,CAAO,GAAA,CAAI,EAAE,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAC/D,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAS,GAAA,CAAI,EAAE,CAAA,GAAI,EAAE,CAAA;IAC/B,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,EAAE,CAAA,GAAI,GAAA,KAAQ,CAAC,CAAA;IACvC,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,EAAE,CAAA,GAAI,CAAA,KAAM,IAAA,CAAO,GAAA,CAAI,EAAE,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAChE,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,EAAE,CAAA,GAAI,EAAA,KAAO,CAAC,CAAA;IACtC,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,EAAE,CAAA,GAAI,CAAA,KAAM,IAAA,CAAO,GAAA,CAAI,EAAE,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAChE,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,EAAE,CAAA,GAAI,EAAA,KAAO,IAAA,CAAO,GAAA,CAAI,EAAE,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IACjE,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAU,GAAA,CAAI,EAAE,CAAA,GAAI,GAAA,KAAQ,CAAC,CAAA;IACvC,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAA,CAAW,GAAA,CAAI,EAAE,CAAA,GAAI,CAAA,KAAM,IAAA,CAAO,GAAA,CAAI,EAAE,CAAA,GAAI,GAAA,KAAQ,CAAE,CAAA;IAChE,GAAA,CAAI,EAAE,CAAA,GAAI,QAAA,CAAS,GAAA,CAAI,EAAE,CAAA,GAAI,EAAE,CAAA;IAE/B,OAAO,IAAI,IAAA,CAAK,EAAE;AACpB;AAEO,SAAS,OAAO,CAAA,EAAuB;IAC5C,IAAI,EAAE,MAAA,KAAW,IAAI;QACnB,MAAM,IAAI,MACR,CAAA,uCAAA,EAA0C,EAAE,MAAA,CAAA,SAAA,EAAkB,GAAA;IAElE;IAEA,MAAM,UAAU,IAAI,YAAY;IAChC,MAAM,IAAgB,QAAQ,MAAA,CAAO,CAAC;IAGtC,IACE,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,KAAM,OACd,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,OACf,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,KAAM,KACf;QACA,MAAM,IAAI,MAAM,0BAA0B;IAC5C;IAEA,MAAM,KAAK,IAAI,WAAW,EAAE;IAG5B,EAAA,CAAG,CAAC,CAAA,GAAK,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,IAAK,IAAK,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA;IACnC,EAAA,CAAG,CAAC,CAAA,GAAK,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,IAAK,IAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,IAAK;IACzC,EAAA,CAAG,CAAC,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,GAAI,CAAA,KAAM,IAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,IAAK,IAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,IAAK;IAClE,EAAA,CAAG,CAAC,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,GAAI,EAAA,KAAO,IAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,IAAK;IAChD,EAAA,CAAG,CAAC,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,GAAI,CAAA,KAAM,IAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,IAAK,IAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,IAAK;IAClE,EAAA,CAAG,CAAC,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA,GAAI,CAAA,KAAM,IAAK,GAAA,CAAI,CAAA,CAAE,CAAC,CAAC,CAAA;IAGzC,EAAA,CAAG,CAAC,CAAA,GAAK,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK;IAC3C,EAAA,CAAG,CAAC,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,GAAI,CAAA,KAAM,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK;IACrE,EAAA,CAAG,CAAC,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,GAAI,EAAA,KAAO,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK;IAClD,EAAA,CAAG,CAAC,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,GAAI,CAAA,KAAM,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK;IACrE,EAAA,CAAG,EAAE,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,GAAI,CAAA,KAAM,IAAK,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA;IAC5C,EAAA,CAAG,EAAE,CAAA,GAAK,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK;IAC5C,EAAA,CAAG,EAAE,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,GAAI,CAAA,KAAM,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK;IACtE,EAAA,CAAG,EAAE,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,GAAI,EAAA,KAAO,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK;IACnD,EAAA,CAAG,EAAE,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,GAAI,CAAA,KAAM,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK,IAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,IAAK;IACtE,EAAA,CAAG,EAAE,CAAA,GAAA,CAAM,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA,GAAI,CAAA,KAAM,IAAK,GAAA,CAAI,CAAA,CAAE,EAAE,CAAC,CAAA;IAE5C,OAAO;AACT;;;AEtIO,SAAS,cAAc,GAAA,EAAsB;IAClD,IAAI,IAAI,MAAA,GAAS,IAAI;QACnB,OAAO;IACT;IAEA,IAAI;IACJ,IAAI;IACJ,IAAI;IAEJ,IAAK,IAAI,GAAG,MAAM,IAAI,MAAA,EAAQ,IAAI,KAAK,KAAK,EAAG;QAC7C,OAAO,IAAI,UAAA,CAAW,CAAC;QACvB,MAAM,cAAc,OAAO,MAAM,OAAO;QACxC,MAAM,eAAe,SAAS;QAG9B,IAAA,CAAK,MAAM,KAAK,MAAM,MAAM,CAAA,KAAM,CAAC,aAAa;YAC9C,OAAO;QACT;QAEA,IAAI,CAAA,CAAE,eAAe,YAAA,GAAe;YAClC,OAAO;QACT;IACF;IACA,OAAO;AACT;;ACxBO,IAAM,qBAAN,cAAiC,MAAM;IAC5C,YAAY,MAAA,CAAgB;QAC1B,KAAA,CAAM,CAAA,gBAAA,EAAmB,OAAA,0CAAA,CAAkD;QAC3E,IAAA,CAAK,IAAA,GAAO;IACd;AACF;AAEO,IAAM,sBAAN,cAAkC,MAAM;IAC7C,YAAY,QAAA,EAAkB,MAAA,CAAgB;QAC5C,KAAA,CAAM,CAAA,0CAAA,EAA6C,SAAA,MAAA,EAAiB,QAAQ;QAC5E,IAAA,CAAK,IAAA,GAAO;IACd;AACF;AAEO,IAAM,mBAAN,cAA+B,MAAM;IAC1C,YAAY,MAAA,CAAgB;QAC1B,KAAA,CAAM,CAAA,iEAAA,EAAoE,QAAQ;QAClF,IAAA,CAAK,IAAA,GAAO;IACd;AACF;AAEO,IAAM,2BAAN,cAAuC,MAAM;IAClD,YAAY,MAAA,CAAgB;QAC1B,KAAA,CAAM,CAAA,sDAAA,EAAyD,QAAQ;QACvE,IAAA,CAAK,IAAA,GAAO;IACd;AACF;AAEO,IAAM,8BAAN,cAA0C,MAAM;IACrD,YAAY,SAAA,CAAmB;QAC7B,KAAA,CAAM,CAAA,iCAAA,EAAoC,UAAA,4BAAA,CAAuC;QACjF,IAAA,CAAK,IAAA,GAAO;IACd;AACF;AAEO,IAAM,wBAAN,cAAoC,MAAM;IAC/C,YAAY,YAAA,EAAsB,cAAA,CAAwB;QACxD,KAAA,CAAM,CAAA,8BAAA,EAAiC,aAAA,SAAA,EAAwB,gBAAgB;QAC/E,IAAA,CAAK,IAAA,GAAO;IACd;AACF;;AF1BO,SAAS,cACd,SAAY,EAAA,EACZ,SAAiB,EAAA,EACN;IACX,IAAI,CAAC,cAAc,MAAM,GAAG;QAC1B,MAAM,IAAI,mBAAmB,MAAM;IACrC;IAEA,IAAI;IACJ,IAAI,QAAQ;QACV,cAAc;IAChB,OAAO;QACL,MAAM,SAAS,IAAI,WAAW,EAAE;QAChC,CAAA,GAAA,6LAAA,CAAA,KAAA,EAAG,KAAA,GAAW,MAAM;QACpB,cAAc,OAAO,MAAM;IAC7B;IAEA,IAAI,YAAY,MAAA,KAAW,IAAI;QAC7B,MAAM,IAAI,yBAAyB,YAAY,MAAM;IACvD;IAEA,IAAI,WAAA,CAAY,CAAC,CAAA,GAAI,KAAK;QACxB,MAAM,IAAI,4BAA4B,WAAA,CAAY,CAAC,CAAC;IACtD;IAGA,OAAO,WAAW;IAElB,IAAI,WAAW,IAAI;QACjB,OAAO;IACT,OAAO;QACL,OAAO,GAAG,OAAA,CAAA,EAAU,aAAA;IACtB;AACF;AAeO,SAAS,WACd,MAAA,EACA,MAAA,EACW;IACX,IAAI;IACJ,IAAI;IAEJ,MAAM,kBAAkB,OAAO,WAAA,CAAY,GAAG;IAC9C,IAAI,oBAAoB,CAAA,GAAI;QAC1B,IAAI;QACJ,IAAI;IACN,OAAO;QACL,IAAI,OAAO,SAAA,CAAU,GAAG,eAAe;QACvC,IAAI,OAAO,SAAA,CAAU,kBAAkB,CAAC;QAExC,IAAI,CAAC,GAAG;YACN,MAAM,IAAI,iBAAiB,MAAM;QACnC;IACF;IAEA,IAAI,CAAC,GAAG;QACN,MAAM,IAAI,yBAAyB,CAAC;IACtC;IAEA,IAAI,UAAU,MAAM,QAAQ;QAC1B,MAAM,IAAI,oBAAoB,QAAQ,CAAC;IACzC;IAEA,OAAO,cAAc,GAAG,CAAC;AAC3B;AAuBO,SAAS,YACd,MAAA,EAC+B;IAC/B,OAAO;QAAE,QAAQ,QAAQ,MAAM;QAAG,QAAQ,UAAU,MAAM;IAAE;AAC9D;AAQO,SAAS,QAA0B,MAAA,EAAsB;IAC9D,MAAM,kBAAkB,OAAO,WAAA,CAAY,GAAG;IAC9C,IAAI,oBAAoB,CAAA,GAAI;QAC1B,OAAO;IACT;IACA,OAAO,OAAO,SAAA,CAAU,GAAG,eAAe;AAC5C;AAQO,SAAS,UAA4B,MAAA,EAA2B;IACrE,MAAM,kBAAkB,OAAO,WAAA,CAAY,GAAG;IAC9C,IAAI,oBAAoB,CAAA,GAAI;QAC1B,OAAO;IACT;IACA,OAAO,OAAO,SAAA,CAAU,kBAAkB,CAAC;AAC7C;AAEO,SAAS,YAA8B,MAAA,EAA+B;IAC3E,OAAO,OAAO,UAAU,MAAM,CAAC;AACjC;AAEO,SAAS,OAAyB,MAAA,EAAmB;IAC1D,uNAAO,YAAA,EAAU,YAAY,MAAM,CAAC;AACtC;AAEO,SAAS,cACd,MAAA,EACA,KAAA,EACuB;IACvB,MAAM,SAAS,OAAO,KAAK;IAC3B,OAAO,SACF,GAAG,OAAA,CAAA,EAAU,QAAA,GACb;AACP;AAEO,SAAS,SACd,IAAA,EACA,MAAA,EACW;IACX,MAAM,SAAS,OAAO,UAAU,IAAI,CAAC;IACrC,OAAO,SAAU,GAAG,OAAA,CAAA,EAAU,QAAA,GAA0B;AAC1D;;AHjKO,IAAM,SAAN,MAAqC;IAC1C,YAAoB,MAAA,EAAmB,SAAiB,EAAA,CAAI;QAAxC,IAAA,CAAA,MAAA,GAAA;QAAmB,IAAA,CAAA,MAAA,GAAA;QACrC,MAAM,YAAY,cAAc,QAAQ,MAAM;QAE9C,IAAA,CAAK,MAAA,GAAS,QAAQ,SAAS;QAC/B,IAAA,CAAK,MAAA,GAAS,UAAU,SAAS;IACnC;IAEO,UAAa;QAClB,OAAO,IAAA,CAAK,MAAA;IACd;IAEO,YAAoB;QACzB,OAAO,IAAA,CAAK,MAAA;IACd;IAEO,OAA+B,MAAA,EAAsB;QAC1D,MAAM,OAAO,IAAA;QACb,IAAI,KAAK,MAAA,KAAW,QAAQ;YAC1B,MAAM,IAAI,sBAAsB,KAAK,MAAA,EAAQ,MAAM;QACrD;QACA,OAAO;IACT;IAEO,cAA0B;QAC/B,OAAO,OAAO,IAAA,CAAK,MAAM;IAC3B;IAEO,SAAiB;QACtB,uNAAOC,YAAAA,EAAU,IAAA,CAAK,WAAA,CAAY,CAAC;IACrC;IAEO,WAAqD;QAC1D,IAAI,IAAA,CAAK,MAAA,KAAW,IAAI;YACtB,OAAO,IAAA,CAAK,MAAA;QACd;QACA,OAAO,GAAG,IAAA,CAAK,MAAA,CAAA,CAAA,EAAU,IAAA,CAAK,MAAA,EAAA;IAChC;IAEA,OAAO,WACL,GAAA,EACA,MAAA,EACW;QACX,MAAM,YAAY,WAAW,KAAK,MAAM;QAExC,OAAO,IAAI,OAAU,QAAQ,SAAS,GAAQ,UAAU,SAAS,CAAC;IACpE;IAEA,OAAO,cACL,MAAA,EACA,KAAA,EACW;QACX,MAAM,SAAS,OAAO,KAAK;QAC3B,OAAO,IAAI,OAAO,QAAQ,MAAM;IAClC;IAEA,OAAO,SAAiC,MAAA,EAAW,IAAA,EAAyB;QAC1E,MAAM,SAAS,OAAO,UAAU,IAAI,CAAC;QACrC,OAAO,IAAI,OAAO,QAAQ,MAAM;IAClC;AACF;AAKO,SAAS,OACd,SAAY,EAAA,EACZ,SAAiB,EAAA,EACN;IACX,OAAO,IAAI,OAAO,QAAQ,MAAM;AAClC","ignoreList":[0,1,2,3,4,5]}},
    {"offset": {"line": 3951, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/wasm/arcjet_analyze_js_req.component.js"],"sourcesContent":["function instantiate(getCoreModule, imports, instantiateCore = WebAssembly.instantiate) {\n  \n  class ComponentError extends Error {\n    constructor (value) {\n      const enumerable = typeof value !== 'string';\n      super(enumerable ? `${String(value)} (see error.payload)` : value);\n      Object.defineProperty(this, 'payload', { value, enumerable });\n    }\n  }\n  \n  let dv = new DataView(new ArrayBuffer());\n  const dataView = mem => dv.buffer === mem.buffer ? dv : dv = new DataView(mem.buffer);\n  \n  function throwInvalidBool() {\n    throw new TypeError('invalid variant discriminant for bool');\n  }\n  \n  function toUint32(val) {\n    return val >>> 0;\n  }\n  \n  const utf8Decoder = new TextDecoder();\n  \n  const utf8Encoder = new TextEncoder();\n  \n  let utf8EncodedLen = 0;\n  function utf8Encode(s, realloc, memory) {\n    if (typeof s !== 'string') throw new TypeError('expected a string');\n    if (s.length === 0) {\n      utf8EncodedLen = 0;\n      return 1;\n    }\n    let buf = utf8Encoder.encode(s);\n    let ptr = realloc(0, 0, 1, buf.length);\n    new Uint8Array(memory.buffer).set(buf, ptr);\n    utf8EncodedLen = buf.length;\n    return ptr;\n  }\n  \n  \n  const module0 = getCoreModule('arcjet_analyze_js_req.component.core.wasm');\n  const module1 = getCoreModule('arcjet_analyze_js_req.component.core2.wasm');\n  const module2 = getCoreModule('arcjet_analyze_js_req.component.core3.wasm');\n  \n  const { detect } = imports['arcjet:js-req/bot-identifier'];\n  const { hasGravatar, hasMxRecords, isDisposableEmail, isFreeEmail } = imports['arcjet:js-req/email-validator-overrides'];\n  const { detect: detect$1 } = imports['arcjet:js-req/sensitive-information-identifier'];\n  const { verify } = imports['arcjet:js-req/verify-bot'];\n  let gen = (function* init () {\n    let exports0;\n    let exports1;\n    let memory0;\n    let realloc0;\n    \n    function trampoline0(arg0, arg1, arg2) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = detect(result0);\n      var vec2 = ret;\n      var len2 = vec2.length;\n      var result2 = realloc0(0, 0, 4, len2 * 8);\n      for (let i = 0; i < vec2.length; i++) {\n        const e = vec2[i];\n        const base = result2 + i * 8;var ptr1 = utf8Encode(e, realloc0, memory0);\n        var len1 = utf8EncodedLen;\n        dataView(memory0).setInt32(base + 4, len1, true);\n        dataView(memory0).setInt32(base + 0, ptr1, true);\n      }\n      dataView(memory0).setInt32(arg2 + 4, len2, true);\n      dataView(memory0).setInt32(arg2 + 0, result2, true);\n    }\n    \n    function trampoline1(arg0, arg1, arg2, arg3) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      var ptr1 = arg2;\n      var len1 = arg3;\n      var result1 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr1, len1));\n      const ret = verify(result0, result1);\n      var val2 = ret;\n      let enum2;\n      switch (val2) {\n        case 'verified': {\n          enum2 = 0;\n          break;\n        }\n        case 'spoofed': {\n          enum2 = 1;\n          break;\n        }\n        case 'unverifiable': {\n          enum2 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val2}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum2;\n    }\n    \n    function trampoline2(arg0, arg1) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = isFreeEmail(result0);\n      var val1 = ret;\n      let enum1;\n      switch (val1) {\n        case 'yes': {\n          enum1 = 0;\n          break;\n        }\n        case 'no': {\n          enum1 = 1;\n          break;\n        }\n        case 'unknown': {\n          enum1 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val1}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum1;\n    }\n    \n    function trampoline3(arg0, arg1) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = isDisposableEmail(result0);\n      var val1 = ret;\n      let enum1;\n      switch (val1) {\n        case 'yes': {\n          enum1 = 0;\n          break;\n        }\n        case 'no': {\n          enum1 = 1;\n          break;\n        }\n        case 'unknown': {\n          enum1 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val1}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum1;\n    }\n    \n    function trampoline4(arg0, arg1) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = hasMxRecords(result0);\n      var val1 = ret;\n      let enum1;\n      switch (val1) {\n        case 'yes': {\n          enum1 = 0;\n          break;\n        }\n        case 'no': {\n          enum1 = 1;\n          break;\n        }\n        case 'unknown': {\n          enum1 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val1}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum1;\n    }\n    \n    function trampoline5(arg0, arg1) {\n      var ptr0 = arg0;\n      var len0 = arg1;\n      var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n      const ret = hasGravatar(result0);\n      var val1 = ret;\n      let enum1;\n      switch (val1) {\n        case 'yes': {\n          enum1 = 0;\n          break;\n        }\n        case 'no': {\n          enum1 = 1;\n          break;\n        }\n        case 'unknown': {\n          enum1 = 2;\n          break;\n        }\n        default: {\n          if ((ret) instanceof Error) {\n            console.error(ret);\n          }\n          \n          throw new TypeError(`\"${val1}\" is not one of the cases of validator-response`);\n        }\n      }\n      return enum1;\n    }\n    \n    function trampoline6(arg0, arg1, arg2) {\n      var len1 = arg1;\n      var base1 = arg0;\n      var result1 = [];\n      for (let i = 0; i < len1; i++) {\n        const base = base1 + i * 8;\n        var ptr0 = dataView(memory0).getInt32(base + 0, true);\n        var len0 = dataView(memory0).getInt32(base + 4, true);\n        var result0 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr0, len0));\n        result1.push(result0);\n      }\n      const ret = detect$1(result1);\n      var vec5 = ret;\n      var len5 = vec5.length;\n      var result5 = realloc0(0, 0, 4, len5 * 16);\n      for (let i = 0; i < vec5.length; i++) {\n        const e = vec5[i];\n        const base = result5 + i * 16;var variant4 = e;\n        if (variant4 === null || variant4=== undefined) {\n          dataView(memory0).setInt8(base + 0, 0, true);\n        } else {\n          const e = variant4;\n          dataView(memory0).setInt8(base + 0, 1, true);\n          var variant3 = e;\n          switch (variant3.tag) {\n            case 'email': {\n              dataView(memory0).setInt8(base + 4, 0, true);\n              break;\n            }\n            case 'phone-number': {\n              dataView(memory0).setInt8(base + 4, 1, true);\n              break;\n            }\n            case 'ip-address': {\n              dataView(memory0).setInt8(base + 4, 2, true);\n              break;\n            }\n            case 'credit-card-number': {\n              dataView(memory0).setInt8(base + 4, 3, true);\n              break;\n            }\n            case 'custom': {\n              const e = variant3.val;\n              dataView(memory0).setInt8(base + 4, 4, true);\n              var ptr2 = utf8Encode(e, realloc0, memory0);\n              var len2 = utf8EncodedLen;\n              dataView(memory0).setInt32(base + 12, len2, true);\n              dataView(memory0).setInt32(base + 8, ptr2, true);\n              break;\n            }\n            default: {\n              throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant3.tag)}\\` (received \\`${variant3}\\`) specified for \\`SensitiveInfoEntity\\``);\n            }\n          }\n        }\n      }\n      dataView(memory0).setInt32(arg2 + 4, len5, true);\n      dataView(memory0).setInt32(arg2 + 0, result5, true);\n    }\n    let exports2;\n    let postReturn0;\n    let postReturn1;\n    let postReturn2;\n    let postReturn3;\n    let postReturn4;\n    Promise.all([module0, module1, module2]).catch(() => {});\n    ({ exports: exports0 } = yield instantiateCore(yield module1));\n    ({ exports: exports1 } = yield instantiateCore(yield module0, {\n      'arcjet:js-req/bot-identifier': {\n        detect: exports0['0'],\n      },\n      'arcjet:js-req/email-validator-overrides': {\n        'has-gravatar': exports0['5'],\n        'has-mx-records': exports0['4'],\n        'is-disposable-email': exports0['3'],\n        'is-free-email': exports0['2'],\n      },\n      'arcjet:js-req/sensitive-information-identifier': {\n        detect: exports0['6'],\n      },\n      'arcjet:js-req/verify-bot': {\n        verify: exports0['1'],\n      },\n    }));\n    memory0 = exports1.memory;\n    realloc0 = exports1.cabi_realloc;\n    ({ exports: exports2 } = yield instantiateCore(yield module2, {\n      '': {\n        $imports: exports0.$imports,\n        '0': trampoline0,\n        '1': trampoline1,\n        '2': trampoline2,\n        '3': trampoline3,\n        '4': trampoline4,\n        '5': trampoline5,\n        '6': trampoline6,\n      },\n    }));\n    postReturn0 = exports1['cabi_post_detect-bot'];\n    postReturn1 = exports1['cabi_post_generate-fingerprint'];\n    postReturn2 = exports1['cabi_post_validate-characteristics'];\n    postReturn3 = exports1['cabi_post_is-valid-email'];\n    postReturn4 = exports1['cabi_post_detect-sensitive-info'];\n    \n    function detectBot(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var variant7 = arg1;\n      let variant7_0;\n      let variant7_1;\n      let variant7_2;\n      let variant7_3;\n      switch (variant7.tag) {\n        case 'allowed-bot-config': {\n          const e = variant7.val;\n          var {entities: v1_0, skipCustomDetect: v1_1 } = e;\n          var vec3 = v1_0;\n          var len3 = vec3.length;\n          var result3 = realloc0(0, 0, 4, len3 * 8);\n          for (let i = 0; i < vec3.length; i++) {\n            const e = vec3[i];\n            const base = result3 + i * 8;var ptr2 = utf8Encode(e, realloc0, memory0);\n            var len2 = utf8EncodedLen;\n            dataView(memory0).setInt32(base + 4, len2, true);\n            dataView(memory0).setInt32(base + 0, ptr2, true);\n          }\n          variant7_0 = 0;\n          variant7_1 = result3;\n          variant7_2 = len3;\n          variant7_3 = v1_1 ? 1 : 0;\n          break;\n        }\n        case 'denied-bot-config': {\n          const e = variant7.val;\n          var {entities: v4_0, skipCustomDetect: v4_1 } = e;\n          var vec6 = v4_0;\n          var len6 = vec6.length;\n          var result6 = realloc0(0, 0, 4, len6 * 8);\n          for (let i = 0; i < vec6.length; i++) {\n            const e = vec6[i];\n            const base = result6 + i * 8;var ptr5 = utf8Encode(e, realloc0, memory0);\n            var len5 = utf8EncodedLen;\n            dataView(memory0).setInt32(base + 4, len5, true);\n            dataView(memory0).setInt32(base + 0, ptr5, true);\n          }\n          variant7_0 = 1;\n          variant7_1 = result6;\n          variant7_2 = len6;\n          variant7_3 = v4_1 ? 1 : 0;\n          break;\n        }\n        default: {\n          throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant7.tag)}\\` (received \\`${variant7}\\`) specified for \\`BotConfig\\``);\n        }\n      }\n      const ret = exports1['detect-bot'](ptr0, len0, variant7_0, variant7_1, variant7_2, variant7_3);\n      let variant15;\n      switch (dataView(memory0).getUint8(ret + 0, true)) {\n        case 0: {\n          var len9 = dataView(memory0).getInt32(ret + 8, true);\n          var base9 = dataView(memory0).getInt32(ret + 4, true);\n          var result9 = [];\n          for (let i = 0; i < len9; i++) {\n            const base = base9 + i * 8;\n            var ptr8 = dataView(memory0).getInt32(base + 0, true);\n            var len8 = dataView(memory0).getInt32(base + 4, true);\n            var result8 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr8, len8));\n            result9.push(result8);\n          }\n          var len11 = dataView(memory0).getInt32(ret + 16, true);\n          var base11 = dataView(memory0).getInt32(ret + 12, true);\n          var result11 = [];\n          for (let i = 0; i < len11; i++) {\n            const base = base11 + i * 8;\n            var ptr10 = dataView(memory0).getInt32(base + 0, true);\n            var len10 = dataView(memory0).getInt32(base + 4, true);\n            var result10 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr10, len10));\n            result11.push(result10);\n          }\n          var bool12 = dataView(memory0).getUint8(ret + 20, true);\n          var bool13 = dataView(memory0).getUint8(ret + 21, true);\n          variant15= {\n            tag: 'ok',\n            val: {\n              allowed: result9,\n              denied: result11,\n              verified: bool12 == 0 ? false : (bool12 == 1 ? true : throwInvalidBool()),\n              spoofed: bool13 == 0 ? false : (bool13 == 1 ? true : throwInvalidBool()),\n            }\n          };\n          break;\n        }\n        case 1: {\n          var ptr14 = dataView(memory0).getInt32(ret + 4, true);\n          var len14 = dataView(memory0).getInt32(ret + 8, true);\n          var result14 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr14, len14));\n          variant15= {\n            tag: 'err',\n            val: result14\n          };\n          break;\n        }\n        default: {\n          throw new TypeError('invalid variant discriminant for expected');\n        }\n      }\n      const retVal = variant15;\n      postReturn0(ret);\n      if (typeof retVal === 'object' && retVal.tag === 'err') {\n        throw new ComponentError(retVal.val);\n      }\n      return retVal.val;\n    }\n    \n    function generateFingerprint(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var vec2 = arg1;\n      var len2 = vec2.length;\n      var result2 = realloc0(0, 0, 4, len2 * 8);\n      for (let i = 0; i < vec2.length; i++) {\n        const e = vec2[i];\n        const base = result2 + i * 8;var ptr1 = utf8Encode(e, realloc0, memory0);\n        var len1 = utf8EncodedLen;\n        dataView(memory0).setInt32(base + 4, len1, true);\n        dataView(memory0).setInt32(base + 0, ptr1, true);\n      }\n      const ret = exports1['generate-fingerprint'](ptr0, len0, result2, len2);\n      let variant5;\n      switch (dataView(memory0).getUint8(ret + 0, true)) {\n        case 0: {\n          var ptr3 = dataView(memory0).getInt32(ret + 4, true);\n          var len3 = dataView(memory0).getInt32(ret + 8, true);\n          var result3 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr3, len3));\n          variant5= {\n            tag: 'ok',\n            val: result3\n          };\n          break;\n        }\n        case 1: {\n          var ptr4 = dataView(memory0).getInt32(ret + 4, true);\n          var len4 = dataView(memory0).getInt32(ret + 8, true);\n          var result4 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr4, len4));\n          variant5= {\n            tag: 'err',\n            val: result4\n          };\n          break;\n        }\n        default: {\n          throw new TypeError('invalid variant discriminant for expected');\n        }\n      }\n      const retVal = variant5;\n      postReturn1(ret);\n      if (typeof retVal === 'object' && retVal.tag === 'err') {\n        throw new ComponentError(retVal.val);\n      }\n      return retVal.val;\n    }\n    \n    function validateCharacteristics(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var vec2 = arg1;\n      var len2 = vec2.length;\n      var result2 = realloc0(0, 0, 4, len2 * 8);\n      for (let i = 0; i < vec2.length; i++) {\n        const e = vec2[i];\n        const base = result2 + i * 8;var ptr1 = utf8Encode(e, realloc0, memory0);\n        var len1 = utf8EncodedLen;\n        dataView(memory0).setInt32(base + 4, len1, true);\n        dataView(memory0).setInt32(base + 0, ptr1, true);\n      }\n      const ret = exports1['validate-characteristics'](ptr0, len0, result2, len2);\n      let variant4;\n      switch (dataView(memory0).getUint8(ret + 0, true)) {\n        case 0: {\n          variant4= {\n            tag: 'ok',\n            val: undefined\n          };\n          break;\n        }\n        case 1: {\n          var ptr3 = dataView(memory0).getInt32(ret + 4, true);\n          var len3 = dataView(memory0).getInt32(ret + 8, true);\n          var result3 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr3, len3));\n          variant4= {\n            tag: 'err',\n            val: result3\n          };\n          break;\n        }\n        default: {\n          throw new TypeError('invalid variant discriminant for expected');\n        }\n      }\n      const retVal = variant4;\n      postReturn2(ret);\n      if (typeof retVal === 'object' && retVal.tag === 'err') {\n        throw new ComponentError(retVal.val);\n      }\n      return retVal.val;\n    }\n    \n    function isValidEmail(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var variant7 = arg1;\n      let variant7_0;\n      let variant7_1;\n      let variant7_2;\n      let variant7_3;\n      let variant7_4;\n      switch (variant7.tag) {\n        case 'allow-email-validation-config': {\n          const e = variant7.val;\n          var {requireTopLevelDomain: v1_0, allowDomainLiteral: v1_1, allow: v1_2 } = e;\n          var vec3 = v1_2;\n          var len3 = vec3.length;\n          var result3 = realloc0(0, 0, 4, len3 * 8);\n          for (let i = 0; i < vec3.length; i++) {\n            const e = vec3[i];\n            const base = result3 + i * 8;var ptr2 = utf8Encode(e, realloc0, memory0);\n            var len2 = utf8EncodedLen;\n            dataView(memory0).setInt32(base + 4, len2, true);\n            dataView(memory0).setInt32(base + 0, ptr2, true);\n          }\n          variant7_0 = 0;\n          variant7_1 = v1_0 ? 1 : 0;\n          variant7_2 = v1_1 ? 1 : 0;\n          variant7_3 = result3;\n          variant7_4 = len3;\n          break;\n        }\n        case 'deny-email-validation-config': {\n          const e = variant7.val;\n          var {requireTopLevelDomain: v4_0, allowDomainLiteral: v4_1, deny: v4_2 } = e;\n          var vec6 = v4_2;\n          var len6 = vec6.length;\n          var result6 = realloc0(0, 0, 4, len6 * 8);\n          for (let i = 0; i < vec6.length; i++) {\n            const e = vec6[i];\n            const base = result6 + i * 8;var ptr5 = utf8Encode(e, realloc0, memory0);\n            var len5 = utf8EncodedLen;\n            dataView(memory0).setInt32(base + 4, len5, true);\n            dataView(memory0).setInt32(base + 0, ptr5, true);\n          }\n          variant7_0 = 1;\n          variant7_1 = v4_0 ? 1 : 0;\n          variant7_2 = v4_1 ? 1 : 0;\n          variant7_3 = result6;\n          variant7_4 = len6;\n          break;\n        }\n        default: {\n          throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant7.tag)}\\` (received \\`${variant7}\\`) specified for \\`EmailValidationConfig\\``);\n        }\n      }\n      const ret = exports1['is-valid-email'](ptr0, len0, variant7_0, variant7_1, variant7_2, variant7_3, variant7_4);\n      let variant12;\n      switch (dataView(memory0).getUint8(ret + 0, true)) {\n        case 0: {\n          let enum8;\n          switch (dataView(memory0).getUint8(ret + 4, true)) {\n            case 0: {\n              enum8 = 'valid';\n              break;\n            }\n            case 1: {\n              enum8 = 'invalid';\n              break;\n            }\n            default: {\n              throw new TypeError('invalid discriminant specified for EmailValidity');\n            }\n          }\n          var len10 = dataView(memory0).getInt32(ret + 12, true);\n          var base10 = dataView(memory0).getInt32(ret + 8, true);\n          var result10 = [];\n          for (let i = 0; i < len10; i++) {\n            const base = base10 + i * 8;\n            var ptr9 = dataView(memory0).getInt32(base + 0, true);\n            var len9 = dataView(memory0).getInt32(base + 4, true);\n            var result9 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr9, len9));\n            result10.push(result9);\n          }\n          variant12= {\n            tag: 'ok',\n            val: {\n              validity: enum8,\n              blocked: result10,\n            }\n          };\n          break;\n        }\n        case 1: {\n          var ptr11 = dataView(memory0).getInt32(ret + 4, true);\n          var len11 = dataView(memory0).getInt32(ret + 8, true);\n          var result11 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr11, len11));\n          variant12= {\n            tag: 'err',\n            val: result11\n          };\n          break;\n        }\n        default: {\n          throw new TypeError('invalid variant discriminant for expected');\n        }\n      }\n      const retVal = variant12;\n      postReturn3(ret);\n      if (typeof retVal === 'object' && retVal.tag === 'err') {\n        throw new ComponentError(retVal.val);\n      }\n      return retVal.val;\n    }\n    \n    function detectSensitiveInfo(arg0, arg1) {\n      var ptr0 = utf8Encode(arg0, realloc0, memory0);\n      var len0 = utf8EncodedLen;\n      var {entities: v1_0, contextWindowSize: v1_1, skipCustomDetect: v1_2 } = arg1;\n      var variant8 = v1_0;\n      let variant8_0;\n      let variant8_1;\n      let variant8_2;\n      switch (variant8.tag) {\n        case 'allow': {\n          const e = variant8.val;\n          var vec4 = e;\n          var len4 = vec4.length;\n          var result4 = realloc0(0, 0, 4, len4 * 12);\n          for (let i = 0; i < vec4.length; i++) {\n            const e = vec4[i];\n            const base = result4 + i * 12;var variant3 = e;\n            switch (variant3.tag) {\n              case 'email': {\n                dataView(memory0).setInt8(base + 0, 0, true);\n                break;\n              }\n              case 'phone-number': {\n                dataView(memory0).setInt8(base + 0, 1, true);\n                break;\n              }\n              case 'ip-address': {\n                dataView(memory0).setInt8(base + 0, 2, true);\n                break;\n              }\n              case 'credit-card-number': {\n                dataView(memory0).setInt8(base + 0, 3, true);\n                break;\n              }\n              case 'custom': {\n                const e = variant3.val;\n                dataView(memory0).setInt8(base + 0, 4, true);\n                var ptr2 = utf8Encode(e, realloc0, memory0);\n                var len2 = utf8EncodedLen;\n                dataView(memory0).setInt32(base + 8, len2, true);\n                dataView(memory0).setInt32(base + 4, ptr2, true);\n                break;\n              }\n              default: {\n                throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant3.tag)}\\` (received \\`${variant3}\\`) specified for \\`SensitiveInfoEntity\\``);\n              }\n            }\n          }\n          variant8_0 = 0;\n          variant8_1 = result4;\n          variant8_2 = len4;\n          break;\n        }\n        case 'deny': {\n          const e = variant8.val;\n          var vec7 = e;\n          var len7 = vec7.length;\n          var result7 = realloc0(0, 0, 4, len7 * 12);\n          for (let i = 0; i < vec7.length; i++) {\n            const e = vec7[i];\n            const base = result7 + i * 12;var variant6 = e;\n            switch (variant6.tag) {\n              case 'email': {\n                dataView(memory0).setInt8(base + 0, 0, true);\n                break;\n              }\n              case 'phone-number': {\n                dataView(memory0).setInt8(base + 0, 1, true);\n                break;\n              }\n              case 'ip-address': {\n                dataView(memory0).setInt8(base + 0, 2, true);\n                break;\n              }\n              case 'credit-card-number': {\n                dataView(memory0).setInt8(base + 0, 3, true);\n                break;\n              }\n              case 'custom': {\n                const e = variant6.val;\n                dataView(memory0).setInt8(base + 0, 4, true);\n                var ptr5 = utf8Encode(e, realloc0, memory0);\n                var len5 = utf8EncodedLen;\n                dataView(memory0).setInt32(base + 8, len5, true);\n                dataView(memory0).setInt32(base + 4, ptr5, true);\n                break;\n              }\n              default: {\n                throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant6.tag)}\\` (received \\`${variant6}\\`) specified for \\`SensitiveInfoEntity\\``);\n              }\n            }\n          }\n          variant8_0 = 1;\n          variant8_1 = result7;\n          variant8_2 = len7;\n          break;\n        }\n        default: {\n          throw new TypeError(`invalid variant tag value \\`${JSON.stringify(variant8.tag)}\\` (received \\`${variant8}\\`) specified for \\`SensitiveInfoEntities\\``);\n        }\n      }\n      var variant9 = v1_1;\n      let variant9_0;\n      let variant9_1;\n      if (variant9 === null || variant9=== undefined) {\n        variant9_0 = 0;\n        variant9_1 = 0;\n      } else {\n        const e = variant9;\n        variant9_0 = 1;\n        variant9_1 = toUint32(e);\n      }\n      const ret = exports1['detect-sensitive-info'](ptr0, len0, variant8_0, variant8_1, variant8_2, variant9_0, variant9_1, v1_2 ? 1 : 0);\n      var len12 = dataView(memory0).getInt32(ret + 4, true);\n      var base12 = dataView(memory0).getInt32(ret + 0, true);\n      var result12 = [];\n      for (let i = 0; i < len12; i++) {\n        const base = base12 + i * 20;\n        let variant11;\n        switch (dataView(memory0).getUint8(base + 8, true)) {\n          case 0: {\n            variant11= {\n              tag: 'email',\n            };\n            break;\n          }\n          case 1: {\n            variant11= {\n              tag: 'phone-number',\n            };\n            break;\n          }\n          case 2: {\n            variant11= {\n              tag: 'ip-address',\n            };\n            break;\n          }\n          case 3: {\n            variant11= {\n              tag: 'credit-card-number',\n            };\n            break;\n          }\n          case 4: {\n            var ptr10 = dataView(memory0).getInt32(base + 12, true);\n            var len10 = dataView(memory0).getInt32(base + 16, true);\n            var result10 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr10, len10));\n            variant11= {\n              tag: 'custom',\n              val: result10\n            };\n            break;\n          }\n          default: {\n            throw new TypeError('invalid variant discriminant for SensitiveInfoEntity');\n          }\n        }\n        result12.push({\n          start: dataView(memory0).getInt32(base + 0, true) >>> 0,\n          end: dataView(memory0).getInt32(base + 4, true) >>> 0,\n          identifiedType: variant11,\n        });\n      }\n      var len15 = dataView(memory0).getInt32(ret + 12, true);\n      var base15 = dataView(memory0).getInt32(ret + 8, true);\n      var result15 = [];\n      for (let i = 0; i < len15; i++) {\n        const base = base15 + i * 20;\n        let variant14;\n        switch (dataView(memory0).getUint8(base + 8, true)) {\n          case 0: {\n            variant14= {\n              tag: 'email',\n            };\n            break;\n          }\n          case 1: {\n            variant14= {\n              tag: 'phone-number',\n            };\n            break;\n          }\n          case 2: {\n            variant14= {\n              tag: 'ip-address',\n            };\n            break;\n          }\n          case 3: {\n            variant14= {\n              tag: 'credit-card-number',\n            };\n            break;\n          }\n          case 4: {\n            var ptr13 = dataView(memory0).getInt32(base + 12, true);\n            var len13 = dataView(memory0).getInt32(base + 16, true);\n            var result13 = utf8Decoder.decode(new Uint8Array(memory0.buffer, ptr13, len13));\n            variant14= {\n              tag: 'custom',\n              val: result13\n            };\n            break;\n          }\n          default: {\n            throw new TypeError('invalid variant discriminant for SensitiveInfoEntity');\n          }\n        }\n        result15.push({\n          start: dataView(memory0).getInt32(base + 0, true) >>> 0,\n          end: dataView(memory0).getInt32(base + 4, true) >>> 0,\n          identifiedType: variant14,\n        });\n      }\n      const retVal = {\n        allowed: result12,\n        denied: result15,\n      };\n      postReturn4(ret);\n      return retVal;\n    }\n    \n    return { detectBot, detectSensitiveInfo, generateFingerprint, isValidEmail, validateCharacteristics,  };\n  })();\n  let promise, resolve, reject;\n  function runNext (value) {\n    try {\n      let done;\n      do {\n        ({ value, done } = gen.next(value));\n      } while (!(value instanceof Promise) && !done);\n      if (done) {\n        if (resolve) resolve(value);\n        else return value;\n      }\n      if (!promise) promise = new Promise((_resolve, _reject) => (resolve = _resolve, reject = _reject));\n      value.then(nextVal => done ? resolve() : runNext(nextVal), reject);\n    }\n    catch (e) {\n      if (reject) reject(e);\n      else throw e;\n    }\n  }\n  const maybeSyncReturn = runNext(null);\n  return promise || maybeSyncReturn;\n}\n\nexport { instantiate };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4932, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/wasm/arcjet_analyze_js_req.component.core.wasm_.loader.mjs"],"sourcesContent":["import wasmPath from \"WASM_PATH\";\n\nconst mod = await __turbopack_wasm_module__(wasmPath);\n\nexport default mod;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,MAAM,0BAA0B,oNAAA,CAAA,UAAQ;uCAErC","ignoreList":[0]}},
    {"offset": {"line": 4951, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/wasm/arcjet_analyze_js_req.component.core2.wasm_.loader.mjs"],"sourcesContent":["import wasmPath from \"WASM_PATH\";\n\nconst mod = await __turbopack_wasm_module__(wasmPath);\n\nexport default mod;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,MAAM,0BAA0B,qNAAA,CAAA,UAAQ;uCAErC","ignoreList":[0]}},
    {"offset": {"line": 4970, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/wasm/arcjet_analyze_js_req.component.core3.wasm_.loader.mjs"],"sourcesContent":["import wasmPath from \"WASM_PATH\";\n\nconst mod = await __turbopack_wasm_module__(wasmPath);\n\nexport default mod;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,MAAM,0BAA0B,qNAAA,CAAA,UAAQ;uCAErC","ignoreList":[0]}},
    {"offset": {"line": 4984, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze-wasm/edge-light.js"],"sourcesContent":["import { instantiate } from './wasm/arcjet_analyze_js_req.component.js';\nimport componentCoreWasm from './wasm/arcjet_analyze_js_req.component.core.wasm?module';\nimport componentCore2Wasm from './wasm/arcjet_analyze_js_req.component.core2.wasm?module';\nimport componentCore3Wasm from './wasm/arcjet_analyze_js_req.component.core3.wasm?module';\n\nasync function moduleFromPath(path) {\n    if (path === \"arcjet_analyze_js_req.component.core.wasm\") {\n        return componentCoreWasm;\n    }\n    if (path === \"arcjet_analyze_js_req.component.core2.wasm\") {\n        return componentCore2Wasm;\n    }\n    if (path === \"arcjet_analyze_js_req.component.core3.wasm\") {\n        return componentCore3Wasm;\n    }\n    throw new Error(`Unknown path: ${path}`);\n}\nasync function initializeWasm(coreImports) {\n    try {\n        return instantiate(moduleFromPath, coreImports);\n    }\n    catch {\n        return undefined;\n    }\n}\n\nexport { initializeWasm };\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAEA,eAAe,eAAe,IAAI;IAC9B,IAAI,SAAS,6CAA6C;QACtD,OAAO,uNAAA,CAAA,UAAiB;IAC5B;IACA,IAAI,SAAS,8CAA8C;QACvD,OAAO,wNAAA,CAAA,UAAkB;IAC7B;IACA,IAAI,SAAS,8CAA8C;QACvD,OAAO,wNAAA,CAAA,UAAkB;IAC7B;IACA,MAAM,IAAI,MAAM,CAAC,cAAc,EAAE,MAAM;AAC3C;AACA,eAAe,eAAe,WAAW;IACrC,IAAI;QACA,OAAO,CAAA,GAAA,iMAAA,CAAA,cAAW,AAAD,EAAE,gBAAgB;IACvC,EACA,OAAM;QACF,OAAO;IACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 5028, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/analyze/index.js"],"sourcesContent":["import { initializeWasm } from '@arcjet/analyze-wasm';\n\nconst FREE_EMAIL_PROVIDERS = [\n    \"gmail.com\",\n    \"yahoo.com\",\n    \"hotmail.com\",\n    \"aol.com\",\n    \"hotmail.co.uk\",\n];\nfunction noOpSensitiveInfoDetect() {\n    return [];\n}\nfunction noOpBotsDetect() {\n    return [];\n}\nfunction createCoreImports(detect) {\n    if (typeof detect !== \"function\") {\n        detect = noOpSensitiveInfoDetect;\n    }\n    return {\n        \"arcjet:js-req/bot-identifier\": {\n            detect: noOpBotsDetect,\n        },\n        \"arcjet:js-req/email-validator-overrides\": {\n            isFreeEmail(domain) {\n                if (FREE_EMAIL_PROVIDERS.includes(domain)) {\n                    return \"yes\";\n                }\n                return \"unknown\";\n            },\n            isDisposableEmail() {\n                return \"unknown\";\n            },\n            hasMxRecords() {\n                return \"unknown\";\n            },\n            hasGravatar() {\n                return \"unknown\";\n            },\n        },\n        \"arcjet:js-req/sensitive-information-identifier\": {\n            detect,\n        },\n        \"arcjet:js-req/verify-bot\": {\n            verify() {\n                return \"unverifiable\";\n            },\n        },\n    };\n}\n/**\n * Generate a fingerprint for the client. This is used to identify the client\n * across multiple requests.\n * @param context - The Arcjet Analyze context.\n * @param request - The request to fingerprint.\n * @returns A SHA-256 string fingerprint.\n */\nasync function generateFingerprint(context, request) {\n    const { log } = context;\n    const coreImports = createCoreImports();\n    const analyze = await initializeWasm(coreImports);\n    if (typeof analyze !== \"undefined\") {\n        return analyze.generateFingerprint(JSON.stringify(request), context.characteristics);\n    }\n    else {\n        log.debug(\"WebAssembly is not supported in this runtime\");\n    }\n    return \"\";\n}\nasync function isValidEmail(context, candidate, options) {\n    const { log } = context;\n    const coreImports = createCoreImports();\n    const analyze = await initializeWasm(coreImports);\n    if (typeof analyze !== \"undefined\") {\n        return analyze.isValidEmail(candidate, options);\n    }\n    else {\n        log.debug(\"WebAssembly is not supported in this runtime\");\n        // Skip the local evaluation of the rule if WASM is not available\n        return {\n            validity: \"valid\",\n            blocked: [],\n        };\n    }\n}\nasync function detectBot(context, request, options) {\n    const { log } = context;\n    const coreImports = createCoreImports();\n    const analyze = await initializeWasm(coreImports);\n    if (typeof analyze !== \"undefined\") {\n        return analyze.detectBot(JSON.stringify(request), options);\n    }\n    else {\n        log.debug(\"WebAssembly is not supported in this runtime\");\n        // Skip the local evaluation of the rule if Wasm is not available\n        return {\n            allowed: [],\n            denied: [],\n            spoofed: false,\n            verified: false,\n        };\n    }\n}\nasync function detectSensitiveInfo(context, candidate, entities, contextWindowSize, detect) {\n    const { log } = context;\n    const coreImports = createCoreImports(detect);\n    const analyze = await initializeWasm(coreImports);\n    if (typeof analyze !== \"undefined\") {\n        const skipCustomDetect = typeof detect !== \"function\";\n        return analyze.detectSensitiveInfo(candidate, {\n            entities,\n            contextWindowSize,\n            skipCustomDetect,\n        });\n    }\n    else {\n        log.debug(\"WebAssembly is not supported in this runtime\");\n        throw new Error(\"SENSITIVE_INFO rule failed to run because Wasm is not supported in this environment.\");\n    }\n}\n\nexport { detectBot, detectSensitiveInfo, generateFingerprint, isValidEmail };\n"],"names":[],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAM,uBAAuB;IACzB;IACA;IACA;IACA;IACA;CACH;AACD,SAAS;IACL,OAAO,EAAE;AACb;AACA,SAAS;IACL,OAAO,EAAE;AACb;AACA,SAAS,kBAAkB,MAAM;IAC7B,IAAI,OAAO,WAAW,YAAY;QAC9B,SAAS;IACb;IACA,OAAO;QACH,gCAAgC;YAC5B,QAAQ;QACZ;QACA,2CAA2C;YACvC,aAAY,MAAM;gBACd,IAAI,qBAAqB,QAAQ,CAAC,SAAS;oBACvC,OAAO;gBACX;gBACA,OAAO;YACX;YACA;gBACI,OAAO;YACX;YACA;gBACI,OAAO;YACX;YACA;gBACI,OAAO;YACX;QACJ;QACA,kDAAkD;YAC9C;QACJ;QACA,4BAA4B;YACxB;gBACI,OAAO;YACX;QACJ;IACJ;AACJ;AACA;;;;;;CAMC,GACD,eAAe,oBAAoB,OAAO,EAAE,OAAO;IAC/C,MAAM,EAAE,GAAG,EAAE,GAAG;IAChB,MAAM,cAAc;IACpB,MAAM,UAAU,MAAM,CAAA,GAAA,oKAAA,CAAA,iBAAc,AAAD,EAAE;IACrC,IAAI,OAAO,YAAY,aAAa;QAChC,OAAO,QAAQ,mBAAmB,CAAC,KAAK,SAAS,CAAC,UAAU,QAAQ,eAAe;IACvF,OACK;QACD,IAAI,KAAK,CAAC;IACd;IACA,OAAO;AACX;AACA,eAAe,aAAa,OAAO,EAAE,SAAS,EAAE,OAAO;IACnD,MAAM,EAAE,GAAG,EAAE,GAAG;IAChB,MAAM,cAAc;IACpB,MAAM,UAAU,MAAM,CAAA,GAAA,oKAAA,CAAA,iBAAc,AAAD,EAAE;IACrC,IAAI,OAAO,YAAY,aAAa;QAChC,OAAO,QAAQ,YAAY,CAAC,WAAW;IAC3C,OACK;QACD,IAAI,KAAK,CAAC;QACV,iEAAiE;QACjE,OAAO;YACH,UAAU;YACV,SAAS,EAAE;QACf;IACJ;AACJ;AACA,eAAe,UAAU,OAAO,EAAE,OAAO,EAAE,OAAO;IAC9C,MAAM,EAAE,GAAG,EAAE,GAAG;IAChB,MAAM,cAAc;IACpB,MAAM,UAAU,MAAM,CAAA,GAAA,oKAAA,CAAA,iBAAc,AAAD,EAAE;IACrC,IAAI,OAAO,YAAY,aAAa;QAChC,OAAO,QAAQ,SAAS,CAAC,KAAK,SAAS,CAAC,UAAU;IACtD,OACK;QACD,IAAI,KAAK,CAAC;QACV,iEAAiE;QACjE,OAAO;YACH,SAAS,EAAE;YACX,QAAQ,EAAE;YACV,SAAS;YACT,UAAU;QACd;IACJ;AACJ;AACA,eAAe,oBAAoB,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,iBAAiB,EAAE,MAAM;IACtF,MAAM,EAAE,GAAG,EAAE,GAAG;IAChB,MAAM,cAAc,kBAAkB;IACtC,MAAM,UAAU,MAAM,CAAA,GAAA,oKAAA,CAAA,iBAAc,AAAD,EAAE;IACrC,IAAI,OAAO,YAAY,aAAa;QAChC,MAAM,mBAAmB,OAAO,WAAW;QAC3C,OAAO,QAAQ,mBAAmB,CAAC,WAAW;YAC1C;YACA;YACA;QACJ;IACJ,OACK;QACD,IAAI,KAAK,CAAC;QACV,MAAM,IAAI,MAAM;IACpB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 5161, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/duration/index.js"],"sourcesContent":["// This Parser is a TypeScript implementation of similar code in the Go stdlib\n// with deviations made to support usage in the Arcjet SDK.\n//\n// Parser source:\n// https://github.com/golang/go/blob/c18ddc84e1ec6406b26f7e9d0e1ee3d1908d7c27/src/time/format.go#L1589-L1686\n//\n// Licensed: BSD 3-Clause \"New\" or \"Revised\" License\n// Copyright (c) 2009 The Go Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nconst second = 1;\nconst minute = 60 * second;\nconst hour = 60 * minute;\nconst day = 24 * hour;\nconst maxUint32 = 4294967295;\nconst units = new Map([\n    [\"s\", second],\n    [\"m\", minute],\n    [\"h\", hour],\n    [\"d\", day],\n]);\nconst integers = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\n// leadingInt consumes the leading [0-9]* from s.\nfunction leadingInt(s) {\n    let i = 0;\n    let x = 0;\n    for (; i < s.length; i++) {\n        const c = s[i];\n        if (!integers.includes(c)) {\n            break;\n        }\n        x = x * 10 + parseInt(c, 10);\n        if (x > maxUint32) {\n            // overflow\n            throw new Error(\"bad [0-9]*\"); // never printed\n        }\n    }\n    return [x, s.slice(i)];\n}\n/**\n * Parses a duration into a number representing seconds while ensuring the value\n * fits within an unsigned 32-bit integer.\n *\n * If a JavaScript number is provided to the function, it is validated and\n * returned verbatim.\n *\n * If a string is provided to the function, it must be in the form of digits\n * followed by a unit. Supported units are `s` (seconds), `m` (minutes), `h`\n * (hours), and `d` (days).\n *\n * @param s The value to parse into seconds.\n * @returns A number representing seconds parsed from the provided duration.\n *\n * @example\n * parse(\"1s\") === 1\n * parse(\"1m\") === 60\n * parse(\"1h\") === 3600\n * parse(\"1d\") === 86400\n */\nfunction parse(s) {\n    const original = s;\n    if (typeof s === \"number\") {\n        if (s > maxUint32) {\n            throw new Error(`invalid duration: ${original}`);\n        }\n        if (s < 0) {\n            throw new Error(`invalid duration: ${original}`);\n        }\n        if (!Number.isInteger(s)) {\n            throw new Error(`invalid duration: ${original}`);\n        }\n        return s;\n    }\n    if (typeof s !== \"string\") {\n        throw new Error(\"can only parse a duration string\");\n    }\n    let d = 0;\n    // Special case: if all that is left is \"0\", this is zero.\n    if (s === \"0\") {\n        return 0;\n    }\n    if (s === \"\") {\n        throw new Error(`invalid duration: ${original}`);\n    }\n    while (s !== \"\") {\n        let v = 0;\n        // The next character must be [0-9]\n        if (!integers.includes(s[0])) {\n            throw new Error(`invalid duration: ${original}`);\n        }\n        // Consume [0-9]*\n        [v, s] = leadingInt(s);\n        // Error on decimal (\\.[0-9]*)?\n        if (s !== \"\" && s[0] == \".\") {\n            // TODO: We could support decimals that turn into non-decimal seconds—e.g.\n            // 1.5hours becomes 5400 seconds\n            throw new Error(`unsupported decimal duration: ${original}`);\n        }\n        // Consume unit.\n        let i = 0;\n        for (; i < s.length; i++) {\n            const c = s[i];\n            if (integers.includes(c)) {\n                break;\n            }\n        }\n        if (i == 0) {\n            throw new Error(`missing unit in duration: ${original}`);\n        }\n        const u = s.slice(0, i);\n        s = s.slice(i);\n        const unit = units.get(u);\n        if (typeof unit === \"undefined\") {\n            throw new Error(`unknown unit \"${u}\" in duration ${original}`);\n        }\n        if (v > maxUint32 / unit) {\n            // overflow\n            throw new Error(`invalid duration ${original}`);\n        }\n        v *= unit;\n        d += v;\n        if (d > maxUint32) {\n            throw new Error(`invalid duration ${original}`);\n        }\n    }\n    return d;\n}\n\nexport { parse };\n"],"names":[],"mappings":"AAAA,8EAA8E;AAC9E,2DAA2D;AAC3D,EAAE;AACF,iBAAiB;AACjB,4GAA4G;AAC5G,EAAE;AACF,oDAAoD;AACpD,0DAA0D;AAC1D,EAAE;AACF,qEAAqE;AACrE,yEAAyE;AACzE,OAAO;AACP,EAAE;AACF,sEAAsE;AACtE,gEAAgE;AAChE,+DAA+D;AAC/D,yEAAyE;AACzE,gEAAgE;AAChE,gBAAgB;AAChB,4DAA4D;AAC5D,uEAAuE;AACvE,2DAA2D;AAC3D,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,wEAAwE;AACxE,uEAAuE;AACvE,wEAAwE;AACxE,mEAAmE;AACnE,wEAAwE;AACxE,wEAAwE;AACxE,sEAAsE;AACtE,wEAAwE;AACxE,uEAAuE;;;;AACvE,MAAM,SAAS;AACf,MAAM,SAAS,KAAK;AACpB,MAAM,OAAO,KAAK;AAClB,MAAM,MAAM,KAAK;AACjB,MAAM,YAAY;AAClB,MAAM,QAAQ,IAAI,IAAI;IAClB;QAAC;QAAK;KAAO;IACb;QAAC;QAAK;KAAO;IACb;QAAC;QAAK;KAAK;IACX;QAAC;QAAK;KAAI;CACb;AACD,MAAM,WAAW;IAAC;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;CAAI;AACnE,iDAAiD;AACjD,SAAS,WAAW,CAAC;IACjB,IAAI,IAAI;IACR,IAAI,IAAI;IACR,MAAO,IAAI,EAAE,MAAM,EAAE,IAAK;QACtB,MAAM,IAAI,CAAC,CAAC,EAAE;QACd,IAAI,CAAC,SAAS,QAAQ,CAAC,IAAI;YACvB;QACJ;QACA,IAAI,IAAI,KAAK,SAAS,GAAG;QACzB,IAAI,IAAI,WAAW;YACf,WAAW;YACX,MAAM,IAAI,MAAM,eAAe,gBAAgB;QACnD;IACJ;IACA,OAAO;QAAC;QAAG,EAAE,KAAK,CAAC;KAAG;AAC1B;AACA;;;;;;;;;;;;;;;;;;;CAmBC,GACD,SAAS,MAAM,CAAC;IACZ,MAAM,WAAW;IACjB,IAAI,OAAO,MAAM,UAAU;QACvB,IAAI,IAAI,WAAW;YACf,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,UAAU;QACnD;QACA,IAAI,IAAI,GAAG;YACP,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,UAAU;QACnD;QACA,IAAI,CAAC,OAAO,SAAS,CAAC,IAAI;YACtB,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,UAAU;QACnD;QACA,OAAO;IACX;IACA,IAAI,OAAO,MAAM,UAAU;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,IAAI,IAAI;IACR,0DAA0D;IAC1D,IAAI,MAAM,KAAK;QACX,OAAO;IACX;IACA,IAAI,MAAM,IAAI;QACV,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACnD;IACA,MAAO,MAAM,GAAI;QACb,IAAI,IAAI;QACR,mCAAmC;QACnC,IAAI,CAAC,SAAS,QAAQ,CAAC,CAAC,CAAC,EAAE,GAAG;YAC1B,MAAM,IAAI,MAAM,CAAC,kBAAkB,EAAE,UAAU;QACnD;QACA,iBAAiB;QACjB,CAAC,GAAG,EAAE,GAAG,WAAW;QACpB,+BAA+B;QAC/B,IAAI,MAAM,MAAM,CAAC,CAAC,EAAE,IAAI,KAAK;YACzB,0EAA0E;YAC1E,gCAAgC;YAChC,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,UAAU;QAC/D;QACA,gBAAgB;QAChB,IAAI,IAAI;QACR,MAAO,IAAI,EAAE,MAAM,EAAE,IAAK;YACtB,MAAM,IAAI,CAAC,CAAC,EAAE;YACd,IAAI,SAAS,QAAQ,CAAC,IAAI;gBACtB;YACJ;QACJ;QACA,IAAI,KAAK,GAAG;YACR,MAAM,IAAI,MAAM,CAAC,0BAA0B,EAAE,UAAU;QAC3D;QACA,MAAM,IAAI,EAAE,KAAK,CAAC,GAAG;QACrB,IAAI,EAAE,KAAK,CAAC;QACZ,MAAM,OAAO,MAAM,GAAG,CAAC;QACvB,IAAI,OAAO,SAAS,aAAa;YAC7B,MAAM,IAAI,MAAM,CAAC,cAAc,EAAE,EAAE,cAAc,EAAE,UAAU;QACjE;QACA,IAAI,IAAI,YAAY,MAAM;YACtB,WAAW;YACX,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,UAAU;QAClD;QACA,KAAK;QACL,KAAK;QACL,IAAI,IAAI,WAAW;YACf,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,UAAU;QAClD;IACJ;IACA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 5347, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/headers/index.js"],"sourcesContent":["function isIterable(val) {\n    return typeof val?.[Symbol.iterator] === \"function\";\n}\n/**\n * This Fetch API interface allows you to perform various actions on HTTP\n * request and response headers. These actions include retrieving, setting,\n * adding to, and removing. A Headers object has an associated header list,\n * which is initially empty and consists of zero or more name and value pairs.\n *\n * You can add to this using methods like `append()`.\n *\n * In all methods of this interface, header names are matched by\n * case-insensitive byte sequence.\n *\n * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers)\n */\nclass ArcjetHeaders extends Headers {\n    constructor(init) {\n        super();\n        if (typeof init !== \"undefined\" &&\n            typeof init !== \"string\" &&\n            init !== null) {\n            if (isIterable(init)) {\n                for (const [key, value] of init) {\n                    this.append(key, value);\n                }\n            }\n            else {\n                for (const [key, value] of Object.entries(init)) {\n                    if (typeof value === \"undefined\") {\n                        continue;\n                    }\n                    if (Array.isArray(value)) {\n                        for (const singleValue of value) {\n                            this.append(key, singleValue);\n                        }\n                    }\n                    else {\n                        this.append(key, value);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Append a key and value to the headers, while filtering any key named\n     * `cookie`.\n     *\n     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/append)\n     *\n     * @param key The key to append in the headers\n     * @param value The value to append for the key in the headers\n     */\n    append(key, value) {\n        if (typeof key !== \"string\" || typeof value !== \"string\") {\n            return;\n        }\n        if (key.toLowerCase() !== \"cookie\") {\n            super.append(key, value);\n        }\n    }\n    /**\n     * Set a key and value in the headers, but filtering any key named `cookie`.\n     *\n     * [MDN Reference](https://developer.mozilla.org/docs/Web/API/Headers/set)\n     *\n     * @param key The key to set in the headers\n     * @param value The value to set for the key in the headers\n     */\n    set(key, value) {\n        if (typeof key !== \"string\" || typeof value !== \"string\") {\n            return;\n        }\n        if (key.toLowerCase() !== \"cookie\") {\n            super.set(key, value);\n        }\n    }\n}\n\nexport { ArcjetHeaders as default };\n"],"names":[],"mappings":";;;AAAA,SAAS,WAAW,GAAG;IACnB,OAAO,OAAO,KAAK,CAAC,OAAO,QAAQ,CAAC,KAAK;AAC7C;AACA;;;;;;;;;;;;CAYC,GACD,MAAM,sBAAsB;IACxB,YAAY,IAAI,CAAE;QACd,KAAK;QACL,IAAI,OAAO,SAAS,eAChB,OAAO,SAAS,YAChB,SAAS,MAAM;YACf,IAAI,WAAW,OAAO;gBAClB,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,KAAM;oBAC7B,IAAI,CAAC,MAAM,CAAC,KAAK;gBACrB;YACJ,OACK;gBACD,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,MAAO;oBAC7C,IAAI,OAAO,UAAU,aAAa;wBAC9B;oBACJ;oBACA,IAAI,MAAM,OAAO,CAAC,QAAQ;wBACtB,KAAK,MAAM,eAAe,MAAO;4BAC7B,IAAI,CAAC,MAAM,CAAC,KAAK;wBACrB;oBACJ,OACK;wBACD,IAAI,CAAC,MAAM,CAAC,KAAK;oBACrB;gBACJ;YACJ;QACJ;IACJ;IACA;;;;;;;;KAQC,GACD,OAAO,GAAG,EAAE,KAAK,EAAE;QACf,IAAI,OAAO,QAAQ,YAAY,OAAO,UAAU,UAAU;YACtD;QACJ;QACA,IAAI,IAAI,WAAW,OAAO,UAAU;YAChC,KAAK,CAAC,OAAO,KAAK;QACtB;IACJ;IACA;;;;;;;KAOC,GACD,IAAI,GAAG,EAAE,KAAK,EAAE;QACZ,IAAI,OAAO,QAAQ,YAAY,OAAO,UAAU,UAAU;YACtD;QACJ;QACA,IAAI,IAAI,WAAW,OAAO,UAAU;YAChC,KAAK,CAAC,IAAI,KAAK;QACnB;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 5428, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/runtime/edge-light.js"],"sourcesContent":["/*\n  This file is mostly a duplication of `index.ts` with the `process` lookup\n  removed. We do this because Next.js uses an error-prone method for showing\n  a warning when compiling for the edge runtime.\n*/\n// This code was improved by detection mechanisms in\n// https://github.com/unjs/std-env/blob/b4ef16832baf4594ece7796a2c1805712fde70a3/src/runtimes.ts\n//\n// MIT License\n//\n// Copyright (c) Pooya Parsa <pooya@pi0.io>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\nfunction runtime() {\n    // The detection order matters in this function because some platforms will\n    // implement compatibility layers, but we want to detect them accurately.\n    // https://developers.cloudflare.com/workers/configuration/compatibility-dates/#global-navigator\n    if (typeof navigator !== \"undefined\" &&\n        navigator.userAgent === \"Cloudflare-Workers\") {\n        return \"workerd\";\n    }\n    if (typeof Deno !== \"undefined\") {\n        return \"deno\";\n    }\n    if (typeof Bun !== \"undefined\") {\n        return \"bun\";\n    }\n    if (typeof EdgeRuntime !== \"undefined\") {\n        return \"edge-light\";\n    }\n    // Unknown or unsupported runtime\n    return \"\";\n}\n\nexport { runtime };\n"],"names":[],"mappings":"AAAA;;;;AAIA,GACA,oDAAoD;AACpD,gGAAgG;AAChG,EAAE;AACF,cAAc;AACd,EAAE;AACF,2CAA2C;AAC3C,EAAE;AACF,+EAA+E;AAC/E,gFAAgF;AAChF,+EAA+E;AAC/E,4EAA4E;AAC5E,wEAAwE;AACxE,2DAA2D;AAC3D,EAAE;AACF,6EAA6E;AAC7E,sDAAsD;AACtD,EAAE;AACF,6EAA6E;AAC7E,2EAA2E;AAC3E,8EAA8E;AAC9E,yEAAyE;AACzE,gFAAgF;AAChF,gFAAgF;AAChF,YAAY;;;;AACZ,SAAS;IACL,2EAA2E;IAC3E,yEAAyE;IACzE,gGAAgG;IAChG,IAAI,OAAO,cAAc,eACrB,UAAU,SAAS,KAAK,sBAAsB;QAC9C,OAAO;IACX;IACA,IAAI,OAAO,SAAS,aAAa;QAC7B,OAAO;IACX;IACA,IAAI,OAAO,QAAQ,aAAa;QAC5B,OAAO;IACX;IACA,IAAI,4DAAuB,aAAa;QACpC,OAAO;IACX;IACA,iCAAiC;IACjC,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 5485, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/stable-hash/hasher.js"],"sourcesContent":["class Sha256 {\n    encoder;\n    subtle;\n    buf;\n    constructor(subtle) {\n        this.subtle = subtle;\n        this.encoder = new TextEncoder();\n        this.buf = \"\";\n    }\n    writeString(data) {\n        this.buf += data;\n    }\n    async digest() {\n        const buf = this.encoder.encode(this.buf);\n        const digest = await this.subtle.digest(\"SHA-256\", buf);\n        return new Uint8Array(digest);\n    }\n}\n// After this, it needs to wrap to 0\nconst maxUint32 = 4294967295;\nconst fieldSeparator = \":\";\nconst itemSeparator = \",\";\nfunction bool(key, value) {\n    return (data) => {\n        data.writeString(key);\n        data.writeString(fieldSeparator);\n        if (value) {\n            data.writeString(\"true\");\n        }\n        else {\n            data.writeString(\"false\");\n        }\n    };\n}\nfunction uint32(key, value) {\n    return (data) => {\n        data.writeString(key);\n        data.writeString(fieldSeparator);\n        if (value > maxUint32) {\n            data.writeString(\"0\");\n        }\n        else {\n            data.writeString(value.toFixed(0));\n        }\n    };\n}\nfunction string(key, value) {\n    return (data) => {\n        data.writeString(key);\n        data.writeString(fieldSeparator);\n        data.writeString(`\"`);\n        data.writeString(value.replaceAll(`\"`, `\\\\\"`));\n        data.writeString(`\"`);\n    };\n}\nfunction stringSliceOrdered(key, values) {\n    return (data) => {\n        data.writeString(key);\n        data.writeString(fieldSeparator);\n        data.writeString(\"[\");\n        for (const value of Array.from(values).sort()) {\n            data.writeString(`\"`);\n            data.writeString(value.replaceAll(`\"`, `\\\\\"`));\n            data.writeString(`\"`);\n            data.writeString(itemSeparator);\n        }\n        data.writeString(\"]\");\n    };\n}\nfunction makeHasher(subtle) {\n    return async function hash(...hashers) {\n        const h = new Sha256(subtle);\n        for (const hasher of hashers) {\n            hasher(h);\n            h.writeString(itemSeparator);\n        }\n        const digest = await h.digest();\n        return hex(digest);\n    };\n}\n// Hex encoding logic from https://github.com/feross/buffer but adjusted for\n// our use.\n//\n// Licensed: The MIT License (MIT)\n//\n// Copyright (c) Feross Aboukhadijeh, and other contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n// https://github.com/feross/buffer/blob/5857e295f4d37e3ad02c3abcbf7e8e5ef51f3be6/index.js#L2096-L2106\nconst hexSliceLookupTable = (function () {\n    const alphabet = \"0123456789abcdef\";\n    const table = new Array(256);\n    for (let i = 0; i < 16; ++i) {\n        const i16 = i * 16;\n        for (let j = 0; j < 16; ++j) {\n            table[i16 + j] = alphabet[i] + alphabet[j];\n        }\n    }\n    return table;\n})();\n// https://github.com/feross/buffer/blob/5857e295f4d37e3ad02c3abcbf7e8e5ef51f3be6/index.js#L1085-L1096\nfunction hex(buf) {\n    const len = buf.length;\n    const start = 0;\n    const end = len;\n    let out = \"\";\n    for (let i = start; i < end; ++i) {\n        out += hexSliceLookupTable[buf[i]];\n    }\n    return out;\n}\n\nexport { bool, makeHasher, string, stringSliceOrdered, uint32 };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5624, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/stable-hash/edge-light.js"],"sourcesContent":["import { makeHasher } from './hasher.js';\nexport { bool, string, stringSliceOrdered, uint32 } from './hasher.js';\n\nconst hash = makeHasher(crypto.subtle);\n\nexport { hash, makeHasher };\n"],"names":[],"mappings":";;;AAAA;;;AAGA,MAAM,OAAO,CAAA,GAAA,4JAAA,CAAA,aAAU,AAAD,EAAE,OAAO,MAAM","ignoreList":[0]}},
    {"offset": {"line": 5647, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/arcjet/index.js"],"sourcesContent":["import { ArcjetErrorDecision, ArcjetErrorReason, ArcjetRuleResult, ArcjetReason, ArcjetDenyDecision, ArcjetBotReason, ArcjetEmailReason, ArcjetSensitiveInfoReason } from '@arcjet/protocol';\nexport * from '@arcjet/protocol';\nimport { isRateLimitRule } from '@arcjet/protocol/convert.js';\nimport * as analyze from '@arcjet/analyze';\nimport * as duration from '@arcjet/duration';\nimport ArcjetHeaders from '@arcjet/headers';\nimport { runtime } from '@arcjet/runtime';\nimport * as hasher from '@arcjet/stable-hash';\n\nfunction assert(condition, msg) {\n    if (!condition) {\n        throw new Error(msg);\n    }\n}\nfunction nowInSeconds() {\n    return Math.floor(Date.now() / 1000);\n}\nclass Cache {\n    expires;\n    data;\n    constructor() {\n        this.expires = new Map();\n        this.data = new Map();\n    }\n    get(key) {\n        const ttl = this.ttl(key);\n        if (ttl > 0) {\n            return this.data.get(key);\n        }\n        else {\n            // Cleanup if expired\n            this.expires.delete(key);\n            this.data.delete(key);\n        }\n    }\n    set(key, value, expiresAt) {\n        this.expires.set(key, expiresAt);\n        this.data.set(key, value);\n    }\n    ttl(key) {\n        const now = nowInSeconds();\n        const expiresAt = this.expires.get(key) ?? now;\n        return expiresAt - now;\n    }\n}\nfunction errorMessage(err) {\n    if (err) {\n        if (typeof err === \"string\") {\n            return err;\n        }\n        if (typeof err === \"object\" &&\n            \"message\" in err &&\n            typeof err.message === \"string\") {\n            return err.message;\n        }\n    }\n    return \"Unknown problem\";\n}\nconst knownFields = [\n    \"ip\",\n    \"method\",\n    \"protocol\",\n    \"host\",\n    \"path\",\n    \"headers\",\n    \"body\",\n    \"email\",\n    \"cookies\",\n    \"query\",\n];\nfunction isUnknownRequestProperty(key) {\n    return !knownFields.includes(key);\n}\nfunction isEmailType(type) {\n    return (type === \"FREE\" ||\n        type === \"DISPOSABLE\" ||\n        type === \"NO_MX_RECORDS\" ||\n        type === \"NO_GRAVATAR\" ||\n        type === \"INVALID\");\n}\nclass Performance {\n    log;\n    constructor(logger) {\n        this.log = logger;\n    }\n    // TODO(#2020): We should no-op this if loglevel is not `debug` to do less work\n    measure(label) {\n        const start = performance.now();\n        return () => {\n            const end = performance.now();\n            const diff = end - start;\n            this.log.debug(\"LATENCY %s: %sms\", label, diff.toFixed(3));\n        };\n    }\n}\nfunction toString(value) {\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (typeof value === \"number\") {\n        return `${value}`;\n    }\n    if (typeof value === \"boolean\") {\n        return value ? \"true\" : \"false\";\n    }\n    return \"<unsupported value>\";\n}\n// This is the Symbol that Vercel defines in their infrastructure to access the\n// Context (where available). The Context can contain the `waitUntil` function.\n// https://github.com/vercel/vercel/blob/930d7fb892dc26f240f2b950d963931c45e1e661/packages/functions/src/get-context.ts#L6\nconst SYMBOL_FOR_REQ_CONTEXT = Symbol.for(\"@vercel/request-context\");\nfunction lookupWaitUntil() {\n    const fromSymbol = globalThis;\n    if (typeof fromSymbol[SYMBOL_FOR_REQ_CONTEXT] === \"object\" &&\n        fromSymbol[SYMBOL_FOR_REQ_CONTEXT] !== null &&\n        \"get\" in fromSymbol[SYMBOL_FOR_REQ_CONTEXT] &&\n        typeof fromSymbol[SYMBOL_FOR_REQ_CONTEXT].get === \"function\") {\n        const vercelCtx = fromSymbol[SYMBOL_FOR_REQ_CONTEXT].get();\n        if (typeof vercelCtx === \"object\" &&\n            vercelCtx !== null &&\n            \"waitUntil\" in vercelCtx &&\n            typeof vercelCtx.waitUntil === \"function\") {\n            return vercelCtx.waitUntil;\n        }\n    }\n}\nfunction toAnalyzeRequest(request) {\n    const headers = {};\n    if (typeof request.headers !== \"undefined\") {\n        for (const [key, value] of request.headers.entries()) {\n            headers[key] = value;\n        }\n    }\n    return {\n        ...request,\n        headers,\n    };\n}\nfunction extraProps(details) {\n    const extra = new Map();\n    for (const [key, value] of Object.entries(details)) {\n        if (isUnknownRequestProperty(key)) {\n            extra.set(key, toString(value));\n        }\n    }\n    return Object.fromEntries(extra.entries());\n}\nfunction createTypeValidator(...types) {\n    return (key, value) => {\n        const typeOfValue = typeof value;\n        if (!types.includes(typeOfValue)) {\n            if (types.length === 1) {\n                throw new Error(`invalid type for \\`${key}\\` - expected ${types[0]}`);\n            }\n            else {\n                throw new Error(`invalid type for \\`${key}\\` - expected one of ${types.join(\", \")}`);\n            }\n        }\n        else {\n            return false;\n        }\n    };\n}\nfunction createValueValidator(\n// This uses types to ensure we have at least 2 values\n...values) {\n    return (key, value) => {\n        // We cast the values to unknown because the optionValue isn't known but\n        // we only want to use `values` on string enumerations\n        if (!values.includes(value)) {\n            throw new Error(`invalid value for \\`${key}\\` - expected one of ${values.map((value) => `'${value}'`).join(\", \")}`);\n        }\n    };\n}\nfunction createArrayValidator(validate) {\n    return (key, value) => {\n        if (Array.isArray(value)) {\n            for (const [idx, item] of value.entries()) {\n                validate(`${key}[${idx}]`, item);\n            }\n        }\n        else {\n            throw new Error(`invalid type for \\`${key}\\` - expected an array`);\n        }\n    };\n}\nfunction createValidator({ rule, validations, }) {\n    return (options) => {\n        for (const { key, validate, required } of validations) {\n            if (required && !Object.hasOwn(options, key)) {\n                throw new Error(`\\`${rule}\\` options error: \\`${key}\\` is required`);\n            }\n            const value = options[key];\n            // The `required` flag is checked above, so these should only be validated\n            // if the value is not undefined.\n            if (typeof value !== \"undefined\") {\n                try {\n                    validate(key, value);\n                }\n                catch (err) {\n                    throw new Error(`\\`${rule}\\` options error: ${errorMessage(err)}`);\n                }\n            }\n        }\n    };\n}\nconst validateString = createTypeValidator(\"string\");\nconst validateNumber = createTypeValidator(\"number\");\nconst validateBoolean = createTypeValidator(\"boolean\");\nconst validateFunction = createTypeValidator(\"function\");\nconst validateStringOrNumber = createTypeValidator(\"string\", \"number\");\nconst validateStringArray = createArrayValidator(validateString);\nconst validateMode = createValueValidator(\"LIVE\", \"DRY_RUN\");\nconst validateEmailTypes = createArrayValidator(createValueValidator(\"DISPOSABLE\", \"FREE\", \"NO_MX_RECORDS\", \"NO_GRAVATAR\", \"INVALID\"));\nconst validateTokenBucketOptions = createValidator({\n    rule: \"tokenBucket\",\n    validations: [\n        {\n            key: \"mode\",\n            required: false,\n            validate: validateMode,\n        },\n        {\n            key: \"characteristics\",\n            validate: validateStringArray,\n            required: false,\n        },\n        { key: \"refillRate\", required: true, validate: validateNumber },\n        { key: \"interval\", required: true, validate: validateStringOrNumber },\n        { key: \"capacity\", required: true, validate: validateNumber },\n    ],\n});\nconst validateFixedWindowOptions = createValidator({\n    rule: \"fixedWindow\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        {\n            key: \"characteristics\",\n            validate: validateStringArray,\n            required: false,\n        },\n        { key: \"max\", required: true, validate: validateNumber },\n        { key: \"window\", required: true, validate: validateStringOrNumber },\n    ],\n});\nconst validateSlidingWindowOptions = createValidator({\n    rule: \"slidingWindow\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        {\n            key: \"characteristics\",\n            validate: validateStringArray,\n            required: false,\n        },\n        { key: \"max\", required: true, validate: validateNumber },\n        { key: \"interval\", required: true, validate: validateStringOrNumber },\n    ],\n});\nconst validateSensitiveInfoOptions = createValidator({\n    rule: \"sensitiveInfo\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        { key: \"allow\", required: false, validate: validateStringArray },\n        { key: \"deny\", required: false, validate: validateStringArray },\n        { key: \"contextWindowSize\", required: false, validate: validateNumber },\n        { key: \"detect\", required: false, validate: validateFunction },\n    ],\n});\nconst validateEmailOptions = createValidator({\n    rule: \"validateEmail\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        { key: \"block\", required: false, validate: validateEmailTypes },\n        { key: \"allow\", required: false, validate: validateEmailTypes },\n        { key: \"deny\", required: false, validate: validateEmailTypes },\n        {\n            key: \"requireTopLevelDomain\",\n            required: false,\n            validate: validateBoolean,\n        },\n        { key: \"allowDomainLiteral\", required: false, validate: validateBoolean },\n    ],\n});\nconst validateBotOptions = createValidator({\n    rule: \"detectBot\",\n    validations: [\n        { key: \"mode\", required: false, validate: validateMode },\n        { key: \"allow\", required: false, validate: validateStringArray },\n        { key: \"deny\", required: false, validate: validateStringArray },\n    ],\n});\nconst validateShieldOptions = createValidator({\n    rule: \"shield\",\n    validations: [{ key: \"mode\", required: false, validate: validateMode }],\n});\nconst Priority = {\n    SensitiveInfo: 1,\n    Shield: 2,\n    RateLimit: 3,\n    BotDetection: 4,\n    EmailValidation: 5,\n};\nfunction isLocalRule(rule) {\n    return (\"validate\" in rule &&\n        typeof rule.validate === \"function\" &&\n        \"protect\" in rule &&\n        typeof rule.protect === \"function\");\n}\n/**\n * Arcjet token bucket rate limiting rule. Applying this rule sets a token\n * bucket rate limit.\n *\n * This algorithm is based on a bucket filled with a specific number of tokens.\n * Each request withdraws some amount of tokens from the bucket and the bucket\n * is refilled at a fixed rate. Once the bucket is empty, the client is blocked\n * until the bucket refills.\n *\n * This algorithm is useful when you want to allow clients to make a burst of\n * requests and then still be able to make requests at a slower rate.\n *\n * @param {TokenBucketRateLimitOptions} options - The options for the token\n * bucket rate limiting rule.\n * @param {ArcjetMode} options.mode - The block mode of the rule, either\n * `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block requests when the rate limit is\n * exceeded, and `\"DRY_RUN\"` will allow all requests while still providing\n * access to the rule results. Defaults to `\"DRY_RUN\"` if not specified.\n * @param {number} options.refillRate - The number of tokens to add to the\n * bucket at each interval. For example, if you set the interval to 60 and the\n * refill rate to 10, the bucket will refill 10 tokens every 60 seconds.\n * @param {string | number} options.interval - The time interval for the refill\n * rate. This can be a string like `\"60s\"` for 60 seconds, `\"1h45m\"` for 1 hour\n * and 45 minutes, or a number like `60` for 60 seconds. Valid string time units\n * are:\n * - `s` for seconds.\n * - `m` for minutes.\n * - `h` for hours.\n * - `d` for days.\n * @param {number} options.capacity - The maximum number of tokens the bucket\n * can hold. The bucket starts at full capacity and will refill until it hits\n * the capacity.\n * @returns {Primitive} The token bucket rule to provide to the SDK in the\n * `rules` option.\n *\n * @example\n * ```ts\n * tokenBucket({ mode: \"LIVE\", refillRate: 10, interval: \"60s\", capacity: 100 });\n * ```\n * @example\n * ```ts\n * const aj = arcjet({\n *   key: process.env.ARCJET_KEY,\n *   rules: [\n *     tokenBucket({\n *       mode: \"LIVE\",\n *       refillRate: 10,\n *       interval: \"60s\",\n *       capacity: 100,\n *     })\n *   ],\n * });\n * ```\n * @link https://docs.arcjet.com/rate-limiting/concepts\n * @link https://docs.arcjet.com/rate-limiting/algorithms#token-bucket\n * @link https://docs.arcjet.com/rate-limiting/reference\n */\nfunction tokenBucket(options) {\n    validateTokenBucketOptions(options);\n    const type = \"RATE_LIMIT\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const characteristics = Array.isArray(options.characteristics)\n        ? options.characteristics\n        : undefined;\n    const refillRate = options.refillRate;\n    const interval = duration.parse(options.interval);\n    const capacity = options.capacity;\n    const rule = {\n        type,\n        version,\n        priority: Priority.RateLimit,\n        mode,\n        characteristics,\n        algorithm: \"TOKEN_BUCKET\",\n        refillRate,\n        interval,\n        capacity,\n    };\n    return [rule];\n}\n/**\n * Arcjet fixed window rate limiting rule. Applying this rule sets a fixed\n * window rate limit which tracks the number of requests made by a client over a\n * fixed time window.\n *\n * This is the simplest algorithm. It tracks the number of requests made by a\n * client over a fixed time window e.g. 60 seconds. If the client exceeds the\n * limit, they are blocked until the window expires.\n *\n * This algorithm is useful when you want to apply a simple fixed limit in a\n * fixed time window. For example, a simple limit on the total number of\n * requests a client can make. However, it can be susceptible to the stampede\n * problem where a client makes a burst of requests at the start of a window and\n * then is blocked for the rest of the window. The sliding window algorithm can\n * be used to avoid this.\n *\n * @param {FixedWindowRateLimitOptions} options - The options for the fixed\n * window rate limiting rule.\n * @param {ArcjetMode} options.mode - The block mode of the rule, either\n * `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block requests when the rate limit is\n * exceeded, and `\"DRY_RUN\"` will allow all requests while still providing\n * access to the rule results. Defaults to `\"DRY_RUN\"` if not specified.\n * @param {string | number} options.window - The fixed time window. This can be\n * a string like `\"60s\"` for 60 seconds, `\"1h45m\"` for 1 hour and 45 minutes, or\n * a number like `60` for 60 seconds. Valid string time units are:\n * - `s` for seconds.\n * - `m` for minutes.\n * - `h` for hours.\n * - `d` for days.\n * @param {number} options.max - The maximum number of requests allowed in the\n * fixed time window.\n * @returns {Primitive} The fixed window rule to provide to the SDK in the\n * `rules` option.\n *\n * @example\n * ```ts\n * fixedWindow({ mode: \"LIVE\", window: \"60s\", max: 100 });\n * ```\n * @example\n * ```ts\n * const aj = arcjet({\n *    key: process.env.ARCJET_KEY,\n *   rules: [\n *     fixedWindow({\n *       mode: \"LIVE\",\n *       window: \"60s\",\n *       max: 100,\n *     })\n *   ],\n * });\n * ```\n * @link https://docs.arcjet.com/rate-limiting/concepts\n * @link https://docs.arcjet.com/rate-limiting/algorithms#fixed-window\n * @link https://docs.arcjet.com/rate-limiting/reference\n */\nfunction fixedWindow(options) {\n    validateFixedWindowOptions(options);\n    const type = \"RATE_LIMIT\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const characteristics = Array.isArray(options.characteristics)\n        ? options.characteristics\n        : undefined;\n    const max = options.max;\n    const window = duration.parse(options.window);\n    const rule = {\n        type,\n        version,\n        priority: Priority.RateLimit,\n        mode,\n        characteristics,\n        algorithm: \"FIXED_WINDOW\",\n        max,\n        window,\n    };\n    return [rule];\n}\n/**\n * Arcjet sliding window rate limiting rule. Applying this rule sets a sliding\n * window rate limit which tracks the number of requests made by a client over a\n * sliding window so that the window moves with time.\n *\n * This algorithm is useful to avoid the stampede problem of the fixed window.\n * It provides smoother rate limiting over time and can prevent a client from\n * making a burst of requests at the start of a window and then being blocked\n * for the rest of the window.\n *\n * @param {SlidingWindowRateLimitOptions} options - The options for the sliding\n * window rate limiting rule.\n * @param {ArcjetMode} options.mode - The block mode of the rule, either\n * `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block requests when the rate limit is\n * exceeded, and `\"DRY_RUN\"` will allow all requests while still providing\n * access to the rule results. Defaults to `\"DRY_RUN\"` if not specified.\n * @param {string | number} options.interval - The time interval for the rate\n * limit. This can be a string like `\"60s\"` for 60 seconds, `\"1h45m\"` for 1 hour\n * and 45 minutes, or a number like `60` for 60 seconds. Valid string time units\n * are:\n * - `s` for seconds.\n * - `m` for minutes.\n * - `h` for hours.\n * - `d` for days.\n * @param {number} options.max - The maximum number of requests allowed in the\n * sliding time window.\n * @returns {Primitive} The sliding window rule to provide to the SDK in the\n * `rules` option.\n *\n * @example\n * ```ts\n * slidingWindow({ mode: \"LIVE\", interval: \"60s\", max: 100 });\n * ```\n * @example\n * ```ts\n * const aj = arcjet({\n *   key: process.env.ARCJET_KEY,\n *   rules: [\n *     slidingWindow({\n *       mode: \"LIVE\",\n *       interval: \"60s\",\n *       max: 100,\n *     })\n *   ],\n * });\n * ```\n * @link https://docs.arcjet.com/rate-limiting/concepts\n * @link https://docs.arcjet.com/rate-limiting/algorithms#sliding-window\n * @link https://docs.arcjet.com/rate-limiting/reference\n */\nfunction slidingWindow(options) {\n    validateSlidingWindowOptions(options);\n    const type = \"RATE_LIMIT\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const characteristics = Array.isArray(options.characteristics)\n        ? options.characteristics\n        : undefined;\n    const max = options.max;\n    const interval = duration.parse(options.interval);\n    const rule = {\n        type,\n        version,\n        priority: Priority.RateLimit,\n        mode,\n        characteristics,\n        algorithm: \"SLIDING_WINDOW\",\n        max,\n        interval,\n    };\n    return [rule];\n}\nfunction protocolSensitiveInfoEntitiesToAnalyze(entity) {\n    if (typeof entity !== \"string\") {\n        throw new Error(\"invalid entity type\");\n    }\n    if (entity === \"EMAIL\") {\n        return { tag: \"email\" };\n    }\n    if (entity === \"PHONE_NUMBER\") {\n        return { tag: \"phone-number\" };\n    }\n    if (entity === \"IP_ADDRESS\") {\n        return { tag: \"ip-address\" };\n    }\n    if (entity === \"CREDIT_CARD_NUMBER\") {\n        return { tag: \"credit-card-number\" };\n    }\n    return {\n        tag: \"custom\",\n        val: entity,\n    };\n}\nfunction analyzeSensitiveInfoEntitiesToString(entity) {\n    if (entity.tag === \"email\") {\n        return \"EMAIL\";\n    }\n    if (entity.tag === \"ip-address\") {\n        return \"IP_ADDRESS\";\n    }\n    if (entity.tag === \"credit-card-number\") {\n        return \"CREDIT_CARD_NUMBER\";\n    }\n    if (entity.tag === \"phone-number\") {\n        return \"PHONE_NUMBER\";\n    }\n    return entity.val;\n}\nfunction convertAnalyzeDetectedSensitiveInfoEntity(detectedEntities) {\n    return detectedEntities.map((detectedEntity) => {\n        return {\n            ...detectedEntity,\n            identifiedType: analyzeSensitiveInfoEntitiesToString(detectedEntity.identifiedType),\n        };\n    });\n}\n/**\n * Arcjet sensitive information detection rule. Applying this rule protects\n * against clients sending you sensitive information such as personally\n * identifiable information (PII) that you do not wish to handle. The rule runs\n * entirely locally so no data ever leaves your environment.\n *\n * This rule includes built-in detections for email addresses, credit/debit card\n * numbers, IP addresses, and phone numbers. You can also provide a custom\n * detection function to identify additional sensitive information.\n *\n * @param {SensitiveInfoOptions} options - The options for the sensitive\n * information detection rule.\n * @param {ArcjetMode} options.mode - The block mode of the rule, either\n * `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block requests when any of the\n * configured sensitive information types are detected, and `\"DRY_RUN\"` will\n * allow all requests while still providing access to the rule results. Defaults\n * to `\"DRY_RUN\"` if not specified.\n * @param {Array<ArcjetSensitiveInfoType>} options.deny - The list of sensitive\n * information types to deny. If provided, the sensitive information types in\n * this list will be denied. You may only provide either `allow` or `deny`, not\n * both. Specify one or more of the following:\n *\n * - `\"EMAIL\"`\n * - `\"PHONE_NUMBER\"`\n * - `\"IP_ADDRESS\"`\n * - `\"CREDIT_CARD_NUMBER\"`\n * @param {Array<ArcjetSensitiveInfoType>} options.allow - The list of sensitive\n * information types to allow. If provided, types in this list will be allowed\n * and all others will be denied. You may only provide either `allow` or `deny`,\n * not both. The same options apply as for `deny`.\n * @param {DetectSensitiveInfoEntities} options.detect - A custom detection\n * function. The function will take a list of tokens and must return a list of\n * either `undefined`, if the corresponding token in the input list is not\n * sensitive, or the name of the entity if it does match. The number of tokens\n * that are provided to the function is controlled by the `contextWindowSize`\n * option, which defaults to `1`. If you need additional context to perform\n * detections then you can increase this value.\n * @param {number} options.contextWindowSize - The number of tokens to provide\n * to the custom detection function. This defaults to 1 if not specified.\n * @returns {Primitive} The sensitive information rule to provide to the SDK in\n * the `rules` option.\n *\n * @example\n * ```ts\n * sensitiveInfo({ mode: \"LIVE\", deny: [\"EMAIL\"] });\n * ```\n * @example\n * ```ts\n * const aj = arcjet({\n *   key: process.env.ARCJET_KEY,\n *   rules: [\n *     sensitiveInfo({\n *       mode: \"LIVE\",\n *       deny: [\"EMAIL\"],\n *     })\n *   ],\n * });\n * ```\n * @example\n * Custom detection function:\n * ```ts\n * function detectDash(tokens: string[]): Array<\"CONTAINS_DASH\" | undefined> {\n *   return tokens.map((token) => {\n *     if (token.includes(\"-\")) {\n *       return \"CONTAINS_DASH\";\n *     }\n *   });\n * }\n *\n * const aj = arcjet({\n *   key: process.env.ARCJET_KEY,\n *   rules: [\n *     sensitiveInfo({\n *       mode: \"LIVE\",\n *       deny: [\"EMAIL\", \"CONTAINS_DASH\"],\n *       detect: detectDash,\n *       contextWindowSize: 2,\n *     })\n *   ],\n * });\n * ```\n * @link https://docs.arcjet.com/sensitive-info/concepts\n * @link https://docs.arcjet.com/sensitive-info/reference\n */\nfunction sensitiveInfo(options) {\n    validateSensitiveInfoOptions(options);\n    if (typeof options.allow !== \"undefined\" &&\n        typeof options.deny !== \"undefined\") {\n        throw new Error(\"`sensitiveInfo` options error: `allow` and `deny` cannot be provided together\");\n    }\n    if (typeof options.allow === \"undefined\" &&\n        typeof options.deny === \"undefined\") {\n        throw new Error(\"`sensitiveInfo` options error: either `allow` or `deny` must be specified\");\n    }\n    const type = \"SENSITIVE_INFO\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const allow = options.allow || [];\n    const deny = options.deny || [];\n    const id = hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.stringSliceOrdered(\"allow\", allow), hasher.stringSliceOrdered(\"deny\", deny));\n    const rule = {\n        version,\n        priority: Priority.SensitiveInfo,\n        type,\n        mode,\n        allow,\n        deny,\n        validate(context, details) { },\n        async protect(context, details) {\n            const ruleId = await id;\n            const body = await context.getBody();\n            if (typeof body === \"undefined\") {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    ttl: 0,\n                    state: \"NOT_RUN\",\n                    conclusion: \"ERROR\",\n                    reason: new ArcjetErrorReason(\"Couldn't read the body of the request to perform sensitive info identification.\"),\n                });\n            }\n            let convertedDetect = undefined;\n            if (typeof options.detect !== \"undefined\") {\n                const detect = options.detect;\n                convertedDetect = (tokens) => {\n                    return detect(tokens)\n                        .filter((e) => typeof e !== \"undefined\")\n                        .map(protocolSensitiveInfoEntitiesToAnalyze);\n                };\n            }\n            let entitiesTag = \"allow\";\n            let entitiesVal = [];\n            if (Array.isArray(options.allow)) {\n                entitiesTag = \"allow\";\n                entitiesVal = options.allow\n                    .filter((e) => typeof e !== \"undefined\")\n                    .map(protocolSensitiveInfoEntitiesToAnalyze);\n            }\n            if (Array.isArray(options.deny)) {\n                entitiesTag = \"deny\";\n                entitiesVal = options.deny\n                    .filter((e) => typeof e !== \"undefined\")\n                    .map(protocolSensitiveInfoEntitiesToAnalyze);\n            }\n            const entities = {\n                tag: entitiesTag,\n                val: entitiesVal,\n            };\n            const result = await analyze.detectSensitiveInfo(context, body, entities, options.contextWindowSize || 1, convertedDetect);\n            const state = mode === \"LIVE\" ? \"RUN\" : \"DRY_RUN\";\n            const reason = new ArcjetSensitiveInfoReason({\n                denied: convertAnalyzeDetectedSensitiveInfoEntity(result.denied),\n                allowed: convertAnalyzeDetectedSensitiveInfoEntity(result.allowed),\n            });\n            if (result.denied.length === 0) {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    ttl: 0,\n                    state,\n                    conclusion: \"ALLOW\",\n                    reason,\n                });\n            }\n            else {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    ttl: 0,\n                    state,\n                    conclusion: \"DENY\",\n                    reason,\n                });\n            }\n        },\n    };\n    return [rule];\n}\n/**\n * Arcjet email validation rule. Applying this rule allows you to validate &\n * verify an email address.\n *\n * The first step of the analysis is to validate the email address syntax. This\n * runs locally within the SDK and validates the email address is in the correct\n * format. If the email syntax is valid, the SDK will pass the email address to\n * the Arcjet cloud API to verify the email address. This performs several\n * checks, depending on the rule configuration.\n *\n * @param {EmailOptions} options - The options for the email validation rule.\n * @param {ArcjetMode} options.mode - The block mode of the rule, either\n * `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block email addresses based on the\n * configuration, and `\"DRY_RUN\"` will allow all requests while still providing\n * access to the rule results. Defaults to `\"DRY_RUN\"` if not specified.\n * @param {Array<ArcjetEmailType>} options.deny - The list of email types to\n * deny. If provided, the email types in this list will be denied. You may only\n * provide either `allow` or `deny`, not both. Specify one or more of the\n * following:\n *\n * - `\"DISPOSABLE\"` - Disposable email addresses.\n * - `\"FREE\"` - Free email addresses.\n * - `\"NO_MX_RECORDS\"` - Email addresses with no MX records.\n * - `\"NO_GRAVATAR\"` - Email addresses with no Gravatar.\n * - `\"INVALID\"` - Invalid email addresses.\n *\n * @param {Array<ArcjetEmailType>} options.allow - The list of email types to\n * allow. If provided, email addresses in this list will be allowed and all\n * others will be denied. You may only provide either `allow` or `deny`, not\n * both. The same options apply as for `deny`.\n * @returns {Primitive} The email rule to provide to the SDK in the `rules`\n * option.\n *\n * @example\n * ```ts\n * validateEmail({ mode: \"LIVE\", deny: [\"DISPOSABLE\", \"INVALID\"] });\n * ```\n * @example\n * ```ts\n * const aj = arcjet({\n *   key: process.env.ARCJET_KEY,\n *   rules: [\n *     validateEmail({\n *       mode: \"LIVE\",\n *       deny: [\"DISPOSABLE\", \"INVALID\"]\n *     })\n *   ],\n * });\n * ```\n * @link https://docs.arcjet.com/email-validation/concepts\n * @link https://docs.arcjet.com/email-validation/reference\n */\nfunction validateEmail(options) {\n    validateEmailOptions(options);\n    if (typeof options.allow !== \"undefined\" &&\n        typeof options.deny !== \"undefined\") {\n        throw new Error(\"`validateEmail` options error: `allow` and `deny` cannot be provided together\");\n    }\n    if (typeof options.allow !== \"undefined\" &&\n        typeof options.block !== \"undefined\") {\n        throw new Error(\"`validateEmail` options error: `allow` and `block` cannot be provided together\");\n    }\n    if (typeof options.deny !== \"undefined\" &&\n        typeof options.block !== \"undefined\") {\n        throw new Error(\"`validateEmail` options error: `deny` and `block` cannot be provided together, `block` is now deprecated so `deny` should be preferred.\");\n    }\n    if (typeof options.allow === \"undefined\" &&\n        typeof options.deny === \"undefined\" &&\n        typeof options.block === \"undefined\") {\n        throw new Error(\"`validateEmail` options error: either `allow` or `deny` must be specified\");\n    }\n    const type = \"EMAIL\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const allow = options.allow ?? [];\n    const deny = options.deny ?? options.block ?? [];\n    const requireTopLevelDomain = options.requireTopLevelDomain ?? true;\n    const allowDomainLiteral = options.allowDomainLiteral ?? false;\n    const id = hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.stringSliceOrdered(\"allow\", allow), hasher.stringSliceOrdered(\"deny\", deny), hasher.bool(\"requireTopLevelDomain\", requireTopLevelDomain), hasher.bool(\"allowDomainLiteral\", allowDomainLiteral));\n    let config = {\n        tag: \"deny-email-validation-config\",\n        val: {\n            requireTopLevelDomain,\n            allowDomainLiteral,\n            deny: [],\n        },\n    };\n    if (typeof options.allow !== \"undefined\") {\n        config = {\n            tag: \"allow-email-validation-config\",\n            val: {\n                requireTopLevelDomain,\n                allowDomainLiteral,\n                allow: options.allow,\n            },\n        };\n    }\n    if (typeof options.deny !== \"undefined\") {\n        config = {\n            tag: \"deny-email-validation-config\",\n            val: {\n                requireTopLevelDomain,\n                allowDomainLiteral,\n                deny: options.deny,\n            },\n        };\n    }\n    if (typeof options.block !== \"undefined\") {\n        config = {\n            tag: \"deny-email-validation-config\",\n            val: {\n                requireTopLevelDomain,\n                allowDomainLiteral,\n                deny: options.block,\n            },\n        };\n    }\n    const rule = {\n        version,\n        priority: Priority.EmailValidation,\n        type,\n        mode,\n        allow,\n        deny,\n        requireTopLevelDomain,\n        allowDomainLiteral,\n        validate(context, details) {\n            assert(typeof details.email !== \"undefined\", \"ValidateEmail requires `email` to be set.\");\n        },\n        async protect(context, { email }) {\n            const ruleId = await id;\n            const result = await analyze.isValidEmail(context, email, config);\n            const state = mode === \"LIVE\" ? \"RUN\" : \"DRY_RUN\";\n            if (result.validity === \"valid\") {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    ttl: 0,\n                    state,\n                    conclusion: \"ALLOW\",\n                    reason: new ArcjetEmailReason({ emailTypes: [] }),\n                });\n            }\n            else {\n                const typedEmailTypes = result.blocked.filter(isEmailType);\n                return new ArcjetRuleResult({\n                    ruleId,\n                    ttl: 0,\n                    state,\n                    conclusion: \"DENY\",\n                    reason: new ArcjetEmailReason({\n                        emailTypes: typedEmailTypes,\n                    }),\n                });\n            }\n        },\n    };\n    return [rule];\n}\n/**\n * Arcjet bot detection rule. Applying this rule allows you to manage traffic by\n * automated clients and bots.\n *\n * Bots can be good (such as search engine crawlers or monitoring agents) or bad\n * (such as scrapers or automated scripts). Arcjet allows you to configure which\n * bots you want to allow or deny by specific bot names e.g. curl, as well as by\n * category e.g. search engine bots.\n *\n * Bots are detected based on various signals such as the user agent, IP\n * address, DNS records, and more.\n *\n * @param {BotOptions} options - The options for the bot rule.\n * @param {ArcjetMode} options.mode - The block mode of the rule, either\n * `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block detected bots, and `\"DRY_RUN\"`\n * will allow all requests while still providing access to the rule results.\n * Defaults to `\"DRY_RUN\"` if not specified.\n * @param {Array<ArcjetWellKnownBot | ArcjetBotCategory>} options.allow - The\n * list of bots to allow. If provided, only the bots in this list will be\n * allowed and any other detected bot will be denied. If empty, all bots will be\n * denied. You may only provide either `allow` or `deny`, not both. You can use\n * specific bots e.g. `\"CURL\"` will allow the default user-agent of the `curl`\n * tool. You can also use categories e.g. `\"CATEGORY:SEARCH_ENGINE\"` will allow\n * all search engine bots. See\n * https://docs.arcjet.com/bot-protection/identifying-bots for the full list of\n * bots and categories.\n * @param {Array<ArcjetWellKnownBot | ArcjetBotCategory>} options.deny - The\n * list of bots to deny. If provided, the bots in this list will be denied and\n * all other detected bots will be allowed. You may only provide either `allow`\n * or `deny`, not both. The same options apply as for `allow`.\n * @returns {Primitive} The bot rule to provide to the SDK in the `rules`\n * option.\n *\n * @example\n * Allows search engine bots and curl, denies all other bots\n *\n * ```ts\n * detectBot({ mode: \"LIVE\", allow: [\"CATEGORY:SEARCH_ENGINE\", \"CURL\"] });\n * ```\n * @example\n * Allows search engine bots and curl, denies all other bots\n *\n * ```ts\n * const aj = arcjet({\n *   key: process.env.ARCJET_KEY,\n *   rules: [\n *     detectBot({\n *       mode: \"LIVE\",\n *       allow: [\"CATEGORY:SEARCH_ENGINE\", \"CURL\"]\n *     })\n *   ],\n * });\n * ```\n * @example\n * Denies AI crawlers, allows all other bots\n *\n * ```ts\n * detectBot({ mode: \"LIVE\", deny: [\"CATEGORY:AI\"] });\n * ```\n * @example\n * Denies AI crawlers, allows all other bots\n * ```ts\n * const aj = arcjet({\n *   key: process.env.ARCJET_KEY,\n *   rules: [\n *     detectBot({\n *       mode: \"LIVE\",\n *       deny: [\"CATEGORY:AI\"]\n *     })\n *   ],\n * });\n * ```\n * @link https://docs.arcjet.com/bot-protection/concepts\n * @link https://docs.arcjet.com/bot-protection/identifying-bots\n * @link https://docs.arcjet.com/bot-protection/reference\n */\nfunction detectBot(options) {\n    validateBotOptions(options);\n    if (typeof options.allow !== \"undefined\" &&\n        typeof options.deny !== \"undefined\") {\n        throw new Error(\"`detectBot` options error: `allow` and `deny` cannot be provided together\");\n    }\n    if (typeof options.allow === \"undefined\" &&\n        typeof options.deny === \"undefined\") {\n        throw new Error(\"`detectBot` options error: either `allow` or `deny` must be specified\");\n    }\n    const type = \"BOT\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const allow = options.allow ?? [];\n    const deny = options.deny ?? [];\n    const id = hasher.hash(hasher.string(\"type\", type), hasher.uint32(\"version\", version), hasher.string(\"mode\", mode), hasher.stringSliceOrdered(\"allow\", allow), hasher.stringSliceOrdered(\"deny\", deny));\n    let config = {\n        tag: \"allowed-bot-config\",\n        val: {\n            entities: [],\n            skipCustomDetect: true,\n        },\n    };\n    if (typeof options.allow !== \"undefined\") {\n        config = {\n            tag: \"allowed-bot-config\",\n            val: {\n                entities: options.allow,\n                skipCustomDetect: true,\n            },\n        };\n    }\n    if (typeof options.deny !== \"undefined\") {\n        config = {\n            tag: \"denied-bot-config\",\n            val: {\n                entities: options.deny,\n                skipCustomDetect: true,\n            },\n        };\n    }\n    const rule = {\n        version,\n        priority: Priority.BotDetection,\n        type,\n        mode,\n        allow,\n        deny,\n        validate(context, details) {\n            if (typeof details.headers === \"undefined\") {\n                throw new Error(\"bot detection requires `headers` to be set\");\n            }\n            if (typeof details.headers.has !== \"function\") {\n                throw new Error(\"bot detection requires `headers` to extend `Headers`\");\n            }\n            if (!details.headers.has(\"user-agent\")) {\n                throw new Error(\"bot detection requires user-agent header\");\n            }\n        },\n        /**\n         * Attempts to call the bot detection on the headers.\n         */\n        async protect(context, request) {\n            const ruleId = await id;\n            const result = await analyze.detectBot(context, toAnalyzeRequest(request), config);\n            const state = mode === \"LIVE\" ? \"RUN\" : \"DRY_RUN\";\n            // If this is a bot and of a type that we want to block, then block!\n            if (result.denied.length > 0) {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    ttl: 60,\n                    state,\n                    conclusion: \"DENY\",\n                    reason: new ArcjetBotReason({\n                        allowed: result.allowed,\n                        denied: result.denied,\n                        verified: result.verified,\n                        spoofed: result.spoofed,\n                    }),\n                });\n            }\n            else {\n                return new ArcjetRuleResult({\n                    ruleId,\n                    ttl: 0,\n                    state,\n                    conclusion: \"ALLOW\",\n                    reason: new ArcjetBotReason({\n                        allowed: result.allowed,\n                        denied: result.denied,\n                        verified: result.verified,\n                        spoofed: result.spoofed,\n                    }),\n                });\n            }\n        },\n    };\n    return [rule];\n}\n/**\n * Arcjet Shield WAF rule. Applying this rule protects your application against\n * common attacks, including the OWASP Top 10.\n *\n * The Arcjet Shield WAF analyzes every request to your application to detect\n * suspicious activity. Once a certain suspicion threshold is reached,\n * subsequent requests from that client are blocked for a period of time.\n *\n * @param {ShieldOptions} options - The options for the Shield rule.\n * @param {ArcjetMode} options.mode - The block mode of the rule, either\n * `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block suspicious requests, and\n * `\"DRY_RUN\"` will allow all requests while still providing access to the rule\n * results. Defaults to `\"DRY_RUN\"` if not specified.\n * @returns {Primitive} The Shield rule to provide to the SDK in the `rules`\n * option.\n *\n * @example\n * ```ts\n * shield({ mode: \"LIVE\" });\n * ```\n * @example\n * ```ts\n * const aj = arcjet({\n *   key: process.env.ARCJET_KEY,\n *   rules: [shield({ mode: \"LIVE\" })],\n * });\n * ```\n * @link https://docs.arcjet.com/shield/concepts\n * @link https://docs.arcjet.com/shield/reference\n */\nfunction shield(options) {\n    validateShieldOptions(options);\n    const type = \"SHIELD\";\n    const version = 0;\n    const mode = options.mode === \"LIVE\" ? \"LIVE\" : \"DRY_RUN\";\n    const rule = {\n        type,\n        version,\n        priority: Priority.Shield,\n        mode,\n    };\n    return [rule];\n}\n/**\n * Arcjet signup form protection rule. Applying this rule combines rate\n * limiting, bot protection, and email validation to protect your signup forms\n * from abuse. Using this rule will configure the following:\n *\n * - Rate limiting - signup forms are a common target for bots. Arcjet’s rate\n *   limiting helps to prevent bots and other automated or malicious clients\n *   from submitting your signup form too many times in a short period of time.\n * - Bot protection - signup forms are usually exclusively used by humans, which\n *   means that any automated submissions to the form are likely to be\n *   fraudulent.\n * - Email validation - email addresses should be validated to ensure the signup\n *   is coming from a legitimate user with a real email address that can\n *   actually receive messages.\n *\n * @param {ProtectSignupOptions} options - The options for the signup form\n * protection rule.\n * @param {ArcjetMode} options.email.mode - The block mode of the rule, either\n * `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block email addresses based on the\n * configuration, and `\"DRY_RUN\"` will allow all requests while still providing\n * access to the rule results. Defaults to `\"DRY_RUN\"` if not specified.\n * @param {Array<ArcjetEmailType>} options.email.deny - The list of email types\n * to deny. If provided, the email types in this list will be denied. You may\n * only provide either `allow` or `deny`, not both. Specify one or more of the\n * following:\n *\n * - `\"DISPOSABLE\"` - Disposable email addresses.\n * - `\"FREE\"` - Free email addresses.\n * - `\"NO_MX_RECORDS\"` - Email addresses with no MX records.\n * - `\"NO_GRAVATAR\"` - Email addresses with no Gravatar.\n * - `\"INVALID\"` - Invalid email addresses.\n *\n * @param {Array<ArcjetEmailType>} options.email.allow - The list of email types\n * to allow. If provided, email addresses in this list will be allowed and all\n * others will be denied. You may only provide either `allow` or `deny`, not\n * both. The same options apply as for `deny`.\n * @param {ArcjetMode} options.bots.mode - The block mode of the rule, either\n * `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block detected bots, and `\"DRY_RUN\"`\n * will allow all requests while still providing access to the rule results.\n * Defaults to `\"DRY_RUN\"` if not specified.\n * @param {Array<ArcjetWellKnownBot | ArcjetBotCategory>} options.bots.allow -\n * The list of bots to allow. If provided, only the bots in this list will be\n * allowed and any other detected bot will be denied. If empty, all bots will be\n * denied. You may only provide either `allow` or `deny`, not both. You can use\n * specific bots e.g. `\"CURL\"` will allow the default user-agent of the `curl`\n * tool. You can also use categories e.g. `\"CATEGORY:SEARCH_ENGINE\"` will allow\n * all search engine bots. See\n * https://docs.arcjet.com/bot-protection/identifying-bots for the full list of\n * bots and categories.\n * @param {Array<ArcjetWellKnownBot | ArcjetBotCategory>} options.bots.deny -\n * The list of bots to deny. If provided, the bots in this list will be denied\n * and all other detected bots will be allowed. You may only provide either\n * `allow` or `deny`, not both. The same options apply as for `allow`.\n * @param {SlidingWindowRateLimitOptions} options.rateLimit - The options for\n * the sliding window rate limiting rule.\n * @param {ArcjetMode} options.rateLimit.mode - The block mode of the rule,\n * either `\"LIVE\"` or `\"DRY_RUN\"`. `\"LIVE\"` will block requests when the rate\n * limit is exceeded, and `\"DRY_RUN\"` will allow all requests while still\n * providing access to the rule results. Defaults to `\"DRY_RUN\"` if not\n * specified.\n * @param {string | number} options.rateLimit.interval - The time interval for\n * the rate limit. This can be a string like `\"60s\"` for 60 seconds, `\"1h45m\"`\n * for 1 hour and 45 minutes, or a number like `60` for 60 seconds. Valid string\n * time units are:\n * - `s` for seconds.\n * - `m` for minutes.\n * - `h` for hours.\n * - `d` for days.\n * @param {number} options.rateLimit.max - The maximum number of requests\n * allowed in the sliding time window.\n * @returns {Primitive} The signup form protection rule to provide to the SDK in\n * the `rules` option.\n *\n * @example\n * Our recommended configuration for most signup forms is:\n *\n * - Block emails with invalid syntax, that are from disposable email providers,\n *   or do not have valid MX records configured.\n * - Block all bots.\n * - Apply a rate limit of 5 submissions per 10 minutes from a single IP\n *   address.\n *\n * ```ts\n * const aj = arcjet({\n *   key: process.env.ARCJET_KEY,\n *   rules: [\n *    protectSignup({\n *      email: {\n *        mode: \"LIVE\",\n *        block: [\"DISPOSABLE\", \"INVALID\", \"NO_MX_RECORDS\"],\n *      },\n *      bots: {\n *        mode: \"LIVE\",\n *        allow: [], // block all detected bots\n *      },\n *      rateLimit: {\n *        mode: \"LIVE\",\n *        interval: \"10m\",\n *        max: 5,\n *      },\n *    }),\n *  ],\n * });\n * ```\n * @link https://docs.arcjet.com/signup-protection/concepts\n * @link https://docs.arcjet.com/signup-protection/reference\n */\nfunction protectSignup(options) {\n    return [\n        ...slidingWindow(options.rateLimit),\n        ...detectBot(options.bots),\n        ...validateEmail(options.email),\n    ];\n}\n/**\n * Create a new Arcjet client with the specified {@link ArcjetOptions}.\n *\n * @param options {ArcjetOptions} Arcjet configuration options.\n */\nfunction arcjet(options) {\n    // We destructure here to make the function signature neat when viewed by consumers\n    const { key, rules } = options;\n    const rt = runtime();\n    // TODO: Separate the ArcjetOptions from the SDK Options\n    // It is currently optional in the options so users can override it via an SDK\n    if (typeof options.log === \"undefined\") {\n        throw new Error(\"Log is required\");\n    }\n    const log = options.log;\n    const perf = new Performance(log);\n    // TODO(#207): Remove this when we can default the transport so client is not required\n    // It is currently optional in the options so the Next SDK can override it for the user\n    if (typeof options.client === \"undefined\") {\n        throw new Error(\"Client is required\");\n    }\n    const client = options.client;\n    // A local cache of block decisions. Might be emphemeral per request,\n    // depending on the way the runtime works, but it's worth a try.\n    // TODO(#132): Support configurable caching\n    const blockCache = new Cache();\n    const rootRules = rules\n        .flat(1)\n        .sort((a, b) => a.priority - b.priority);\n    async function protect(rules, ctx, request) {\n        // This goes against the type definition above, but users might call\n        // `protect()` with no value and we don't want to crash\n        if (typeof request === \"undefined\") {\n            request = {};\n        }\n        const details = Object.freeze({\n            ip: request.ip,\n            method: request.method,\n            protocol: request.protocol,\n            host: request.host,\n            path: request.path,\n            headers: new ArcjetHeaders(request.headers),\n            cookies: request.cookies,\n            query: request.query,\n            // TODO(#208): Re-add body\n            // body: request.body,\n            extra: extraProps(request),\n            email: typeof request.email === \"string\" ? request.email : undefined,\n        });\n        const characteristics = options.characteristics\n            ? [...options.characteristics]\n            : [];\n        const waitUntil = lookupWaitUntil();\n        const baseContext = {\n            key,\n            log,\n            characteristics,\n            waitUntil,\n            ...ctx,\n        };\n        let fingerprint = \"\";\n        const logFingerprintPerf = perf.measure(\"fingerprint\");\n        try {\n            fingerprint = await analyze.generateFingerprint(baseContext, toAnalyzeRequest(details));\n            log.debug(\"fingerprint (%s): %s\", rt, fingerprint);\n        }\n        catch (error) {\n            log.error({ error }, \"Failed to build fingerprint. Please verify your Characteristics.\");\n            const decision = new ArcjetErrorDecision({\n                ttl: 0,\n                reason: new ArcjetErrorReason(`Failed to build fingerprint - ${errorMessage(error)}`),\n                // No results because we couldn't create a fingerprint\n                results: [],\n            });\n            // TODO: Consider sending this to Report when we have an infallible fingerprint\n            return decision;\n        }\n        finally {\n            logFingerprintPerf();\n        }\n        const context = Object.freeze({\n            ...baseContext,\n            fingerprint,\n            runtime: rt,\n        });\n        if (rules.length < 1) {\n            log.warn(\"Calling `protect()` with no rules is deprecated. Did you mean to configure the Shield rule?\");\n        }\n        if (rules.length > 10) {\n            log.error(\"Failure running rules. Only 10 rules may be specified.\");\n            const decision = new ArcjetErrorDecision({\n                ttl: 0,\n                reason: new ArcjetErrorReason(\"Only 10 rules may be specified\"),\n                // No results because the sorted rules were too long and we don't want\n                // to instantiate a ton of NOT_RUN results\n                results: [],\n            });\n            client.report(context, details, decision, \n            // No rules because we've determined they were too long and we don't\n            // want to try to send them to the server\n            []);\n            return decision;\n        }\n        const results = [];\n        for (let idx = 0; idx < rules.length; idx++) {\n            // Default all rules to NOT_RUN/ALLOW before doing anything\n            results[idx] = new ArcjetRuleResult({\n                // TODO(#4030): Figure out if we can get each Rule ID before they are run\n                ruleId: \"\",\n                ttl: 0,\n                state: \"NOT_RUN\",\n                conclusion: \"ALLOW\",\n                reason: new ArcjetReason(),\n            });\n            // Add top-level characteristics to all Rate Limit rules that don't already have\n            // their own set of characteristics.\n            const candidate_rule = rules[idx];\n            if (isRateLimitRule(candidate_rule)) {\n                if (typeof candidate_rule.characteristics === \"undefined\") {\n                    candidate_rule.characteristics = characteristics;\n                    rules[idx] = candidate_rule;\n                }\n            }\n        }\n        const logLocalPerf = perf.measure(\"local\");\n        try {\n            // We have our own local cache which we check first. This doesn't work in\n            // serverless environments where every request is isolated, but there may be\n            // some instances where the instance is not recycled immediately. If so, we\n            // can take advantage of that.\n            const logCachePerf = perf.measure(\"cache\");\n            const existingBlockReason = blockCache.get(fingerprint);\n            logCachePerf();\n            // If already blocked then we can async log to the API and return the\n            // decision immediately.\n            if (existingBlockReason) {\n                const decision = new ArcjetDenyDecision({\n                    ttl: blockCache.ttl(fingerprint),\n                    reason: existingBlockReason,\n                    // All results will be NOT_RUN because we used a cached decision\n                    results,\n                });\n                client.report(context, details, decision, rules);\n                log.debug({\n                    id: decision.id,\n                    conclusion: decision.conclusion,\n                    fingerprint,\n                    reason: existingBlockReason,\n                    runtime: rt,\n                }, \"decide: already blocked\");\n                return decision;\n            }\n            for (const [idx, rule] of rules.entries()) {\n                // This re-assignment is a workaround to a TypeScript error with\n                // assertions where the name was introduced via a destructure\n                let localRule;\n                if (isLocalRule(rule)) {\n                    localRule = rule;\n                }\n                else {\n                    continue;\n                }\n                const logRulePerf = perf.measure(rule.type);\n                try {\n                    localRule.validate(context, details);\n                    results[idx] = await localRule.protect(context, details);\n                    // If a rule didn't return a rule result, we need to stub it to avoid\n                    // crashing. This should only happen if a user writes a custom local\n                    // rule incorrectly.\n                    if (typeof results[idx] === \"undefined\") {\n                        results[idx] = new ArcjetRuleResult({\n                            // TODO(#4030): If we can get the Rule ID before running rules,\n                            // this can use it\n                            ruleId: \"\",\n                            ttl: 0,\n                            state: \"RUN\",\n                            conclusion: \"ERROR\",\n                            reason: new ArcjetErrorReason(\"rule result missing\"),\n                        });\n                    }\n                    log.debug({\n                        id: results[idx].ruleId,\n                        rule: rule.type,\n                        fingerprint,\n                        path: details.path,\n                        runtime: rt,\n                        ttl: results[idx].ttl,\n                        conclusion: results[idx].conclusion,\n                        reason: results[idx].reason,\n                    }, \"Local rule result:\");\n                }\n                catch (err) {\n                    log.error(\"Failure running rule: %s due to %s\", rule.type, errorMessage(err));\n                    results[idx] = new ArcjetRuleResult({\n                        // TODO(#4030): Figure out if we can get a Rule ID in this error case\n                        ruleId: \"\",\n                        ttl: 0,\n                        state: \"RUN\",\n                        conclusion: \"ERROR\",\n                        reason: new ArcjetErrorReason(err),\n                    });\n                }\n                finally {\n                    logRulePerf();\n                }\n                if (results[idx].isDenied()) {\n                    // If the rule is not a DRY_RUN, we want to cache non-zero TTL results\n                    // and return a DENY decision.\n                    if (results[idx].state !== \"DRY_RUN\") {\n                        const decision = new ArcjetDenyDecision({\n                            ttl: results[idx].ttl,\n                            reason: results[idx].reason,\n                            results,\n                        });\n                        // Only a DENY decision is reported to avoid creating 2 entries for\n                        // a request. Upon ALLOW, the `decide` call will create an entry for\n                        // the request.\n                        client.report(context, details, decision, rules);\n                        if (results[idx].ttl > 0) {\n                            log.debug({\n                                fingerprint,\n                                conclusion: decision.conclusion,\n                                reason: decision.reason,\n                            }, \"Caching decision for %d seconds\", decision.ttl);\n                            blockCache.set(fingerprint, decision.reason, nowInSeconds() + decision.ttl);\n                        }\n                        return decision;\n                    }\n                    log.warn(`Dry run mode is enabled for \"%s\" rule. Overriding decision. Decision was: DENY`, rule.type);\n                }\n            }\n        }\n        finally {\n            logLocalPerf();\n        }\n        // With no cached values, we take a decision remotely. We use a timeout to\n        // fail open.\n        const logRemotePerf = perf.measure(\"remote\");\n        try {\n            const logDediceApiPerf = perf.measure(\"decideApi\");\n            const decision = await client\n                .decide(context, details, rules)\n                .finally(() => {\n                logDediceApiPerf();\n            });\n            // If the decision is to block and we have a non-zero TTL, we cache the\n            // block locally\n            if (decision.isDenied() && decision.ttl > 0) {\n                log.debug(\"decide: Caching block locally for %d seconds\", decision.ttl);\n                blockCache.set(fingerprint, decision.reason, nowInSeconds() + decision.ttl);\n            }\n            return decision;\n        }\n        catch (err) {\n            log.error(\"Encountered problem getting remote decision: %s\", errorMessage(err));\n            const decision = new ArcjetErrorDecision({\n                ttl: 0,\n                reason: new ArcjetErrorReason(err),\n                results,\n            });\n            client.report(context, details, decision, rules);\n            return decision;\n        }\n        finally {\n            logRemotePerf();\n        }\n    }\n    // This is a separate function so it can be called recursively\n    function withRule(baseRules, rule) {\n        const rules = [...baseRules, ...rule].sort((a, b) => a.priority - b.priority);\n        return Object.freeze({\n            withRule(rule) {\n                return withRule(rules, rule);\n            },\n            async protect(ctx, request) {\n                return protect(rules, ctx, request);\n            },\n        });\n    }\n    return Object.freeze({\n        withRule(rule) {\n            return withRule(rootRules, rule);\n        },\n        async protect(ctx, request) {\n            return protect(rootRules, ctx, request);\n        },\n    });\n}\n\nexport { arcjet as default, detectBot, fixedWindow, protectSignup, sensitiveInfo, shield, slidingWindow, tokenBucket, validateEmail };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7290, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/ip/index.js"],"sourcesContent":["function parseXForwardedFor(value) {\n    if (typeof value !== \"string\") {\n        return [];\n    }\n    const forwardedIps = [];\n    // As per MDN X-Forwarded-For Headers documentation at\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\n    // The `x-forwarded-for` header may return one or more IP addresses as\n    // \"client IP, proxy 1 IP, proxy 2 IP\", so we want to split by the comma and\n    // trim each item.\n    for (const item of value.split(\",\")) {\n        forwardedIps.push(item.trim());\n    }\n    return forwardedIps;\n}\nfunction isIPv4Cidr(cidr) {\n    return (typeof cidr === \"object\" &&\n        cidr !== null &&\n        \"type\" in cidr &&\n        typeof cidr.type === \"string\" &&\n        cidr.type === \"v4\" &&\n        \"contains\" in cidr &&\n        typeof cidr.contains === \"function\");\n}\nfunction isIPv6Cidr(cidr) {\n    return (typeof cidr === \"object\" &&\n        cidr !== null &&\n        \"type\" in cidr &&\n        typeof cidr.type === \"string\" &&\n        cidr.type === \"v6\" &&\n        \"contains\" in cidr &&\n        typeof cidr.contains === \"function\");\n}\nfunction isTrustedProxy(ip, segments, proxies) {\n    if (Array.isArray(proxies) && proxies.length > 0) {\n        return proxies.some((proxy) => {\n            if (typeof proxy === \"string\") {\n                return proxy === ip;\n            }\n            if (isIPv4Tuple(segments) && isIPv4Cidr(proxy)) {\n                return proxy.contains(segments);\n            }\n            if (isIPv6Tuple(segments) && isIPv6Cidr(proxy)) {\n                return proxy.contains(segments);\n            }\n            return false;\n        });\n    }\n    return false;\n}\nclass CIDR {\n    // Based on CIDR matching implementation in `ipaddr.js`\n    // Source code:\n    // https://github.com/whitequark/ipaddr.js/blob/08c2cd41e2cb3400683cbd503f60421bfdf66921/lib/ipaddr.js#L107-L130\n    //\n    // Licensed: The MIT License (MIT)\n    // Copyright (C) 2011-2017 whitequark <whitequark@whitequark.org>\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a copy\n    // of this software and associated documentation files (the \"Software\"), to deal\n    // in the Software without restriction, including without limitation the rights\n    // to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n    // copies of the Software, and to permit persons to whom the Software is\n    // furnished to do so, subject to the following conditions:\n    // The above copyright notice and this permission notice shall be included in\n    // all copies or substantial portions of the Software.\n    // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n    // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n    // AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n    // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n    // OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n    // THE SOFTWARE.\n    contains(ip) {\n        let part = 0;\n        let shift;\n        let cidrBits = this.bits;\n        while (cidrBits > 0) {\n            shift = this.partSize - cidrBits;\n            if (shift < 0) {\n                shift = 0;\n            }\n            if (ip[part] >> shift !== this.parts[part] >> shift) {\n                return false;\n            }\n            cidrBits -= this.partSize;\n            part += 1;\n        }\n        return true;\n    }\n}\nclass IPv4CIDR extends CIDR {\n    type = \"v4\";\n    partSize = 8;\n    parts;\n    bits;\n    constructor(parts, bits) {\n        super();\n        this.bits = bits;\n        this.parts = parts;\n        Object.freeze(this);\n    }\n    contains(ip) {\n        return super.contains(ip);\n    }\n}\nclass IPv6CIDR extends CIDR {\n    type = \"v6\";\n    partSize = 16;\n    parts;\n    bits;\n    constructor(parts, bits) {\n        super();\n        this.bits = bits;\n        this.parts = parts;\n        Object.freeze(this);\n    }\n    contains(ip) {\n        return super.contains(ip);\n    }\n}\nfunction parseCIDR(cidr) {\n    // Pre-condition: `cidr` has be verified to have at least one `/`\n    const cidrParts = cidr.split(\"/\");\n    if (cidrParts.length !== 2) {\n        throw new Error(\"invalid CIDR address: must be exactly 2 parts\");\n    }\n    const parser = new Parser(cidrParts[0]);\n    const maybeIPv4 = parser.readIPv4Address();\n    if (isIPv4Tuple(maybeIPv4)) {\n        const bits = parseInt(cidrParts[1], 10);\n        if (isNaN(bits) || bits < 0 || bits > 32) {\n            throw new Error(\"invalid CIDR address: incorrect amount of bits\");\n        }\n        return new IPv4CIDR(maybeIPv4, bits);\n    }\n    const maybeIPv6 = parser.readIPv6Address();\n    if (isIPv6Tuple(maybeIPv6)) {\n        const bits = parseInt(cidrParts[1], 10);\n        if (isNaN(bits) || bits < 0 || bits > 128) {\n            throw new Error(\"invalid CIDR address: incorrect amount of bits\");\n        }\n        return new IPv6CIDR(maybeIPv6, bits);\n    }\n    throw new Error(\"invalid CIDR address: could not parse IP address\");\n}\nfunction isCIDR(address) {\n    return address.includes(\"/\");\n}\n// Converts a string that looks like a CIDR address into the corresponding class\n// while ignoring non-CIDR IP addresses.\nfunction parseProxy(proxy) {\n    if (isCIDR(proxy)) {\n        return parseCIDR(proxy);\n    }\n    else {\n        return proxy;\n    }\n}\nfunction isIPv4Tuple(segements) {\n    if (typeof segements === \"undefined\") {\n        return false;\n    }\n    return segements.length === 4;\n}\nfunction isIPv6Tuple(segements) {\n    if (typeof segements === \"undefined\") {\n        return false;\n    }\n    return segements.length === 8;\n}\nfunction u16FromBytes(bytes) {\n    const u8 = new Uint8Array(bytes);\n    return new Uint16Array(u8.buffer)[0];\n}\nfunction u32FromBytes(bytes) {\n    const u8 = new Uint8Array(bytes);\n    return new Uint32Array(u8.buffer)[0];\n}\n// This Parser and \"is global\" comparisons are a TypeScript implementation of\n// similar code in the Rust stdlib with only slight deviations as noted.\n//\n// We want to mirror Rust's logic as close as possible, because we'll be relying\n// on its implementation when we add a Wasm library to determine IPs and only\n// falling back to JavaScript in non-Wasm environments.\n//\n// Parser source:\n// https://github.com/rust-lang/rust/blob/07921b50ba6dcb5b2984a1dba039a38d85bffba2/library/core/src/net/parser.rs#L34\n// Comparison source:\n// https://github.com/rust-lang/rust/blob/87e1447aadaa2899ff6ccabe1fa669eb50fb60a1/library/core/src/net/ip_addr.rs#L749\n// https://github.com/rust-lang/rust/blob/87e1447aadaa2899ff6ccabe1fa669eb50fb60a1/library/core/src/net/ip_addr.rs#L1453\n//\n// Licensed: The MIT License (MIT)\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions: The above copyright\n// notice and this permission notice shall be included in all copies or\n// substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\nclass Parser {\n    state;\n    constructor(input) {\n        this.state = input;\n    }\n    readAtomically(inner) {\n        const state = this.state;\n        const result = inner(this);\n        if (typeof result === \"undefined\") {\n            this.state = state;\n        }\n        return result;\n    }\n    peakChar() {\n        return this.state[0];\n    }\n    readChar() {\n        const b = this.state[0];\n        this.state = this.state.slice(1);\n        return b;\n    }\n    readGivenChar(target) {\n        return this.readAtomically((p) => {\n            const c = p.readChar();\n            if (c === target) {\n                return c;\n            }\n        });\n    }\n    readSeparator(sep, index, inner) {\n        return this.readAtomically((p) => {\n            if (index > 0) {\n                const c = p.readGivenChar(sep);\n                if (typeof c === \"undefined\") {\n                    return;\n                }\n            }\n            return inner(p);\n        });\n    }\n    readNumber(radix, maxDigits, allowZeroPrefix = false) {\n        return this.readAtomically((p) => {\n            let result = 0;\n            let digitCount = 0;\n            const hasLeadingZero = p.peakChar() === \"0\";\n            function nextCharAsDigit() {\n                return p.readAtomically((p) => {\n                    const c = p.readChar();\n                    if (c) {\n                        const n = parseInt(c, radix);\n                        if (!isNaN(n)) {\n                            return n;\n                        }\n                    }\n                });\n            }\n            for (let digit = nextCharAsDigit(); digit !== undefined; digit = nextCharAsDigit()) {\n                result = result * radix;\n                result = result + digit;\n                digitCount += 1;\n                if (typeof maxDigits !== \"undefined\") {\n                    if (digitCount > maxDigits) {\n                        return;\n                    }\n                }\n            }\n            if (digitCount === 0) {\n                return;\n            }\n            else if (!allowZeroPrefix && hasLeadingZero && digitCount > 1) {\n                return;\n            }\n            else {\n                return result;\n            }\n        });\n    }\n    readIPv4Address() {\n        return this.readAtomically((p) => {\n            const groups = [];\n            for (let idx = 0; idx < 4; idx++) {\n                const result = p.readSeparator(\".\", idx, (p) => {\n                    // Disallow octal number in IP string\n                    // https://tools.ietf.org/html/rfc6943#section-3.1.1\n                    return p.readNumber(10, 3, false);\n                });\n                if (result === undefined) {\n                    return;\n                }\n                else {\n                    groups.push(result);\n                }\n            }\n            return groups;\n        });\n    }\n    readIPv6Address() {\n        // Read a chunk of an IPv6 address into `groups`. Returns the number of\n        // groups read, along with a bool indicating if an embedded trailing IPv4\n        // address was read. Specifically, read a series of colon-separated IPv6\n        // groups (0x0000 - 0xFFFF), with an optional trailing embedded IPv4 address\n        const readGroups = (p, groups) => {\n            const limit = groups.length;\n            for (const i of groups.keys()) {\n                // Try to read a trailing embedded IPv4 address. There must be at least\n                // two groups left\n                if (i < limit - 1) {\n                    const ipv4 = p.readSeparator(\":\", i, (p) => p.readIPv4Address());\n                    if (isIPv4Tuple(ipv4)) {\n                        const [one, two, three, four] = ipv4;\n                        groups[i + 0] = u16FromBytes([one, two]);\n                        groups[i + 1] = u16FromBytes([three, four]);\n                        return [i + 2, true];\n                    }\n                }\n                const group = p.readSeparator(\":\", i, (p) => p.readNumber(16, 4, true));\n                if (typeof group !== \"undefined\") {\n                    groups[i] = group;\n                }\n                else {\n                    return [i, false];\n                }\n            }\n            return [groups.length, false];\n        };\n        return this.readAtomically((p) => {\n            // Read the front part of the address; either the whole thing, or up\n            // to the first ::\n            const head = new Uint16Array(8);\n            const [headSize, headIPv4] = readGroups(p, head);\n            if (headSize === 8) {\n                return head;\n            }\n            // IPv4 part is not allowed before `::`\n            if (headIPv4) {\n                return;\n            }\n            // Read `::` if previous code parsed less than 8 groups.\n            // `::` indicates one or more groups of 16 bits of zeros.\n            if (typeof p.readGivenChar(\":\") === \"undefined\") {\n                return;\n            }\n            if (typeof p.readGivenChar(\":\") === \"undefined\") {\n                return;\n            }\n            // Read the back part of the address. The :: must contain at least one\n            // set of zeroes, so our max length is 7.\n            const tail = new Uint16Array(7);\n            const limit = 8 - (headSize + 1);\n            const [tailSize, _] = readGroups(p, tail.subarray(0, limit));\n            head.set(tail.slice(0, tailSize), 8 - tailSize);\n            return head;\n        });\n    }\n    readPort() {\n        return this.readAtomically((p) => {\n            if (typeof p.readGivenChar(\":\") !== \"undefined\") {\n                return p.readNumber(10, undefined, true);\n            }\n        });\n    }\n    readScopeId() {\n        return this.readAtomically((p) => {\n            if (typeof p.readGivenChar(\"%\") !== \"undefined\") {\n                return p.readNumber(10, undefined, true);\n            }\n        });\n    }\n}\nconst IPV4_BROADCAST = u32FromBytes([255, 255, 255, 255]);\nfunction isGlobalIPv4(s, proxies) {\n    if (typeof s !== \"string\") {\n        return false;\n    }\n    const parser = new Parser(s);\n    const octets = parser.readIPv4Address();\n    if (!isIPv4Tuple(octets)) {\n        return false;\n    }\n    if (isTrustedProxy(s, octets, proxies)) {\n        return false;\n    }\n    // Rust doesn't check the remaining state when parsing an IPv4. However, we\n    // want to ensure we have exactly an IP (with optionally a port), so we parse\n    // it and then check remaining parser state.\n    parser.readPort();\n    if (parser.state.length !== 0) {\n        return false;\n    }\n    // \"This network\"\n    if (octets[0] === 0) {\n        return false;\n    }\n    // Private IPv4 address ranges\n    if (octets[0] === 10) {\n        return false;\n    }\n    if (octets[0] === 172 && octets[1] >= 16 && octets[1] <= 31) {\n        return false;\n    }\n    if (octets[0] === 192 && octets[1] === 168) {\n        return false;\n    }\n    // Loopback address\n    if (octets[0] === 127) {\n        return false;\n    }\n    // Shared range\n    if (octets[0] === 100 && (octets[1] & 0b1100_0000) === 0b0100_0000) {\n        return false;\n    }\n    // Link-local range\n    if (octets[0] === 169 && octets[1] === 254) {\n        return false;\n    }\n    // addresses reserved for future protocols (`192.0.0.0/24`)\n    if (octets[0] === 192 && octets[1] === 0 && octets[2] === 0) {\n        return false;\n    }\n    // Documentation ranges\n    if (octets[0] === 192 && octets[1] === 0 && octets[2] === 2) {\n        return false;\n    }\n    if (octets[0] === 198 && octets[1] === 51 && octets[2] === 100) {\n        return false;\n    }\n    if (octets[0] === 203 && octets[1] === 0 && octets[2] === 113) {\n        return false;\n    }\n    // Benchmarking range\n    if (octets[0] === 198 && (octets[1] & 0xfe) === 18) {\n        return false;\n    }\n    const isBroadcast = u32FromBytes(octets) === IPV4_BROADCAST;\n    // Reserved range\n    if ((octets[0] & 240) === 240 && !isBroadcast) {\n        return false;\n    }\n    // Broadcast address\n    if (isBroadcast) {\n        return false;\n    }\n    for (const octet of octets) {\n        if (octet < 0 || octet > 255) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isGlobalIPv6(s, proxies) {\n    if (typeof s !== \"string\") {\n        return false;\n    }\n    const parser = new Parser(s);\n    const segments = parser.readIPv6Address();\n    if (!isIPv6Tuple(segments)) {\n        return false;\n    }\n    if (isTrustedProxy(s, segments, proxies)) {\n        return false;\n    }\n    // Rust doesn't check the remaining state when parsing an IPv6. However, we\n    // want to ensure we have exactly an IP (with optionally a scope id), so we\n    // parse it and then check remaining parser state.\n    // TODO: We don't support an IPv6 address with a port because that seems to\n    // require wrapping the address and scope in `[]`, e.g. `[:ffff%1]:8080`\n    parser.readScopeId();\n    if (parser.state.length !== 0) {\n        return false;\n    }\n    // Unspecified address\n    if (segments[0] === 0 &&\n        segments[1] === 0 &&\n        segments[2] === 0 &&\n        segments[3] === 0 &&\n        segments[4] === 0 &&\n        segments[5] === 0 &&\n        segments[6] === 0 &&\n        segments[7] === 0) {\n        return false;\n    }\n    // Loopback address\n    if (segments[0] === 0 &&\n        segments[1] === 0 &&\n        segments[2] === 0 &&\n        segments[3] === 0 &&\n        segments[4] === 0 &&\n        segments[5] === 0 &&\n        segments[6] === 0 &&\n        segments[7] === 0x1) {\n        return false;\n    }\n    // IPv4-mapped Address (`::ffff:0:0/96`)\n    if (segments[0] === 0 &&\n        segments[1] === 0 &&\n        segments[2] === 0 &&\n        segments[3] === 0 &&\n        segments[4] === 0 &&\n        segments[5] === 0xffff) {\n        return false;\n    }\n    // IPv4-IPv6 Translat. (`64:ff9b:1::/48`)\n    if (segments[0] === 0x64 && segments[1] === 0xff9b && segments[2] === 1) {\n        return false;\n    }\n    // Discard-Only Address Block (`100::/64`)\n    if (segments[0] === 0x100 &&\n        segments[1] === 0 &&\n        segments[2] === 0 &&\n        segments[3] === 0) {\n        return false;\n    }\n    // IETF Protocol Assignments (`2001::/23`)\n    if (segments[0] === 0x2001 && segments[1] < 0x200) {\n        // Port Control Protocol Anycast (`2001:1::1`)\n        if (segments[0] === 0x2001 &&\n            segments[1] === 1 &&\n            segments[2] === 0 &&\n            segments[3] === 0 &&\n            segments[4] === 0 &&\n            segments[5] === 0 &&\n            segments[6] === 0 &&\n            segments[7] === 1) {\n            return true;\n        }\n        // Traversal Using Relays around NAT Anycast (`2001:1::2`)\n        if (segments[0] === 0x2001 &&\n            segments[1] === 1 &&\n            segments[2] === 0 &&\n            segments[3] === 0 &&\n            segments[4] === 0 &&\n            segments[5] === 0 &&\n            segments[6] === 0 &&\n            segments[7] === 2) {\n            return true;\n        }\n        // AMT (`2001:3::/32`)\n        if (segments[0] === 0x2001 && segments[1] === 3) {\n            return true;\n        }\n        // AS112-v6 (`2001:4:112::/48`)\n        if (segments[0] === 0x2001 && segments[1] === 4 && segments[2] === 0x112) {\n            return true;\n        }\n        // ORCHIDv2 (`2001:20::/28`)\n        if (segments[0] === 0x2001 && segments[1] >= 0x20 && segments[1] <= 0x2f) {\n            return true;\n        }\n        // Benchmarking range (and others)\n        return false;\n    }\n    // Documentation range\n    if (segments[0] === 0x2001 && segments[1] === 0xdb8) {\n        return false;\n    }\n    // Unique local range\n    if ((segments[0] & 0xfe00) === 0xfc00) {\n        return false;\n    }\n    // Unicast link local range\n    if ((segments[0] & 0xffc0) === 0xfe80) {\n        return false;\n    }\n    return true;\n}\nfunction isGlobalIP(s, proxies) {\n    if (isGlobalIPv4(s, proxies)) {\n        return true;\n    }\n    if (isGlobalIPv6(s, proxies)) {\n        return true;\n    }\n    return false;\n}\nfunction isHeaders(val) {\n    return typeof val.get === \"function\";\n}\nfunction getHeader(headers, headerKey) {\n    if (isHeaders(headers)) {\n        return headers.get(headerKey);\n    }\n    else {\n        const headerValue = headers[headerKey];\n        if (Array.isArray(headerValue)) {\n            return headerValue.join(\",\");\n        }\n        else {\n            return headerValue;\n        }\n    }\n}\n// Heavily based on https://github.com/pbojinov/request-ip\n//\n// Licensed: The MIT License (MIT) Copyright (c) 2022 Petar Bojinov -\n// petarbojinov+github@gmail.com\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions: The above copyright\n// notice and this permission notice shall be included in all copies or\n// substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\nfunction findIP(request, options = {}) {\n    const { platform, proxies } = options;\n    // Prefer anything available via the platform over headers since headers can\n    // be set by users. Only if we don't have an IP available in `request` do we\n    // search the `headers`.\n    if (isGlobalIP(request.ip, proxies)) {\n        return request.ip;\n    }\n    const socketRemoteAddress = request.socket?.remoteAddress;\n    if (isGlobalIP(socketRemoteAddress, proxies)) {\n        return socketRemoteAddress;\n    }\n    const infoRemoteAddress = request.info?.remoteAddress;\n    if (isGlobalIP(infoRemoteAddress, proxies)) {\n        return infoRemoteAddress;\n    }\n    // AWS Api Gateway + Lambda\n    const requestContextIdentitySourceIP = request.requestContext?.identity?.sourceIp;\n    if (isGlobalIP(requestContextIdentitySourceIP, proxies)) {\n        return requestContextIdentitySourceIP;\n    }\n    // Validate we have some object for `request.headers`\n    if (typeof request.headers !== \"object\" || request.headers === null) {\n        return \"\";\n    }\n    // Platform-specific headers should only be accepted when we can determine\n    // that we are running on that platform. For example, the `CF-Connecting-IP`\n    // header should only be accepted when running on Cloudflare; otherwise, it\n    // can be spoofed.\n    if (platform === \"cloudflare\") {\n        // CF-Connecting-IPv6: https://developers.cloudflare.com/fundamentals/reference/http-request-headers/#cf-connecting-ipv6\n        const cfConnectingIPv6 = getHeader(request.headers, \"cf-connecting-ipv6\");\n        if (isGlobalIPv6(cfConnectingIPv6, proxies)) {\n            return cfConnectingIPv6;\n        }\n        // CF-Connecting-IP: https://developers.cloudflare.com/fundamentals/reference/http-request-headers/#cf-connecting-ip\n        const cfConnectingIP = getHeader(request.headers, \"cf-connecting-ip\");\n        if (isGlobalIP(cfConnectingIP, proxies)) {\n            return cfConnectingIP;\n        }\n        // If we are using a platform check and don't have a Global IP, we exit\n        // early with an empty IP since the more generic headers shouldn't be\n        // trusted over the platform-specific headers.\n        return \"\";\n    }\n    // Fly.io: https://fly.io/docs/machines/runtime-environment/#fly_app_name\n    if (platform === \"fly-io\") {\n        // Fly-Client-IP: https://fly.io/docs/networking/request-headers/#fly-client-ip\n        const flyClientIP = getHeader(request.headers, \"fly-client-ip\");\n        if (isGlobalIP(flyClientIP, proxies)) {\n            return flyClientIP;\n        }\n        // If we are using a platform check and don't have a Global IP, we exit\n        // early with an empty IP since the more generic headers shouldn't be\n        // trusted over the platform-specific headers.\n        return \"\";\n    }\n    if (platform === \"vercel\") {\n        // https://vercel.com/docs/edge-network/headers/request-headers#x-real-ip\n        // Also used by `@vercel/functions`, see:\n        // https://github.com/vercel/vercel/blob/d7536d52c87712b1b3f83e4b0fd535a1fb7e384c/packages/functions/src/headers.ts#L12\n        const xRealIP = getHeader(request.headers, \"x-real-ip\");\n        if (isGlobalIP(xRealIP, proxies)) {\n            return xRealIP;\n        }\n        // https://vercel.com/docs/edge-network/headers/request-headers#x-vercel-forwarded-for\n        // By default, it seems this will be 1 address, but they discuss trusted\n        // proxy forwarding so we try to parse it like normal. See\n        // https://vercel.com/docs/edge-network/headers/request-headers#custom-x-forwarded-for-ip\n        const xVercelForwardedFor = getHeader(request.headers, \"x-vercel-forwarded-for\");\n        const xVercelForwardedForItems = parseXForwardedFor(xVercelForwardedFor);\n        // As per MDN X-Forwarded-For Headers documentation at\n        // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\n        // We may find more than one IP in the `x-forwarded-for` header. Since the\n        // first IP will be closest to the user (and the most likely to be spoofed),\n        // we want to iterate tail-to-head so we reverse the list.\n        for (const item of xVercelForwardedForItems.reverse()) {\n            if (isGlobalIP(item, proxies)) {\n                return item;\n            }\n        }\n        // https://vercel.com/docs/edge-network/headers/request-headers#x-forwarded-for\n        // By default, it seems this will be 1 address, but they discuss trusted\n        // proxy forwarding so we try to parse it like normal. See\n        // https://vercel.com/docs/edge-network/headers/request-headers#custom-x-forwarded-for-ip\n        const xForwardedFor = getHeader(request.headers, \"x-forwarded-for\");\n        const xForwardedForItems = parseXForwardedFor(xForwardedFor);\n        // As per MDN X-Forwarded-For Headers documentation at\n        // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\n        // We may find more than one IP in the `x-forwarded-for` header. Since the\n        // first IP will be closest to the user (and the most likely to be spoofed),\n        // we want to iterate tail-to-head so we reverse the list.\n        for (const item of xForwardedForItems.reverse()) {\n            if (isGlobalIP(item, proxies)) {\n                return item;\n            }\n        }\n        // If we are using a platform check and don't have a Global IP, we exit\n        // early with an empty IP since the more generic headers shouldn't be\n        // trusted over the platform-specific headers.\n        return \"\";\n    }\n    if (platform === \"render\") {\n        // True-Client-IP: https://community.render.com/t/what-number-of-proxies-sit-in-front-of-an-express-app-deployed-on-render/35981/2\n        const trueClientIP = getHeader(request.headers, \"true-client-ip\");\n        if (isGlobalIP(trueClientIP, proxies)) {\n            return trueClientIP;\n        }\n        // If we are using a platform check and don't have a Global IP, we exit\n        // early with an empty IP since the more generic headers shouldn't be\n        // trusted over the platform-specific headers.\n        return \"\";\n    }\n    // Standard headers used by Amazon EC2, Heroku, and others.\n    const xClientIP = getHeader(request.headers, \"x-client-ip\");\n    if (isGlobalIP(xClientIP, proxies)) {\n        return xClientIP;\n    }\n    // Load-balancers (AWS ELB) or proxies.\n    const xForwardedFor = getHeader(request.headers, \"x-forwarded-for\");\n    const xForwardedForItems = parseXForwardedFor(xForwardedFor);\n    // As per MDN X-Forwarded-For Headers documentation at\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\n    // We may find more than one IP in the `x-forwarded-for` header. Since the\n    // first IP will be closest to the user (and the most likely to be spoofed),\n    // we want to iterate tail-to-head so we reverse the list.\n    for (const item of xForwardedForItems.reverse()) {\n        if (isGlobalIP(item, proxies)) {\n            return item;\n        }\n    }\n    // DigitalOcean.\n    // DO-Connecting-IP: https://www.digitalocean.com/community/questions/app-platform-client-ip\n    const doConnectingIP = getHeader(request.headers, \"do-connecting-ip\");\n    if (isGlobalIP(doConnectingIP, proxies)) {\n        return doConnectingIP;\n    }\n    // Fastly and Firebase hosting header (When forwared to cloud function)\n    // Fastly-Client-IP\n    const fastlyClientIP = getHeader(request.headers, \"fastly-client-ip\");\n    if (isGlobalIP(fastlyClientIP, proxies)) {\n        return fastlyClientIP;\n    }\n    // Akamai\n    // True-Client-IP\n    const trueClientIP = getHeader(request.headers, \"true-client-ip\");\n    if (isGlobalIP(trueClientIP, proxies)) {\n        return trueClientIP;\n    }\n    // Default nginx proxy/fcgi; alternative to x-forwarded-for, used by some proxies\n    // X-Real-IP\n    const xRealIP = getHeader(request.headers, \"x-real-ip\");\n    if (isGlobalIP(xRealIP, proxies)) {\n        return xRealIP;\n    }\n    // Rackspace LB and Riverbed's Stingray?\n    const xClusterClientIP = getHeader(request.headers, \"x-cluster-client-ip\");\n    if (isGlobalIP(xClusterClientIP, proxies)) {\n        return xClusterClientIP;\n    }\n    const xForwarded = getHeader(request.headers, \"x-forwarded\");\n    if (isGlobalIP(xForwarded, proxies)) {\n        return xForwarded;\n    }\n    const forwardedFor = getHeader(request.headers, \"forwarded-for\");\n    if (isGlobalIP(forwardedFor, proxies)) {\n        return forwardedFor;\n    }\n    const forwarded = getHeader(request.headers, \"forwarded\");\n    if (isGlobalIP(forwarded, proxies)) {\n        return forwarded;\n    }\n    // Google Cloud App Engine\n    // X-Appengine-User-IP: https://cloud.google.com/appengine/docs/standard/reference/request-headers?tab=node.js\n    const xAppEngineUserIP = getHeader(request.headers, \"x-appengine-user-ip\");\n    if (isGlobalIP(xAppEngineUserIP, proxies)) {\n        return xAppEngineUserIP;\n    }\n    return \"\";\n}\n\nexport { findIP as default, parseProxy };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8067, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/env/index.js"],"sourcesContent":["function platform(env) {\n    if (typeof env[\"FLY_APP_NAME\"] === \"string\" && env[\"FLY_APP_NAME\"] !== \"\") {\n        return \"fly-io\";\n    }\n    if (typeof env[\"VERCEL\"] === \"string\" && env[\"VERCEL\"] === \"1\") {\n        return \"vercel\";\n    }\n    // https://render.com/docs/environment-variables\n    if (typeof env[\"RENDER\"] === \"string\" && env[\"RENDER\"] === \"true\") {\n        return \"render\";\n    }\n}\nfunction isDevelopment(env) {\n    return (env.NODE_ENV === \"development\" ||\n        env.MODE === \"development\" ||\n        env.ARCJET_ENV === \"development\");\n}\nfunction logLevel(env) {\n    const level = env[\"ARCJET_LOG_LEVEL\"];\n    switch (level) {\n        case \"debug\":\n        case \"info\":\n        case \"warn\":\n        case \"error\":\n            return level;\n        default:\n            // Default to warn if not set\n            return \"warn\";\n    }\n}\nconst baseUrlAllowed = [\n    \"https://decide.arcjet.com\",\n    \"https://decide.arcjettest.com\",\n    \"https://fly.decide.arcjet.com\",\n    \"https://fly.decide.arcjettest.com\",\n    \"https://decide.arcjet.orb.local:4082\",\n];\nfunction baseUrl(env) {\n    // TODO(#90): Remove this conditional before 1.0.0\n    if (isDevelopment(env)) {\n        if (env[\"ARCJET_BASE_URL\"]) {\n            return env[\"ARCJET_BASE_URL\"];\n        }\n        // If we're running on fly.io, use the Arcjet Decide Service hosted on fly\n        // Ref: https://fly.io/docs/machines/runtime-environment/#environment-variables\n        if (platform(env) === \"fly-io\") {\n            return \"https://fly.decide.arcjet.com\";\n        }\n        return \"https://decide.arcjet.com\";\n    }\n    else {\n        // Use ARCJET_BASE_URL if it is set and belongs to our allowlist; otherwise\n        // use the hardcoded default.\n        if (typeof env[\"ARCJET_BASE_URL\"] === \"string\" &&\n            baseUrlAllowed.includes(env[\"ARCJET_BASE_URL\"])) {\n            return env[\"ARCJET_BASE_URL\"];\n        }\n        // If we're running on fly.io, use the Arcjet Decide Service hosted on fly\n        // Ref: https://fly.io/docs/machines/runtime-environment/#environment-variables\n        if (platform(env) === \"fly-io\") {\n            return \"https://fly.decide.arcjet.com\";\n        }\n        return \"https://decide.arcjet.com\";\n    }\n}\nfunction apiKey(env) {\n    const key = env[\"ARCJET_KEY\"];\n    if (typeof key === \"string\" && key.startsWith(\"ajkey_\")) {\n        return key;\n    }\n}\n\nexport { apiKey, baseUrl, isDevelopment, logLevel, platform };\n"],"names":[],"mappings":";;;;;;;AAAA,SAAS,SAAS,GAAG;IACjB,IAAI,OAAO,GAAG,CAAC,eAAe,KAAK,YAAY,GAAG,CAAC,eAAe,KAAK,IAAI;QACvE,OAAO;IACX;IACA,IAAI,OAAO,GAAG,CAAC,SAAS,KAAK,YAAY,GAAG,CAAC,SAAS,KAAK,KAAK;QAC5D,OAAO;IACX;IACA,gDAAgD;IAChD,IAAI,OAAO,GAAG,CAAC,SAAS,KAAK,YAAY,GAAG,CAAC,SAAS,KAAK,QAAQ;QAC/D,OAAO;IACX;AACJ;AACA,SAAS,cAAc,GAAG;IACtB,OAAQ,IAAI,QAAQ,KAAK,iBACrB,IAAI,IAAI,KAAK,iBACb,IAAI,UAAU,KAAK;AAC3B;AACA,SAAS,SAAS,GAAG;IACjB,MAAM,QAAQ,GAAG,CAAC,mBAAmB;IACrC,OAAQ;QACJ,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACD,OAAO;QACX;YACI,6BAA6B;YAC7B,OAAO;IACf;AACJ;AACA,MAAM,iBAAiB;IACnB;IACA;IACA;IACA;IACA;CACH;AACD,SAAS,QAAQ,GAAG;IAChB,kDAAkD;IAClD,IAAI,cAAc,MAAM;QACpB,IAAI,GAAG,CAAC,kBAAkB,EAAE;YACxB,OAAO,GAAG,CAAC,kBAAkB;QACjC;QACA,0EAA0E;QAC1E,+EAA+E;QAC/E,IAAI,SAAS,SAAS,UAAU;YAC5B,OAAO;QACX;QACA,OAAO;IACX,OACK;QACD,2EAA2E;QAC3E,6BAA6B;QAC7B,IAAI,OAAO,GAAG,CAAC,kBAAkB,KAAK,YAClC,eAAe,QAAQ,CAAC,GAAG,CAAC,kBAAkB,GAAG;YACjD,OAAO,GAAG,CAAC,kBAAkB;QACjC;QACA,0EAA0E;QAC1E,+EAA+E;QAC/E,IAAI,SAAS,SAAS,UAAU;YAC5B,OAAO;QACX;QACA,OAAO;IACX;AACJ;AACA,SAAS,OAAO,GAAG;IACf,MAAM,MAAM,GAAG,CAAC,aAAa;IAC7B,IAAI,OAAO,QAAQ,YAAY,IAAI,UAAU,CAAC,WAAW;QACrD,OAAO;IACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 8148, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/sprintf/index.js"],"sourcesContent":["function bigintReplacer(key, value) {\n    if (typeof value === \"bigint\") {\n        return \"[BigInt]\";\n    }\n    return value;\n}\n// TODO: Deduplicate this and logger implementation\nfunction tryStringify(o) {\n    try {\n        return JSON.stringify(o, bigintReplacer);\n    }\n    catch {\n        return `\"[Circular]\"`;\n    }\n}\nconst PERCENT_CODE = 37; /* % */\nconst LOWERCASE_D_CODE = 100; /* d */\nconst LOWERCASE_F_CODE = 102; /* f */\nconst LOWERCASE_I_CODE = 105; /* i */\nconst UPPERCASE_O_CODE = 79; /* O */\nconst LOWERCASE_O_CODE = 111; /* o */\nconst LOWERCASE_J_CODE = 106; /* j */\nconst LOWERCASE_S_CODE = 115; /* s */\n// Heavily based on https://github.com/pinojs/quick-format-unescaped\n//\n// The MIT License (MIT)\n//\n// Copyright (c) 2016-2019 David Mark Clements\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\nfunction sprintf(str, ...args) {\n    if (typeof str !== \"string\") {\n        throw new TypeError(\"First argument must be a string\");\n    }\n    const argsLength = args.length;\n    if (argsLength === 0) {\n        return str;\n    }\n    let output = \"\";\n    let argIdx = 0;\n    let lastPosition = -1;\n    const strLength = str.length;\n    for (let i = 0; i < strLength;) {\n        if (str.charCodeAt(i) === PERCENT_CODE && i + 1 < strLength) {\n            lastPosition = lastPosition > -1 ? lastPosition : 0;\n            switch (str.charCodeAt(i + 1)) {\n                case LOWERCASE_D_CODE:\n                case LOWERCASE_F_CODE: {\n                    if (argIdx >= argsLength) {\n                        break;\n                    }\n                    const arg = args[argIdx];\n                    if (typeof arg !== \"number\") {\n                        break;\n                    }\n                    if (lastPosition < i) {\n                        output += str.slice(lastPosition, i);\n                    }\n                    output += arg;\n                    lastPosition = i + 2;\n                    i++;\n                    break;\n                }\n                case LOWERCASE_I_CODE: {\n                    if (argIdx >= argsLength) {\n                        break;\n                    }\n                    const arg = args[argIdx];\n                    if (typeof arg !== \"number\") {\n                        break;\n                    }\n                    if (lastPosition < i) {\n                        output += str.slice(lastPosition, i);\n                    }\n                    output += Math.floor(arg);\n                    lastPosition = i + 2;\n                    i++;\n                    break;\n                }\n                case UPPERCASE_O_CODE:\n                case LOWERCASE_O_CODE:\n                case LOWERCASE_J_CODE: {\n                    if (argIdx >= argsLength) {\n                        break;\n                    }\n                    const arg = args[argIdx];\n                    if (arg === undefined) {\n                        break;\n                    }\n                    if (lastPosition < i) {\n                        output += str.slice(lastPosition, i);\n                    }\n                    if (typeof arg === \"string\") {\n                        output += `'${arg}'`;\n                        lastPosition = i + 2;\n                        i++;\n                        break;\n                    }\n                    if (typeof arg === \"bigint\") {\n                        output += `\"[BigInt]\"`;\n                        lastPosition = i + 2;\n                        i++;\n                        break;\n                    }\n                    if (typeof arg === \"function\") {\n                        output += arg.name || \"<anonymous>\";\n                        lastPosition = i + 2;\n                        i++;\n                        break;\n                    }\n                    output += tryStringify(arg);\n                    lastPosition = i + 2;\n                    i++;\n                    break;\n                }\n                case LOWERCASE_S_CODE: {\n                    if (argIdx >= argsLength) {\n                        break;\n                    }\n                    const arg = args[argIdx];\n                    if (typeof arg !== \"string\") {\n                        break;\n                    }\n                    if (lastPosition < i) {\n                        output += str.slice(lastPosition, i);\n                    }\n                    output += arg;\n                    lastPosition = i + 2;\n                    i++;\n                    break;\n                }\n                case PERCENT_CODE: {\n                    if (lastPosition < i) {\n                        output += str.slice(lastPosition, i);\n                    }\n                    output += \"%\";\n                    lastPosition = i + 2;\n                    i++;\n                    argIdx--;\n                    break;\n                }\n            }\n            ++argIdx;\n        }\n        ++i;\n    }\n    if (lastPosition === -1) {\n        return str;\n    }\n    if (lastPosition < strLength) {\n        output += str.slice(lastPosition);\n    }\n    return output;\n}\n\nexport { sprintf as default };\n"],"names":[],"mappings":";;;AAAA,SAAS,eAAe,GAAG,EAAE,KAAK;IAC9B,IAAI,OAAO,UAAU,UAAU;QAC3B,OAAO;IACX;IACA,OAAO;AACX;AACA,mDAAmD;AACnD,SAAS,aAAa,CAAC;IACnB,IAAI;QACA,OAAO,KAAK,SAAS,CAAC,GAAG;IAC7B,EACA,OAAM;QACF,OAAO,CAAC,YAAY,CAAC;IACzB;AACJ;AACA,MAAM,eAAe,IAAI,KAAK;AAC9B,MAAM,mBAAmB,KAAK,KAAK;AACnC,MAAM,mBAAmB,KAAK,KAAK;AACnC,MAAM,mBAAmB,KAAK,KAAK;AACnC,MAAM,mBAAmB,IAAI,KAAK;AAClC,MAAM,mBAAmB,KAAK,KAAK;AACnC,MAAM,mBAAmB,KAAK,KAAK;AACnC,MAAM,mBAAmB,KAAK,KAAK;AACnC,oEAAoE;AACpE,EAAE;AACF,wBAAwB;AACxB,EAAE;AACF,8CAA8C;AAC9C,EAAE;AACF,+EAA+E;AAC/E,gFAAgF;AAChF,+EAA+E;AAC/E,4EAA4E;AAC5E,wEAAwE;AACxE,2DAA2D;AAC3D,EAAE;AACF,6EAA6E;AAC7E,sDAAsD;AACtD,EAAE;AACF,6EAA6E;AAC7E,2EAA2E;AAC3E,8EAA8E;AAC9E,yEAAyE;AACzE,gFAAgF;AAChF,gFAAgF;AAChF,YAAY;AACZ,SAAS,QAAQ,GAAG,EAAE,GAAG,IAAI;IACzB,IAAI,OAAO,QAAQ,UAAU;QACzB,MAAM,IAAI,UAAU;IACxB;IACA,MAAM,aAAa,KAAK,MAAM;IAC9B,IAAI,eAAe,GAAG;QAClB,OAAO;IACX;IACA,IAAI,SAAS;IACb,IAAI,SAAS;IACb,IAAI,eAAe,CAAC;IACpB,MAAM,YAAY,IAAI,MAAM;IAC5B,IAAK,IAAI,IAAI,GAAG,IAAI,WAAY;QAC5B,IAAI,IAAI,UAAU,CAAC,OAAO,gBAAgB,IAAI,IAAI,WAAW;YACzD,eAAe,eAAe,CAAC,IAAI,eAAe;YAClD,OAAQ,IAAI,UAAU,CAAC,IAAI;gBACvB,KAAK;gBACL,KAAK;oBAAkB;wBACnB,IAAI,UAAU,YAAY;4BACtB;wBACJ;wBACA,MAAM,MAAM,IAAI,CAAC,OAAO;wBACxB,IAAI,OAAO,QAAQ,UAAU;4BACzB;wBACJ;wBACA,IAAI,eAAe,GAAG;4BAClB,UAAU,IAAI,KAAK,CAAC,cAAc;wBACtC;wBACA,UAAU;wBACV,eAAe,IAAI;wBACnB;wBACA;oBACJ;gBACA,KAAK;oBAAkB;wBACnB,IAAI,UAAU,YAAY;4BACtB;wBACJ;wBACA,MAAM,MAAM,IAAI,CAAC,OAAO;wBACxB,IAAI,OAAO,QAAQ,UAAU;4BACzB;wBACJ;wBACA,IAAI,eAAe,GAAG;4BAClB,UAAU,IAAI,KAAK,CAAC,cAAc;wBACtC;wBACA,UAAU,KAAK,KAAK,CAAC;wBACrB,eAAe,IAAI;wBACnB;wBACA;oBACJ;gBACA,KAAK;gBACL,KAAK;gBACL,KAAK;oBAAkB;wBACnB,IAAI,UAAU,YAAY;4BACtB;wBACJ;wBACA,MAAM,MAAM,IAAI,CAAC,OAAO;wBACxB,IAAI,QAAQ,WAAW;4BACnB;wBACJ;wBACA,IAAI,eAAe,GAAG;4BAClB,UAAU,IAAI,KAAK,CAAC,cAAc;wBACtC;wBACA,IAAI,OAAO,QAAQ,UAAU;4BACzB,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;4BACpB,eAAe,IAAI;4BACnB;4BACA;wBACJ;wBACA,IAAI,OAAO,QAAQ,UAAU;4BACzB,UAAU,CAAC,UAAU,CAAC;4BACtB,eAAe,IAAI;4BACnB;4BACA;wBACJ;wBACA,IAAI,OAAO,QAAQ,YAAY;4BAC3B,UAAU,IAAI,IAAI,IAAI;4BACtB,eAAe,IAAI;4BACnB;4BACA;wBACJ;wBACA,UAAU,aAAa;wBACvB,eAAe,IAAI;wBACnB;wBACA;oBACJ;gBACA,KAAK;oBAAkB;wBACnB,IAAI,UAAU,YAAY;4BACtB;wBACJ;wBACA,MAAM,MAAM,IAAI,CAAC,OAAO;wBACxB,IAAI,OAAO,QAAQ,UAAU;4BACzB;wBACJ;wBACA,IAAI,eAAe,GAAG;4BAClB,UAAU,IAAI,KAAK,CAAC,cAAc;wBACtC;wBACA,UAAU;wBACV,eAAe,IAAI;wBACnB;wBACA;oBACJ;gBACA,KAAK;oBAAc;wBACf,IAAI,eAAe,GAAG;4BAClB,UAAU,IAAI,KAAK,CAAC,cAAc;wBACtC;wBACA,UAAU;wBACV,eAAe,IAAI;wBACnB;wBACA;wBACA;oBACJ;YACJ;YACA,EAAE;QACN;QACA,EAAE;IACN;IACA,IAAI,iBAAiB,CAAC,GAAG;QACrB,OAAO;IACX;IACA,IAAI,eAAe,WAAW;QAC1B,UAAU,IAAI,KAAK,CAAC;IACxB;IACA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 8332, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/logger/index.js"],"sourcesContent":["import format from '@arcjet/sprintf';\n\nfunction bigintReplacer(key, value) {\n    if (typeof value === \"bigint\") {\n        return \"[BigInt]\";\n    }\n    return value;\n}\n// TODO: Deduplicate this and sprintf implementation\nfunction tryStringify(o) {\n    try {\n        return JSON.stringify(o, bigintReplacer);\n    }\n    catch {\n        return \"[Circular]\";\n    }\n}\nconst PREFIX = \"✦Aj\";\nfunction getMessage(obj, msg, args) {\n    // The first argument was the message so juggle the args\n    if (typeof obj === \"string\") {\n        args = [msg, ...args];\n        msg = obj;\n    }\n    // Prefer a string message over `obj.msg`, as per Pino:\n    // https://github.com/pinojs/pino/blob/8db130eba0439e61c802448d31eb1998cebfbc98/docs/api.md#message-string\n    if (typeof msg === \"string\") {\n        return format(msg, ...args);\n    }\n    if (typeof obj === \"object\" &&\n        obj !== null &&\n        \"msg\" in obj &&\n        typeof obj.msg === \"string\") {\n        return format(obj.msg, [msg, ...args]);\n    }\n}\nfunction getOutput(obj, msg, args) {\n    let output = getMessage(obj, msg, args);\n    if (typeof output !== \"string\") {\n        return;\n    }\n    if (typeof obj === \"object\" && obj !== null) {\n        for (const [key, value] of Object.entries(obj)) {\n            output += `\\n      ${key}: ${tryStringify(value)}`;\n        }\n    }\n    return output;\n}\nclass Logger {\n    #logLevel;\n    constructor(opts) {\n        if (typeof opts.level !== \"string\") {\n            throw new Error(`Invalid log level`);\n        }\n        switch (opts.level) {\n            case \"debug\":\n                this.#logLevel = 0;\n                break;\n            case \"info\":\n                this.#logLevel = 1;\n                break;\n            case \"warn\":\n                this.#logLevel = 2;\n                break;\n            case \"error\":\n                this.#logLevel = 3;\n                break;\n            default: {\n                throw new Error(`Unknown log level: ${opts.level}`);\n            }\n        }\n    }\n    debug(obj, msg, ...args) {\n        if (this.#logLevel <= 0) {\n            const output = getOutput(obj, msg, args);\n            if (typeof output !== \"undefined\") {\n                console.debug(`${PREFIX} DEBUG ${output}`);\n            }\n        }\n    }\n    info(obj, msg, ...args) {\n        if (this.#logLevel <= 1) {\n            const output = getOutput(obj, msg, args);\n            if (typeof output !== \"undefined\") {\n                console.info(`${PREFIX} INFO ${output}`);\n            }\n        }\n    }\n    warn(obj, msg, ...args) {\n        if (this.#logLevel <= 2) {\n            const output = getOutput(obj, msg, args);\n            if (typeof output !== \"undefined\") {\n                console.warn(`${PREFIX} WARN ${output}`);\n            }\n        }\n    }\n    error(obj, msg, ...args) {\n        if (this.#logLevel <= 3) {\n            const output = getOutput(obj, msg, args);\n            if (typeof output !== \"undefined\") {\n                console.error(`${PREFIX} ERROR ${output}`);\n            }\n        }\n    }\n}\n\nexport { Logger };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8450, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@connectrpc/connect-web/dist/esm/assert-fetch-api.js"],"sourcesContent":["// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Asserts that the fetch API is available.\n */\nexport function assertFetchApi() {\n    try {\n        new Headers();\n    }\n    catch (_) {\n        throw new Error(\"connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.\");\n    }\n}\n"],"names":[],"mappings":"AAAA,0CAA0C;AAC1C,EAAE;AACF,kEAAkE;AAClE,mEAAmE;AACnE,0CAA0C;AAC1C,EAAE;AACF,kDAAkD;AAClD,EAAE;AACF,sEAAsE;AACtE,oEAAoE;AACpE,2EAA2E;AAC3E,sEAAsE;AACtE,iCAAiC;AACjC;;CAEC;;;AACM,SAAS;IACZ,IAAI;QACA,IAAI;IACR,EACA,OAAO,GAAG;QACN,MAAM,IAAI,MAAM;IACpB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 8481, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@connectrpc/connect-web/dist/esm/connect-transport.js"],"sourcesContent":["// Copyright 2021-2024 The Connect Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { Message, MethodIdempotency, MethodKind } from \"@bufbuild/protobuf\";\nimport { Code, ConnectError, appendHeaders, createContextValues, } from \"@connectrpc/connect\";\nimport { createClientMethodSerializers, createEnvelopeReadableStream, createMethodUrl, getJsonOptions, encodeEnvelope, runStreamingCall, runUnaryCall, compressedFlag, } from \"@connectrpc/connect/protocol\";\nimport { endStreamFlag, endStreamFromJson, errorFromJson, requestHeader, trailerDemux, transformConnectPostToGetRequest, validateResponse, } from \"@connectrpc/connect/protocol-connect\";\nimport { assertFetchApi } from \"./assert-fetch-api.js\";\n/**\n * Create a Transport for the Connect protocol, which makes unary and\n * server-streaming methods available to web browsers. It uses the fetch\n * API to make HTTP requests.\n */\nexport function createConnectTransport(options) {\n    var _a;\n    assertFetchApi();\n    const useBinaryFormat = (_a = options.useBinaryFormat) !== null && _a !== void 0 ? _a : false;\n    return {\n        async unary(service, method, signal, timeoutMs, header, message, contextValues) {\n            var _a;\n            const { serialize, parse } = createClientMethodSerializers(method, useBinaryFormat, options.jsonOptions, options.binaryOptions);\n            timeoutMs =\n                timeoutMs === undefined\n                    ? options.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return await runUnaryCall({\n                interceptors: options.interceptors,\n                signal,\n                timeoutMs,\n                req: {\n                    stream: false,\n                    service,\n                    method,\n                    url: createMethodUrl(options.baseUrl, service, method),\n                    init: {\n                        method: \"POST\",\n                        credentials: (_a = options.credentials) !== null && _a !== void 0 ? _a : \"same-origin\",\n                        redirect: \"error\",\n                        mode: \"cors\",\n                    },\n                    header: requestHeader(method.kind, useBinaryFormat, timeoutMs, header, false),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : createContextValues(),\n                    message,\n                },\n                next: async (req) => {\n                    var _a;\n                    const useGet = options.useHttpGet === true &&\n                        method.idempotency === MethodIdempotency.NoSideEffects;\n                    let body = null;\n                    if (useGet) {\n                        req = transformConnectPostToGetRequest(req, serialize(req.message), useBinaryFormat);\n                    }\n                    else {\n                        body = serialize(req.message);\n                    }\n                    const fetch = (_a = options.fetch) !== null && _a !== void 0 ? _a : globalThis.fetch;\n                    const response = await fetch(req.url, Object.assign(Object.assign({}, req.init), { headers: req.header, signal: req.signal, body }));\n                    const { isUnaryError, unaryError } = validateResponse(method.kind, useBinaryFormat, response.status, response.headers);\n                    if (isUnaryError) {\n                        throw errorFromJson((await response.json()), appendHeaders(...trailerDemux(response.headers)), unaryError);\n                    }\n                    const [demuxedHeader, demuxedTrailer] = trailerDemux(response.headers);\n                    return {\n                        stream: false,\n                        service,\n                        method,\n                        header: demuxedHeader,\n                        message: useBinaryFormat\n                            ? parse(new Uint8Array(await response.arrayBuffer()))\n                            : method.O.fromJson((await response.json()), getJsonOptions(options.jsonOptions)),\n                        trailer: demuxedTrailer,\n                    };\n                },\n            });\n        },\n        async stream(service, method, signal, timeoutMs, header, input, contextValues) {\n            var _a;\n            const { serialize, parse } = createClientMethodSerializers(method, useBinaryFormat, options.jsonOptions, options.binaryOptions);\n            function parseResponseBody(body, trailerTarget, header, signal) {\n                return __asyncGenerator(this, arguments, function* parseResponseBody_1() {\n                    const reader = createEnvelopeReadableStream(body).getReader();\n                    let endStreamReceived = false;\n                    for (;;) {\n                        const result = yield __await(reader.read());\n                        if (result.done) {\n                            break;\n                        }\n                        const { flags, data } = result.value;\n                        if ((flags & compressedFlag) === compressedFlag) {\n                            throw new ConnectError(`protocol error: received unsupported compressed output`, Code.Internal);\n                        }\n                        if ((flags & endStreamFlag) === endStreamFlag) {\n                            endStreamReceived = true;\n                            const endStream = endStreamFromJson(data);\n                            if (endStream.error) {\n                                const error = endStream.error;\n                                header.forEach((value, key) => {\n                                    error.metadata.append(key, value);\n                                });\n                                throw error;\n                            }\n                            endStream.metadata.forEach((value, key) => trailerTarget.set(key, value));\n                            continue;\n                        }\n                        yield yield __await(parse(data));\n                    }\n                    // Node wil not throw an AbortError on `read` if the\n                    // signal is aborted before `getReader` is called.\n                    // As a work around we check at the end and throw.\n                    //\n                    // Ref: https://github.com/nodejs/undici/issues/1940\n                    if (\"throwIfAborted\" in signal) {\n                        // We assume that implementations without `throwIfAborted` (old\n                        // browsers) do honor aborted signals on `read`.\n                        signal.throwIfAborted();\n                    }\n                    if (!endStreamReceived) {\n                        throw \"missing EndStreamResponse\";\n                    }\n                });\n            }\n            async function createRequestBody(input) {\n                if (method.kind != MethodKind.ServerStreaming) {\n                    throw \"The fetch API does not support streaming request bodies\";\n                }\n                const r = await input[Symbol.asyncIterator]().next();\n                if (r.done == true) {\n                    throw \"missing request message\";\n                }\n                return encodeEnvelope(0, serialize(r.value));\n            }\n            timeoutMs =\n                timeoutMs === undefined\n                    ? options.defaultTimeoutMs\n                    : timeoutMs <= 0\n                        ? undefined\n                        : timeoutMs;\n            return await runStreamingCall({\n                interceptors: options.interceptors,\n                timeoutMs,\n                signal,\n                req: {\n                    stream: true,\n                    service,\n                    method,\n                    url: createMethodUrl(options.baseUrl, service, method),\n                    init: {\n                        method: \"POST\",\n                        credentials: (_a = options.credentials) !== null && _a !== void 0 ? _a : \"same-origin\",\n                        redirect: \"error\",\n                        mode: \"cors\",\n                    },\n                    header: requestHeader(method.kind, useBinaryFormat, timeoutMs, header, false),\n                    contextValues: contextValues !== null && contextValues !== void 0 ? contextValues : createContextValues(),\n                    message: input,\n                },\n                next: async (req) => {\n                    var _a;\n                    const fetch = (_a = options.fetch) !== null && _a !== void 0 ? _a : globalThis.fetch;\n                    const fRes = await fetch(req.url, Object.assign(Object.assign({}, req.init), { headers: req.header, signal: req.signal, body: await createRequestBody(req.message) }));\n                    validateResponse(method.kind, useBinaryFormat, fRes.status, fRes.headers);\n                    if (fRes.body === null) {\n                        throw \"missing response body\";\n                    }\n                    const trailer = new Headers();\n                    const res = Object.assign(Object.assign({}, req), { header: fRes.headers, trailer, message: parseResponseBody(fRes.body, trailer, fRes.headers, req.signal) });\n                    return res;\n                },\n            });\n        },\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8734, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/transport/edge-light.js"],"sourcesContent":["import { createConnectTransport } from '@connectrpc/connect-web';\n\nfunction createTransport(baseUrl) {\n    // The Connect Node client doesn't work on edge runtimes: https://github.com/bufbuild/connect-es/pull/589\n    // so set the transport using connect-web. The interceptor is required for it work in the edge runtime.\n    return createConnectTransport({\n        baseUrl,\n        interceptors: [\n            /**\n             * Ensures redirects are followed to properly support the Next.js/Vercel Edge\n             * Runtime.\n             * @see\n             * https://github.com/connectrpc/connect-es/issues/749#issuecomment-1693507516\n             */\n            (next) => (req) => {\n                req.init.redirect = \"follow\";\n                return next(req);\n            },\n        ],\n        fetch,\n    });\n}\n\nexport { createTransport };\n"],"names":[],"mappings":";;;AAAA;;AAEA,SAAS,gBAAgB,OAAO;IAC5B,yGAAyG;IACzG,uGAAuG;IACvG,OAAO,CAAA,GAAA,6LAAA,CAAA,yBAAsB,AAAD,EAAE;QAC1B;QACA,cAAc;YACV;;;;;aAKC,GACD,CAAC,OAAS,CAAC;oBACP,IAAI,IAAI,CAAC,QAAQ,GAAG;oBACpB,OAAO,KAAK;gBAChB;SACH;QACD;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 8765, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/node_modules/@arcjet/next/index.js"],"sourcesContent":["import { NextResponse } from 'next/server.js';\nimport { headers, cookies } from 'next/headers.js';\nimport core__default from 'arcjet';\nexport * from 'arcjet';\nimport findIP, { parseProxy } from '@arcjet/ip';\nimport ArcjetHeaders from '@arcjet/headers';\nimport { logLevel, isDevelopment, baseUrl, platform } from '@arcjet/env';\nimport { Logger } from '@arcjet/logger';\nimport { createClient } from '@arcjet/protocol/client.js';\nimport { createTransport } from '@arcjet/transport';\n\nasync function request() {\n    const hdrs = await headers();\n    const cook = await cookies();\n    const cookieEntries = cook\n        .getAll()\n        .map((cookie) => [cookie.name, cookie.value]);\n    return {\n        headers: hdrs,\n        cookies: Object.fromEntries(cookieEntries),\n    };\n}\n// TODO: Deduplicate with other packages\nfunction errorMessage(err) {\n    if (err) {\n        if (typeof err === \"string\") {\n            return err;\n        }\n        if (typeof err === \"object\" &&\n            \"message\" in err &&\n            typeof err.message === \"string\") {\n            return err.message;\n        }\n    }\n    return \"Unknown problem\";\n}\nfunction createRemoteClient(options) {\n    // The base URL for the Arcjet API. Will default to the standard production\n    // API unless environment variable `ARCJET_BASE_URL` is set.\n    const url = options?.baseUrl ?? baseUrl(process.env);\n    // The timeout for the Arcjet API in milliseconds. This is set to a low value\n    // in production so calls fail open.\n    const timeout = options?.timeout ?? (isDevelopment(process.env) ? 1000 : 500);\n    // Transport is the HTTP client that the client uses to make requests.\n    const transport = createTransport(url);\n    const sdkStack = \"NEXTJS\";\n    const sdkVersion = \"1.0.0-beta.7\";\n    return createClient({\n        transport,\n        baseUrl: url,\n        timeout,\n        sdkStack,\n        sdkVersion,\n    });\n}\nfunction isIterable(val) {\n    return typeof val?.[Symbol.iterator] === \"function\";\n}\nfunction cookiesToArray(cookies) {\n    if (typeof cookies === \"undefined\") {\n        return [];\n    }\n    if (isIterable(cookies)) {\n        return Array.from(cookies).map(([_, cookie]) => cookie);\n    }\n    else {\n        return Object.entries(cookies).map(([name, value]) => ({\n            name,\n            value: value ?? \"\",\n        }));\n    }\n}\nfunction cookiesToString(cookies) {\n    // This is essentially the implementation of `RequestCookies#toString` in\n    // Next.js but normalized for NextApiRequest cookies object\n    return cookiesToArray(cookies)\n        .map((v) => `${v.name}=${encodeURIComponent(v.value)}`)\n        .join(\"; \");\n}\n/**\n * Create a new {@link ArcjetNext} client. Always build your initial client\n * outside of a request handler so it persists across requests. If you need to\n * augment a client inside a handler, call the `withRule()` function on the base\n * client.\n *\n * @param options - Arcjet configuration options to apply to all requests.\n */\nfunction arcjet(options) {\n    const client = options.client ?? createRemoteClient();\n    const log = options.log\n        ? options.log\n        : new Logger({\n            level: logLevel(process.env),\n        });\n    const proxies = Array.isArray(options.proxies)\n        ? options.proxies.map(parseProxy)\n        : undefined;\n    if (isDevelopment(process.env)) {\n        log.warn(\"Arcjet will use 127.0.0.1 when missing public IP address in development mode\");\n    }\n    function toArcjetRequest(request, props) {\n        // We construct an ArcjetHeaders to normalize over Headers\n        const headers = new ArcjetHeaders(request.headers);\n        let ip = findIP({\n            ip: request.ip,\n            socket: request.socket,\n            info: request.info,\n            requestContext: request.requestContext,\n            headers,\n        }, { platform: platform(process.env), proxies });\n        if (ip === \"\") {\n            // If the `ip` is empty but we're in development mode, we default the IP\n            // so the request doesn't fail.\n            if (isDevelopment(process.env)) {\n                ip = \"127.0.0.1\";\n            }\n            else {\n                log.warn(`Client IP address is missing. If this is a dev environment set the ARCJET_ENV env var to \"development\"`);\n            }\n        }\n        const method = request.method ?? \"\";\n        const host = headers.get(\"host\") ?? \"\";\n        let path = \"\";\n        let query = \"\";\n        let protocol = \"\";\n        // TODO(#36): nextUrl has formatting logic when you `toString` but\n        // we don't account for that here\n        if (typeof request.nextUrl !== \"undefined\") {\n            path = request.nextUrl.pathname ?? \"\";\n            if (typeof request.nextUrl.search !== \"undefined\") {\n                query = request.nextUrl.search;\n            }\n            if (typeof request.nextUrl.protocol !== \"undefined\") {\n                protocol = request.nextUrl.protocol;\n            }\n        }\n        else {\n            if (typeof request.socket?.encrypted !== \"undefined\") {\n                protocol = request.socket.encrypted ? \"https:\" : \"http:\";\n            }\n            else {\n                protocol = \"http:\";\n            }\n            // Do some very simple validation, but also try/catch around URL parsing\n            if (typeof request.url !== \"undefined\" &&\n                request.url !== \"\" &&\n                host !== \"\") {\n                try {\n                    const url = new URL(request.url, `${protocol}//${host}`);\n                    path = url.pathname;\n                    query = url.search;\n                    protocol = url.protocol;\n                }\n                catch {\n                    // If the parsing above fails, just set the path as whatever url we\n                    // received.\n                    path = request.url ?? \"\";\n                    log.warn('Unable to parse URL. Using \"%s\" as `path`.', path);\n                }\n            }\n            else {\n                path = request.url ?? \"\";\n            }\n        }\n        const cookies = cookiesToString(request.cookies);\n        const extra = {};\n        // If we're running on Vercel, we can add some extra information\n        if (process.env[\"VERCEL\"]) {\n            // Vercel ID https://vercel.com/docs/concepts/edge-network/headers\n            extra[\"vercel-id\"] = headers.get(\"x-vercel-id\") ?? \"\";\n            // Vercel deployment URL\n            // https://vercel.com/docs/concepts/edge-network/headers\n            extra[\"vercel-deployment-url\"] =\n                headers.get(\"x-vercel-deployment-url\") ?? \"\";\n            // Vercel git commit SHA\n            // https://vercel.com/docs/concepts/projects/environment-variables/system-environment-variables\n            extra[\"vercel-git-commit-sha\"] =\n                process.env[\"VERCEL_GIT_COMMIT_SHA\"] ?? \"\";\n            extra[\"vercel-git-commit-sha\"] =\n                process.env[\"VERCEL_GIT_COMMIT_SHA\"] ?? \"\";\n        }\n        return {\n            ...props,\n            ...extra,\n            ip,\n            method,\n            protocol,\n            host,\n            path,\n            headers,\n            cookies,\n            query,\n        };\n    }\n    function withClient(aj) {\n        return Object.freeze({\n            withRule(rule) {\n                const client = aj.withRule(rule);\n                return withClient(client);\n            },\n            async protect(request, ...[props]) {\n                // TODO(#220): The generic manipulations get really mad here, so we cast\n                // Further investigation makes it seem like it has something to do with\n                // the definition of `props` in the signature but it's hard to track down\n                const req = toArcjetRequest(request, props ?? {});\n                const getBody = async () => {\n                    try {\n                        if (typeof request.clone === \"function\") {\n                            const cloned = request.clone();\n                            // Awaited to throw if it rejects and we'll just return undefined\n                            const body = await cloned.text();\n                            return body;\n                        }\n                        else if (typeof request.body === \"string\") {\n                            return request.body;\n                        }\n                        else if (typeof request.body !== \"undefined\" &&\n                            // BigInt cannot be serialized with JSON.stringify\n                            typeof request.body !== \"bigint\" &&\n                            // The body will be null if there was no body with the request.\n                            // Reference:\n                            // https://nextjs.org/docs/pages/building-your-application/routing/api-routes#request-helpers\n                            request.body !== null) {\n                            return JSON.stringify(request.body);\n                        }\n                        else {\n                            log.warn(\"no body available\");\n                            return;\n                        }\n                    }\n                    catch (e) {\n                        log.error(\"failed to get request body: %s\", errorMessage(e));\n                        return;\n                    }\n                };\n                return aj.protect({ getBody }, req);\n            },\n        });\n    }\n    const aj = core__default({ ...options, client, log });\n    return withClient(aj);\n}\n/**\n * Protects your Next.js application using Arcjet middleware.\n *\n * @param arcjet An instantiated Arcjet SDK\n * @param middleware Any existing middleware you'd like to be called after\n * Arcjet decides a request is allowed.\n * @returns If the request is allowed, the next middleware or handler will be\n * called. If the request is denied, a `Response` will be returned immediately\n * and the no further middleware or handlers will be called.\n */\nfunction createMiddleware(arcjet, existingMiddleware) {\n    return async function middleware(request, event) {\n        const decision = await arcjet.protect(request);\n        if (decision.isDenied()) {\n            // TODO(#222): Content type negotiation using `Accept` header\n            if (decision.reason.isRateLimit()) {\n                return NextResponse.json({ code: 429, message: \"Too Many Requests\" }, { status: 429 });\n            }\n            else {\n                return NextResponse.json({ code: 403, message: \"Forbidden\" }, { status: 403 });\n            }\n        }\n        else {\n            if (typeof existingMiddleware === \"function\") {\n                return existingMiddleware(request, event);\n            }\n            else {\n                return NextResponse.next();\n            }\n        }\n    };\n}\nfunction isNextApiResponse(val) {\n    if (val === null) {\n        return false;\n    }\n    if (typeof val !== \"object\") {\n        return false;\n    }\n    if (!(\"status\" in val)) {\n        return false;\n    }\n    if (!(\"json\" in val)) {\n        return false;\n    }\n    if (typeof val.status !== \"function\" || typeof val.json !== \"function\") {\n        return false;\n    }\n    return true;\n}\n/**\n * Wraps a Next.js page route, edge middleware, or an API route running on the\n * Edge Runtime.\n *\n * @param arcjet An instantiated Arcjet SDK\n * @param handler The request handler to wrap\n * @returns If the request is allowed, the wrapped `handler` will be called. If\n * the request is denied, a `Response` will be returned based immediately and\n * the wrapped `handler` will never be called.\n */\nfunction withArcjet(arcjet, handler) {\n    return async (...args) => {\n        const request = args[0];\n        const response = args[1];\n        const decision = await arcjet.protect(request);\n        if (decision.isDenied()) {\n            if (isNextApiResponse(response)) {\n                // TODO(#222): Content type negotiation using `Accept` header\n                if (decision.reason.isRateLimit()) {\n                    return response\n                        .status(429)\n                        .json({ code: 429, message: \"Too Many Requests\" });\n                }\n                else {\n                    return response.status(403).json({ code: 403, message: \"Forbidden\" });\n                }\n            }\n            else {\n                // TODO(#222): Content type negotiation using `Accept` header\n                if (decision.reason.isRateLimit()) {\n                    return NextResponse.json({ code: 429, message: \"Too Many Requests\" }, { status: 429 });\n                }\n                else {\n                    return NextResponse.json({ code: 403, message: \"Forbidden\" }, { status: 403 });\n                }\n            }\n        }\n        else {\n            return handler(...args);\n        }\n    };\n}\n\nexport { createMiddleware, createRemoteClient, arcjet as default, request, withArcjet };\n"],"names":[],"mappings":"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","ignoreList":[0]}}]
}